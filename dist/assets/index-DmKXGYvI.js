(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function xE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function PR(){if(f0)return Zl;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var d0;function VR(){return d0||(d0=1,zm.exports=PR()),zm.exports}var _=VR(),Fm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function UR(){if(m0)return Oe;m0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function U(V,ie,ge){this.props=V,this.context=ie,this.refs=$,this.updater=ge||C}U.prototype.isReactComponent={},U.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function q(){}q.prototype=U.prototype;function j(V,ie,ge){this.props=V,this.context=ie,this.refs=$,this.updater=ge||C}var K=j.prototype=new q;K.constructor=j,P(K,U.prototype),K.isPureReactComponent=!0;var J=Array.isArray,se={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function k(V,ie,ge,ae,ce,we){return ge=we.ref,{$$typeof:r,type:V,key:ie,ref:ge!==void 0?ge:null,props:we}}function R(V,ie){return k(V.type,ie,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return ie[ge]})}var N=/\/+/g;function M(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):ie.toString(36)}function x(){}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function _e(V,ie,ge,ae,ce){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(we){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case r:case e:be=!0;break;case E:return be=V._init,_e(be(V._payload),ie,ge,ae,ce)}}if(be)return ce=ce(V),be=ae===""?"."+M(V,0):ae,J(ce)?(ge="",be!=null&&(ge=be.replace(N,"$&/")+"/"),_e(ce,ie,ge,"",function(ot){return ot})):ce!=null&&(S(ce)&&(ce=R(ce,ge+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(N,"$&/")+"/")+be)),ie.push(ce)),1;be=0;var at=ae===""?".":ae+":";if(J(V))for(var De=0;De<V.length;De++)ae=V[De],we=at+M(ae,De),be+=_e(ae,ie,ge,we,ce);else if(De=I(V),typeof De=="function")for(V=De.call(V),De=0;!(ae=V.next()).done;)ae=ae.value,we=at+M(ae,De++),be+=_e(ae,ie,ge,we,ce);else if(we==="object"){if(typeof V.then=="function")return _e(le(V),ie,ge,ae,ce);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function Z(V,ie,ge){if(V==null)return V;var ae=[],ce=0;return _e(V,ae,"","",function(we){return ie.call(ge,we,ce++)}),ae}function fe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ne(){}return Oe.Children={map:Z,forEach:function(V,ie,ge){Z(V,function(){ie.apply(this,arguments)},ge)},count:function(V){var ie=0;return Z(V,function(){ie++}),ie},toArray:function(V){return Z(V,function(ie){return ie})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=U,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=j,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,ie,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=P({},V.props),ce=V.key,we=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(we=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!he.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(ae[be]=ie[be]);var be=arguments.length-2;if(be===1)ae.children=ge;else if(1<be){for(var at=Array(be),De=0;De<be;De++)at[De]=arguments[De+2];ae.children=at}return k(V.type,ce,void 0,void 0,we,ae)},Oe.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Oe.createElement=function(V,ie,ge){var ae,ce={},we=null;if(ie!=null)for(ae in ie.key!==void 0&&(we=""+ie.key),ie)he.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=ie[ae]);var be=arguments.length-2;if(be===1)ce.children=ge;else if(1<be){for(var at=Array(be),De=0;De<be;De++)at[De]=arguments[De+2];ce.children=at}if(V&&V.defaultProps)for(ae in be=V.defaultProps,be)ce[ae]===void 0&&(ce[ae]=be[ae]);return k(V,we,void 0,void 0,null,ce)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:d,render:V}},Oe.isValidElement=S,Oe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:fe}},Oe.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Oe.startTransition=function(V){var ie=se.T,ge={};se.T=ge;try{var ae=V(),ce=se.S;ce!==null&&ce(ge,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ne,de)}catch(we){de(we)}finally{se.T=ie}},Oe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Oe.use=function(V){return se.H.use(V)},Oe.useActionState=function(V,ie,ge){return se.H.useActionState(V,ie,ge)},Oe.useCallback=function(V,ie){return se.H.useCallback(V,ie)},Oe.useContext=function(V){return se.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,ie){return se.H.useDeferredValue(V,ie)},Oe.useEffect=function(V,ie){return se.H.useEffect(V,ie)},Oe.useId=function(){return se.H.useId()},Oe.useImperativeHandle=function(V,ie,ge){return se.H.useImperativeHandle(V,ie,ge)},Oe.useInsertionEffect=function(V,ie){return se.H.useInsertionEffect(V,ie)},Oe.useLayoutEffect=function(V,ie){return se.H.useLayoutEffect(V,ie)},Oe.useMemo=function(V,ie){return se.H.useMemo(V,ie)},Oe.useOptimistic=function(V,ie){return se.H.useOptimistic(V,ie)},Oe.useReducer=function(V,ie,ge){return se.H.useReducer(V,ie,ge)},Oe.useRef=function(V){return se.H.useRef(V)},Oe.useState=function(V){return se.H.useState(V)},Oe.useSyncExternalStore=function(V,ie,ge){return se.H.useSyncExternalStore(V,ie,ge)},Oe.useTransition=function(){return se.H.useTransition()},Oe.version="19.0.0",Oe}var p0;function Qp(){return p0||(p0=1,Fm.exports=UR()),Fm.exports}var L=Qp();const _s=xE(L);var qm={exports:{}},Jl={},Hm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function LR(){return g0||(g0=1,function(r){function e(Z,fe){var de=Z.length;Z.push(fe);e:for(;0<de;){var Ne=de-1>>>1,V=Z[Ne];if(0<o(V,fe))Z[Ne]=fe,Z[de]=V,de=Ne;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var fe=Z[0],de=Z.pop();if(de!==fe){Z[0]=de;e:for(var Ne=0,V=Z.length,ie=V>>>1;Ne<ie;){var ge=2*(Ne+1)-1,ae=Z[ge],ce=ge+1,we=Z[ce];if(0>o(ae,de))ce<V&&0>o(we,ae)?(Z[Ne]=we,Z[ce]=de,Ne=ce):(Z[Ne]=ae,Z[ge]=de,Ne=ge);else if(ce<V&&0>o(we,de))Z[Ne]=we,Z[ce]=de,Ne=ce;else break e}}return fe}function o(Z,fe){var de=Z.sortIndex-fe.sortIndex;return de!==0?de:Z.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,w=null,I=3,C=!1,P=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function K(Z){for(var fe=t(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=Z)s(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function J(Z){if($=!1,K(Z),!P)if(t(p)!==null)P=!0,le();else{var fe=t(g);fe!==null&&_e(J,fe.startTime-Z)}}var se=!1,he=-1,k=5,R=-1;function S(){return!(r.unstable_now()-R<k)}function D(){if(se){var Z=r.unstable_now();R=Z;var fe=!0;try{e:{P=!1,$&&($=!1,q(he),he=-1),C=!0;var de=I;try{t:{for(K(Z),w=t(p);w!==null&&!(w.expirationTime>Z&&S());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,I=w.priorityLevel;var V=Ne(w.expirationTime<=Z);if(Z=r.unstable_now(),typeof V=="function"){w.callback=V,K(Z),fe=!0;break t}w===t(p)&&s(p),K(Z)}else s(p);w=t(p)}if(w!==null)fe=!0;else{var ie=t(g);ie!==null&&_e(J,ie.startTime-Z),fe=!1}}break e}finally{w=null,I=de,C=!1}fe=void 0}}finally{fe?N():se=!1}}}var N;if(typeof j=="function")N=function(){j(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,x=M.port2;M.port1.onmessage=D,N=function(){x.postMessage(null)}}else N=function(){U(D,0)};function le(){se||(se=!0,N())}function _e(Z,fe){he=U(function(){Z(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){P||C||(P=!0,le())},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(Z){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var de=I;I=fe;try{return Z()}finally{I=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=I;I=Z;try{return fe()}finally{I=de}},r.unstable_scheduleCallback=function(Z,fe,de){var Ne=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ne+de:Ne):de=Ne,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,Z={id:E++,callback:fe,priorityLevel:Z,startTime:de,expirationTime:V,sortIndex:-1},de>Ne?(Z.sortIndex=de,e(g,Z),t(p)===null&&Z===t(g)&&($?(q(he),he=-1):$=!0,_e(J,de-Ne))):(Z.sortIndex=V,e(p,Z),P||C||(P=!0,le())),Z},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(Z){var fe=I;return function(){var de=I;I=fe;try{return Z.apply(this,arguments)}finally{I=de}}}}(Gm)),Gm}var y0;function jR(){return y0||(y0=1,Hm.exports=LR()),Hm.exports}var $m={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function BR(){if(_0)return en;_0=1;var r=Qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=d(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:C}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.0.0",en}var v0;function zR(){if(v0)return $m.exports;v0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$m.exports=BR(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function FR(){if(T0)return Jl;T0=1;var r=jR(),e=Qp(),t=zR();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case U:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case P:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:R(n.type)||"Memo";case j:i=n._payload,n=n._init;try{return R(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,N,M;function x(n){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||"",M=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+n+M}var le=!1;function _e(n,i){if(!n||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(n,[],re)}else{try{re.call()}catch(X){Y=X}n.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var O=T.split(`
`),z=b.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===z.length)for(u=O.length-1,f=z.length-1;1<=u&&0<=f&&O[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==z[f]){var W=`
`+O[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{le=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?x(a):""}function Z(n){switch(n.tag){case 26:case 27:case 5:return x(n.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return n=_e(n.type,!1),n;case 11:return n=_e(n.type.render,!1),n;case 1:return n=_e(n.type,!0),n;default:return""}}function fe(n){try{var i="";do i+=Z(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ne(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function V(n){if(de(n)!==n)throw Error(s(188))}function ie(n){var i=n.alternate;if(!i){if(i=de(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===u)return V(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,u=m;break}if(b===u){T=!0,u=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,u=f;break}if(b===u){T=!0,u=m,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function ge(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=ge(n),i!==null)return i;n=n.sibling}return null}var ae=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},be=[],at=-1;function De(n){return{current:n}}function ot(n){0>at||(n.current=be[at],be[at]=null,at--)}function He(n,i){at++,be[at]=n.current,n.current=i}var Ht=De(null),Br=De(null),Mn=De(null),xi=De(null);function Ni(n,i){switch(He(Mn,i),He(Br,n),He(Ht,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?zv(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=zv(n),i=Fv(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(Ht),He(Ht,i)}function zr(){ot(Ht),ot(Br),ot(Mn)}function Ko(n){n.memoizedState!==null&&He(xi,n);var i=Ht.current,a=Fv(i,n.type);i!==a&&(He(Br,n),He(Ht,a))}function Da(n){Br.current===n&&(ot(Ht),ot(Br)),xi.current===n&&(ot(xi),Kl._currentValue=we)}var Oa=Object.prototype.hasOwnProperty,Ps=r.unstable_scheduleCallback,ka=r.unstable_cancelCallback,qf=r.unstable_shouldYield,Yo=r.unstable_requestPaint,gn=r.unstable_now,Hu=r.unstable_getCurrentPriorityLevel,Ct=r.unstable_ImmediatePriority,Vt=r.unstable_UserBlockingPriority,Fr=r.unstable_NormalPriority,Gu=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Hf=r.log,Vs=r.unstable_setDisableYieldValue,Di=null,Zt=null;function Xo(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Di,n,void 0,(n.current.flags&128)===128)}catch{}}function hr(n){if(typeof Hf=="function"&&Vs(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Di,n)}catch{}}var ln=Math.clz32?Math.clz32:Ku,Wo=Math.log,$u=Math.LN2;function Ku(n){return n>>>=0,n===0?32:31-(Wo(n)/$u|0)|0}var fr=128,Oi=4194304;function nr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pn(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?u=nr(a):(m&=b,m!==0?u=nr(m):n||(T=b&~T,T!==0&&(u=nr(T))))):(b=a&~f,b!==0?u=nr(b):m!==0?u=nr(m):n||(T=a&~T,T!==0&&(u=nr(T)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,T=i&-i,f>=T||f===32&&(T&4194176)!==0)?i:u}function ki(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ma(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var n=fr;return fr<<=1,(fr&4194176)===0&&(fr=128),n}function Mi(){var n=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),n}function Pa(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function vt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yu(n,i,a,u,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,O=n.expirationTimes,z=n.hiddenUpdates;for(a=T&~a;0<a;){var W=31-ln(a),re=1<<W;b[W]=0,O[W]=-1;var Y=z[W];if(Y!==null)for(z[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}a&=~re}u!==0&&Pi(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~i))}function Pi(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-ln(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Vi(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-ln(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Qu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function Ui(n,i){var a=ce.p;try{return ce.p=n,i()}finally{ce.p=a}}var dr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+dr,xt="__reactProps$"+dr,qr="__reactContainer$"+dr,Us="__reactEvents$"+dr,Va="__reactListeners$"+dr,mr="__reactHandles$"+dr,Jo="__reactResources$"+dr,Li="__reactMarker$"+dr;function Ls(n){delete n[Ut],delete n[xt],delete n[Us],delete n[Va],delete n[mr]}function rr(n){var i=n[Ut];if(i)return i;for(var a=n.parentNode;a;){if(i=a[qr]||a[Ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Gv(n);n!==null;){if(a=n[Ut])return a;n=Gv(n)}return i}n=a,a=n.parentNode}return null}function Hr(n){if(n=n[Ut]||n[qr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ji(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Bi(n){var i=n[Jo];return i||(i=n[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function lt(n){n[Li]=!0}var el=new Set,Ua={};function Sn(n,i){yn(n,i),yn(n+"Capture",i)}function yn(n,i){for(Ua[n]=i,n=0;n<i.length;n++)el.add(i[n])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Wu(n){return Oa.call(nl,n)?!0:Oa.call(tl,n)?!1:Gf.test(n)?nl[n]=!0:(tl[n]=!0,!1)}function zi(n,i,a){if(Wu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Fi(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Vn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $f(n){var i=Zu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function js(n){n._valueTracker||(n._valueTracker=$f(n))}function rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=Zu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function La(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gr=/[\n"\\]/g;function dt(n){return n.replace(Gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qi(n,i,a,u,f,m,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+un(i)):n.value!==""+un(i)&&(n.value=""+un(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?ja(n,T,un(i)):a!=null?ja(n,T,un(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+un(b):n.removeAttribute("name")}function Bs(n,i,a,u,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+un(a):"",i=i!=null?""+un(i):a,b||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ja(n,i,a){i==="number"&&La(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function zs(n,i,a){if(i!=null&&(i=""+un(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+un(a):""}function Hi(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=un(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Un(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||Kf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ju(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&il(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&il(n,m,i[m])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ln=null;function Ba(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $r=null,Kr=null;function Yr(n){var i=Hr(n);if(i&&(n=i.stateNode)){var a=n[xt]||null;e:switch(n=i.stateNode,i.type){case"input":if(qi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[xt]||null;if(!f)throw Error(s(90));qi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&rl(u)}break e;case"textarea":zs(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ge(n,!!a.multiple,i,!1)}}}var al=!1;function ec(n,i,a){if(al)return n(i,a);al=!0;try{var u=n(i);return u}finally{if(al=!1,($r!==null||Kr!==null)&&(Gc(),$r&&(i=$r,n=Kr,Kr=$r=null,Yr(i),n)))for(i=0;i<n.length;i++)Yr(n[i])}}function Fs(n,i){var a=n.stateNode;if(a===null)return null;var u=a[xt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!1;if(An)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){jn=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{jn=!1}var gr=null,Gi=null,Qr=null;function ol(){if(Qr)return Qr;var n,i=Gi,a=i.length,u,f="value"in gr?gr.value:gr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===f[m-u];u++);return Qr=f.slice(n,1<u?1-u:void 0)}function yr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function _r(){return!0}function ll(){return!1}function Lt(n){function i(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_r:ll,this.isPropagationStopped=ll,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),i}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Lt(Ye),Hs=D({},Ye,{view:0,detail:0}),tc=Lt(Hs),Fa,qa,vr,Gs=D({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vr&&(vr&&n.type==="mousemove"?(Fa=n.screenX-vr.screenX,qa=n.screenY-vr.screenY):qa=Fa=0,vr=n),Fa)},movementY:function(n){return"movementY"in n?n.movementY:qa}}),Bn=Lt(Gs),nc=D({},Gs,{dataTransfer:0}),Xf=Lt(nc),$s=D({},Hs,{relatedTarget:0}),Ha=Lt($s),ul=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Lt(ul),rc=D({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$a=Lt(rc),Wf=D({},Ye,{data:0}),cl=Lt(Wf),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=sc[n])?!!i[n]:!1}function Ys(){return hl}var ac=D({},Hs,{key:function(n){if(n.key){var i=Ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=yr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ic[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(n){return n.type==="keypress"?yr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ka=Lt(ac),oc=D({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Lt(oc),Xr=D({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),lc=Lt(Xr),uc=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Lt(uc),hc=D({},Gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Lt(hc),cn=D({},Ye,{newState:0,oldState:0}),fc=Lt(cn),dc=[9,13,27,32],Tr=An&&"CompositionEvent"in window,c=null;An&&"documentMode"in document&&(c=document.documentMode);var y=An&&"TextEvent"in window&&!c,v=An&&(!Tr||c&&8<c&&11>=c),A=" ",H=!1;function Q(n,i){switch(n){case"keyup":return dc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Nt(n,i){switch(n){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(H=!0,A);case"textInput":return n=i.data,n===A&&H?null:n;default:return null}}function ze(n,i){if(Be)return n==="compositionend"||!Tr&&Q(n,i)?(n=ol(),Qr=Gi=gr=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jt[n.type]:i==="textarea"}function Wr(n,i,a,u){$r?Kr?Kr.push(u):Kr=[u]:$r=u,i=Xc(i,"onChange"),0<i.length&&(a=new za("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var Gt=null,Er=null;function dl(n){Vv(n,0)}function mc(n){var i=ji(n);if(rl(i))return n}function hy(n,i){if(n==="change")return i}var fy=!1;if(An){var Zf;if(An){var Jf="oninput"in document;if(!Jf){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Jf=typeof dy.oninput=="function"}Zf=Jf}else Zf=!1;fy=Zf&&(!document.documentMode||9<document.documentMode)}function my(){Gt&&(Gt.detachEvent("onpropertychange",py),Er=Gt=null)}function py(n){if(n.propertyName==="value"&&mc(Er)){var i=[];Wr(i,Er,n,Ba(n)),ec(dl,i)}}function hA(n,i,a){n==="focusin"?(my(),Gt=i,Er=a,Gt.attachEvent("onpropertychange",py)):n==="focusout"&&my()}function fA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(Er)}function dA(n,i){if(n==="click")return mc(i)}function mA(n,i){if(n==="input"||n==="change")return mc(i)}function pA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rn=typeof Object.is=="function"?Object.is:pA;function ml(n,i){if(Rn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Oa.call(i,f)||!Rn(n[f],i[f]))return!1}return!0}function gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yy(n,i){var a=gy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gy(a)}}function _y(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?_y(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=La(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=La(n.document)}return i}function ed(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function gA(n,i){var a=vy(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&_y(i.ownerDocument.documentElement,i)){if(u!==null&&ed(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=yy(i,m);var T=yy(i,u);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var yA=An&&"documentMode"in document&&11>=document.documentMode,Qa=null,td=null,pl=null,nd=!1;function Ty(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||Qa==null||Qa!==La(u)||(u=Qa,"selectionStart"in u&&ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&ml(pl,u)||(pl=u,u=Xc(td,"onSelect"),0<u.length&&(i=new za("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=Qa)))}function Qs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Xa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},rd={},Ey={};An&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Xs(n){if(rd[n])return rd[n];if(!Xa[n])return n;var i=Xa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ey)return rd[n]=i[a];return n}var by=Xs("animationend"),wy=Xs("animationiteration"),Sy=Xs("animationstart"),_A=Xs("transitionrun"),vA=Xs("transitionstart"),TA=Xs("transitioncancel"),Ay=Xs("transitionend"),Ry=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ir(n,i){Ry.set(n,i),Sn(i,[n])}var zn=[],Wa=0,id=0;function pc(){for(var n=Wa,i=id=Wa=0;i<n;){var a=zn[i];zn[i++]=null;var u=zn[i];zn[i++]=null;var f=zn[i];zn[i++]=null;var m=zn[i];if(zn[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Cy(a,f,m)}}function gc(n,i,a,u){zn[Wa++]=n,zn[Wa++]=i,zn[Wa++]=a,zn[Wa++]=u,id|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function sd(n,i,a,u){return gc(n,i,a,u),yc(n)}function $i(n,i){return gc(n,null,null,i),yc(n)}function Cy(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-ln(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function yc(n){if(50<Bl)throw Bl=0,hm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Za={},xy=new WeakMap;function Fn(n,i){if(typeof n=="object"&&n!==null){var a=xy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:fe(i)},xy.set(n,i),i)}return{value:n,source:i,stack:fe(i)}}var Ja=[],eo=0,_c=null,vc=0,qn=[],Hn=0,Ws=null,Zr=1,Jr="";function Zs(n,i){Ja[eo++]=vc,Ja[eo++]=_c,_c=n,vc=i}function Ny(n,i,a){qn[Hn++]=Zr,qn[Hn++]=Jr,qn[Hn++]=Ws,Ws=n;var u=Zr;n=Jr;var f=32-ln(u)-1;u&=~(1<<f),a+=1;var m=32-ln(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Zr=1<<32-ln(i)+f|a<<f|u,Jr=m+n}else Zr=1<<m|a<<f|u,Jr=n}function ad(n){n.return!==null&&(Zs(n,1),Ny(n,1,0))}function od(n){for(;n===_c;)_c=Ja[--eo],Ja[eo]=null,vc=Ja[--eo],Ja[eo]=null;for(;n===Ws;)Ws=qn[--Hn],qn[Hn]=null,Jr=qn[--Hn],qn[Hn]=null,Zr=qn[--Hn],qn[Hn]=null}var hn=null,$t=null,$e=!1,sr=null,br=!1,ld=Error(s(519));function Js(n){var i=Error(s(418,""));throw _l(Fn(i,n)),ld}function Dy(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[Ut]=n,i[xt]=u,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Le(Fl[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Bs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Hi(i,u.value,u.defaultValue,u.children),js(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||Bv(i.textContent,a)?(u.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),u.onScroll!=null&&Le("scroll",i),u.onScrollEnd!=null&&Le("scrollend",i),u.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||Js(n)}function Oy(n){for(hn=n.return;hn;)switch(hn.tag){case 3:case 27:br=!0;return;case 5:case 13:br=!1;return;default:hn=hn.return}}function gl(n){if(n!==hn)return!1;if(!$e)return Oy(n),$e=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&$t&&Js(n),Oy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){$t=or(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}$t=null}}else $t=hn?or(n.stateNode.nextSibling):null;return!0}function yl(){$t=hn=null,$e=!1}function _l(n){sr===null?sr=[n]:sr.push(n)}var vl=Error(s(460)),ky=Error(s(474)),ud={then:function(){}};function My(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function Py(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===vl?Error(s(483)):n}throw Tl=i,vl}}var Tl=null;function Vy(){if(Tl===null)throw Error(s(459));var n=Tl;return Tl=null,n}var to=null,El=0;function Ec(n){var i=El;return El+=1,to===null&&(to=[]),Py(to,n,i)}function bl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function bc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Uy(n){var i=n._init;return i(n._payload)}function Ly(n){function i(F,B){if(n){var G=F.deletions;G===null?(F.deletions=[B],F.flags|=16):G.push(B)}}function a(F,B){if(!n)return null;for(;B!==null;)i(F,B),B=B.sibling;return null}function u(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(F,B){return F=is(F,B),F.index=0,F.sibling=null,F}function m(F,B,G){return F.index=G,n?(G=F.alternate,G!==null?(G=G.index,G<B?(F.flags|=33554434,B):G):(F.flags|=33554434,B)):(F.flags|=1048576,B)}function T(F){return n&&F.alternate===null&&(F.flags|=33554434),F}function b(F,B,G,ee){return B===null||B.tag!==6?(B=rm(G,F.mode,ee),B.return=F,B):(B=f(B,G),B.return=F,B)}function O(F,B,G,ee){var ye=G.type;return ye===p?W(F,B,G.props.children,ee,G.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&Uy(ye)===B.type)?(B=f(B,G.props),bl(B,G),B.return=F,B):(B=Bc(G.type,G.key,G.props,null,F.mode,ee),bl(B,G),B.return=F,B)}function z(F,B,G,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=im(G,F.mode,ee),B.return=F,B):(B=f(B,G.children||[]),B.return=F,B)}function W(F,B,G,ee,ye){return B===null||B.tag!==7?(B=ua(G,F.mode,ee,ye),B.return=F,B):(B=f(B,G),B.return=F,B)}function re(F,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=rm(""+B,F.mode,G),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return G=Bc(B.type,B.key,B.props,null,F.mode,G),bl(G,B),G.return=F,G;case d:return B=im(B,F.mode,G),B.return=F,B;case j:var ee=B._init;return B=ee(B._payload),re(F,B,G)}if(ae(B)||he(B))return B=ua(B,F.mode,G,null),B.return=F,B;if(typeof B.then=="function")return re(F,Ec(B),G);if(B.$$typeof===C)return re(F,Uc(F,B),G);bc(F,B)}return null}function Y(F,B,G,ee){var ye=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:b(F,B,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return G.key===ye?O(F,B,G,ee):null;case d:return G.key===ye?z(F,B,G,ee):null;case j:return ye=G._init,G=ye(G._payload),Y(F,B,G,ee)}if(ae(G)||he(G))return ye!==null?null:W(F,B,G,ee,null);if(typeof G.then=="function")return Y(F,B,Ec(G),ee);if(G.$$typeof===C)return Y(F,B,Uc(F,G),ee);bc(F,G)}return null}function X(F,B,G,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(G)||null,b(B,F,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return F=F.get(ee.key===null?G:ee.key)||null,O(B,F,ee,ye);case d:return F=F.get(ee.key===null?G:ee.key)||null,z(B,F,ee,ye);case j:var Me=ee._init;return ee=Me(ee._payload),X(F,B,G,ee,ye)}if(ae(ee)||he(ee))return F=F.get(G)||null,W(B,F,ee,ye,null);if(typeof ee.then=="function")return X(F,B,G,Ec(ee),ye);if(ee.$$typeof===C)return X(F,B,G,Uc(B,ee),ye);bc(B,ee)}return null}function ve(F,B,G,ee){for(var ye=null,Me=null,Te=B,Se=B=0,Ft=null;Te!==null&&Se<G.length;Se++){Te.index>Se?(Ft=Te,Te=null):Ft=Te.sibling;var Ke=Y(F,Te,G[Se],ee);if(Ke===null){Te===null&&(Te=Ft);break}n&&Te&&Ke.alternate===null&&i(F,Te),B=m(Ke,B,Se),Me===null?ye=Ke:Me.sibling=Ke,Me=Ke,Te=Ft}if(Se===G.length)return a(F,Te),$e&&Zs(F,Se),ye;if(Te===null){for(;Se<G.length;Se++)Te=re(F,G[Se],ee),Te!==null&&(B=m(Te,B,Se),Me===null?ye=Te:Me.sibling=Te,Me=Te);return $e&&Zs(F,Se),ye}for(Te=u(Te);Se<G.length;Se++)Ft=X(Te,F,Se,G[Se],ee),Ft!==null&&(n&&Ft.alternate!==null&&Te.delete(Ft.key===null?Se:Ft.key),B=m(Ft,B,Se),Me===null?ye=Ft:Me.sibling=Ft,Me=Ft);return n&&Te.forEach(function(hs){return i(F,hs)}),$e&&Zs(F,Se),ye}function Ce(F,B,G,ee){if(G==null)throw Error(s(151));for(var ye=null,Me=null,Te=B,Se=B=0,Ft=null,Ke=G.next();Te!==null&&!Ke.done;Se++,Ke=G.next()){Te.index>Se?(Ft=Te,Te=null):Ft=Te.sibling;var hs=Y(F,Te,Ke.value,ee);if(hs===null){Te===null&&(Te=Ft);break}n&&Te&&hs.alternate===null&&i(F,Te),B=m(hs,B,Se),Me===null?ye=hs:Me.sibling=hs,Me=hs,Te=Ft}if(Ke.done)return a(F,Te),$e&&Zs(F,Se),ye;if(Te===null){for(;!Ke.done;Se++,Ke=G.next())Ke=re(F,Ke.value,ee),Ke!==null&&(B=m(Ke,B,Se),Me===null?ye=Ke:Me.sibling=Ke,Me=Ke);return $e&&Zs(F,Se),ye}for(Te=u(Te);!Ke.done;Se++,Ke=G.next())Ke=X(Te,F,Se,Ke.value,ee),Ke!==null&&(n&&Ke.alternate!==null&&Te.delete(Ke.key===null?Se:Ke.key),B=m(Ke,B,Se),Me===null?ye=Ke:Me.sibling=Ke,Me=Ke);return n&&Te.forEach(function(MR){return i(F,MR)}),$e&&Zs(F,Se),ye}function gt(F,B,G,ee){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var ye=G.key;B!==null;){if(B.key===ye){if(ye=G.type,ye===p){if(B.tag===7){a(F,B.sibling),ee=f(B,G.props.children),ee.return=F,F=ee;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&Uy(ye)===B.type){a(F,B.sibling),ee=f(B,G.props),bl(ee,G),ee.return=F,F=ee;break e}a(F,B);break}else i(F,B);B=B.sibling}G.type===p?(ee=ua(G.props.children,F.mode,ee,G.key),ee.return=F,F=ee):(ee=Bc(G.type,G.key,G.props,null,F.mode,ee),bl(ee,G),ee.return=F,F=ee)}return T(F);case d:e:{for(ye=G.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(F,B.sibling),ee=f(B,G.children||[]),ee.return=F,F=ee;break e}else{a(F,B);break}else i(F,B);B=B.sibling}ee=im(G,F.mode,ee),ee.return=F,F=ee}return T(F);case j:return ye=G._init,G=ye(G._payload),gt(F,B,G,ee)}if(ae(G))return ve(F,B,G,ee);if(he(G)){if(ye=he(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),Ce(F,B,G,ee)}if(typeof G.then=="function")return gt(F,B,Ec(G),ee);if(G.$$typeof===C)return gt(F,B,Uc(F,G),ee);bc(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(F,B.sibling),ee=f(B,G),ee.return=F,F=ee):(a(F,B),ee=rm(G,F.mode,ee),ee.return=F,F=ee),T(F)):a(F,B)}return function(F,B,G,ee){try{El=0;var ye=gt(F,B,G,ee);return to=null,ye}catch(Te){if(Te===vl)throw Te;var Me=Yn(29,Te,null,F.mode);return Me.lanes=ee,Me.return=F,Me}finally{}}}var ea=Ly(!0),jy=Ly(!1),no=De(null),wc=De(0);function By(n,i){n=ci,He(wc,n),He(no,i),ci=n|i.baseLanes}function cd(){He(wc,ci),He(no,no.current)}function hd(){ci=wc.current,ot(no),ot(wc)}var Gn=De(null),wr=null;function Ki(n){var i=n.alternate;He(Ot,Ot.current&1),He(Gn,n),wr===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(wr=n)}function zy(n){if(n.tag===22){if(He(Ot,Ot.current),He(Gn,n),wr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(wr=n)}}else Yi()}function Yi(){He(Ot,Ot.current),He(Gn,Gn.current)}function ei(n){ot(Gn),wr===n&&(wr=null),ot(Ot)}var Ot=De(0);function Sc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var EA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},bA=r.unstable_scheduleCallback,wA=r.unstable_NormalPriority,kt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new EA,data:new Map,refCount:0}}function wl(n){n.refCount--,n.refCount===0&&bA(wA,function(){n.controller.abort()})}var Sl=null,dd=0,ro=0,io=null;function SA(n,i){if(Sl===null){var a=Sl=[];dd=0,ro=vm(),io={status:"pending",value:void 0,then:function(u){a.push(u)}}}return dd++,i.then(Fy,Fy),i}function Fy(){if(--dd===0&&Sl!==null){io!==null&&(io.status="fulfilled");var n=Sl;Sl=null,ro=0,io=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function AA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var qy=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(n,i),qy!==null&&qy(n,i)};var ta=De(null);function md(){var n=ta.current;return n!==null?n:rt.pooledCache}function Ac(n,i){i===null?He(ta,ta.current):He(ta,i.pool)}function Hy(){var n=md();return n===null?null:{parent:kt._currentValue,pool:n}}var Qi=0,ke=null,Je=null,bt=null,Rc=!1,so=!1,na=!1,Ic=0,Al=0,ao=null,RA=0;function Tt(){throw Error(s(321))}function pd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Rn(n[a],i[a]))return!1;return!0}function gd(n,i,a,u,f,m){return Qi=m,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?ra:Xi,na=!1,m=a(u,f),na=!1,so&&(m=$y(i,a,u,f)),Gy(n),m}function Gy(n){S.H=Sr;var i=Je!==null&&Je.next!==null;if(Qi=0,bt=Je=ke=null,Rc=!1,Al=0,ao=null,i)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Vc(n)&&(Bt=!0))}function $y(n,i,a,u){ke=n;var f=0;do{if(so&&(ao=null),Al=0,so=!1,25<=f)throw Error(s(301));if(f+=1,bt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=ia,m=i(a,u)}while(so);return m}function IA(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?Rl(i):i,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(ke.flags|=1024),i}function yd(){var n=Ic!==0;return Ic=0,n}function _d(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function vd(n){if(Rc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rc=!1}Qi=0,bt=Je=ke=null,so=!1,Al=Ic=0,ao=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ke.memoizedState=bt=n:bt=bt.next=n,bt}function wt(){if(Je===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var i=bt===null?ke.memoizedState:bt.next;if(i!==null)bt=i,Je=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},bt===null?ke.memoizedState=bt=n:bt=bt.next=n}return bt}var Cc;Cc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rl(n){var i=Al;return Al+=1,ao===null&&(ao=[]),n=Py(ao,n,i),i=ke,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ra:Xi),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rl(n);if(n.$$typeof===C)return Jt(n)}throw Error(s(438,String(n)))}function Td(n){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cc(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=J;return i.index++,a}function ti(n,i){return typeof i=="function"?i(n):i}function Nc(n){var i=wt();return Ed(i,Je,n)}function Ed(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var b=T=null,O=null,z=i,W=!1;do{var re=z.lane&-536870913;if(re!==z.lane?(Fe&re)===re:(Qi&re)===re){var Y=z.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),re===ro&&(W=!0);else if((Qi&Y)===Y){z=z.next,Y===ro&&(W=!0);continue}else re={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(b=O=re,T=m):O=O.next=re,ke.lanes|=Y,ss|=Y;re=z.action,na&&a(m,re),m=z.hasEagerState?z.eagerState:a(m,re)}else Y={lane:re,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(b=O=Y,T=m):O=O.next=Y,ke.lanes|=re,ss|=re;z=z.next}while(z!==null&&z!==i);if(O===null?T=m:O.next=b,!Rn(m,n.memoizedState)&&(Bt=!0,W&&(a=io,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=O,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bd(n){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Rn(m,i.memoizedState)||(Bt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function Ky(n,i,a){var u=ke,f=wt(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Rn((Je||f).memoizedState,a);if(T&&(f.memoizedState=a,Bt=!0),f=f.queue,Ad(Xy.bind(null,u,f,n),[n]),f.getSnapshot!==i||T||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,oo(9,Qy.bind(null,u,f,a,i),{destroy:void 0},null),rt===null)throw Error(s(349));m||(Qi&60)!==0||Yy(u,i,a)}return a}function Yy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Cc(),ke.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Qy(n,i,a,u){i.value=a,i.getSnapshot=u,Wy(i)&&Zy(n)}function Xy(n,i,a){return a(function(){Wy(i)&&Zy(n)})}function Wy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Rn(n,a)}catch{return!0}}function Zy(n){var i=$i(n,2);i!==null&&fn(i,n,2)}function wd(n){var i=_n();if(typeof n=="function"){var a=n;if(n=a(),na){hr(!0);try{a()}finally{hr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},i}function Jy(n,i,a,u){return n.baseState=a,Ed(n,Je,typeof u=="function"?u:ti)}function CA(n,i,a,u,f){if(kc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};S.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,e_(i,m)):(m.next=a.next,i.pending=a.next=m)}}function e_(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=S.T,T={};S.T=T;try{var b=a(f,u),O=S.S;O!==null&&O(T,b),t_(n,i,b)}catch(z){Sd(n,i,z)}finally{S.T=m}}else try{m=a(f,u),t_(n,i,m)}catch(z){Sd(n,i,z)}}function t_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){n_(n,i,u)},function(u){return Sd(n,i,u)}):n_(n,i,a)}function n_(n,i,a){i.status="fulfilled",i.value=a,r_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,e_(n,a)))}function Sd(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,r_(i),i=i.next;while(i!==u)}n.action=null}function r_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function i_(n,i){return i}function s_(n,i){if($e){var a=rt.formState;if(a!==null){e:{var u=ke;if($e){if($t){t:{for(var f=$t,m=br;f.nodeType!==8;){if(!m){f=null;break t}if(f=or(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){$t=or(f.nextSibling),u=f.data==="F!";break e}}Js(u)}u=!1}u&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:i},a.queue=u,a=w_.bind(null,ke,u),u.dispatch=a,u=wd(!1),m=Nd.bind(null,ke,!1,u.queue),u=_n(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=CA.bind(null,ke,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function a_(n){var i=wt();return o_(i,Je,n)}function o_(n,i,a){i=Ed(n,i,i_)[0],n=Nc(ti)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Rl(i):i;var u=wt(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(ke.flags|=2048,oo(9,xA.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function xA(n,i){n.action=i}function l_(n){var i=wt(),a=Je;if(a!==null)return o_(i,a,n);wt(),i=i.memoizedState,a=wt();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function oo(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=ke.updateQueue,i===null&&(i=Cc(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function u_(){return wt().memoizedState}function Dc(n,i,a,u){var f=_n();ke.flags|=n,f.memoizedState=oo(1|i,a,{destroy:void 0},u===void 0?null:u)}function Oc(n,i,a,u){var f=wt();u=u===void 0?null:u;var m=f.memoizedState.inst;Je!==null&&u!==null&&pd(u,Je.memoizedState.deps)?f.memoizedState=oo(i,a,m,u):(ke.flags|=n,f.memoizedState=oo(1|i,a,m,u))}function c_(n,i){Dc(8390656,8,n,i)}function Ad(n,i){Oc(2048,8,n,i)}function h_(n,i){return Oc(4,2,n,i)}function f_(n,i){return Oc(4,4,n,i)}function d_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function m_(n,i,a){a=a!=null?a.concat([n]):null,Oc(4,4,d_.bind(null,i,n),a)}function Rd(){}function p_(n,i){var a=wt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&pd(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function g_(n,i){var a=wt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&pd(i,u[1]))return u[0];if(u=n(),na){hr(!0);try{n()}finally{hr(!1)}}return a.memoizedState=[u,i],u}function Id(n,i,a){return a===void 0||(Qi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=_v(),ke.lanes|=n,ss|=n,a)}function y_(n,i,a,u){return Rn(a,i)?a:no.current!==null?(n=Id(n,a,u),Rn(n,i)||(Bt=!0),n):(Qi&42)===0?(Bt=!0,n.memoizedState=a):(n=_v(),ke.lanes|=n,ss|=n,i)}function __(n,i,a,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var T=S.T,b={};S.T=b,Nd(n,!1,i,a);try{var O=f(),z=S.S;if(z!==null&&z(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=AA(O,u);Il(n,i,W,Nn(n))}else Il(n,i,u,Nn(n))}catch(re){Il(n,i,{then:function(){},status:"rejected",reason:re},Nn())}finally{ce.p=m,S.T=T}}function NA(){}function Cd(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=v_(n).queue;__(n,f,i,we,a===null?NA:function(){return T_(n),a(u)})}function v_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function T_(n){var i=v_(n).next.queue;Il(n,i,{},Nn())}function xd(){return Jt(Kl)}function E_(){return wt().memoizedState}function b_(){return wt().memoizedState}function DA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();n=Ji(a);var u=es(i,n,a);u!==null&&(fn(u,i,a),Nl(u,i,a)),i={cache:fd()},n.payload=i;return}i=i.return}}function OA(n,i,a){var u=Nn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kc(n)?S_(i,a):(a=sd(n,i,a,u),a!==null&&(fn(a,n,u),A_(a,i,u)))}function w_(n,i,a){var u=Nn();Il(n,i,a,u)}function Il(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(n))S_(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,Rn(b,T))return gc(n,i,f,0),rt===null&&pc(),!1}catch{}finally{}if(a=sd(n,i,f,u),a!==null)return fn(a,n,u),A_(a,i,u),!0}return!1}function Nd(n,i,a,u){if(u={lane:2,revertLane:vm(),action:u,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(i)throw Error(s(479))}else i=sd(n,a,u,2),i!==null&&fn(i,n,2)}function kc(n){var i=n.alternate;return n===ke||i!==null&&i===ke}function S_(n,i){so=Rc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function A_(n,i,a){if((a&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Vi(n,a)}}var Sr={readContext:Jt,use:xc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Sr.useCacheRefresh=Tt,Sr.useMemoCache=Tt,Sr.useHostTransitionStatus=Tt,Sr.useFormState=Tt,Sr.useActionState=Tt,Sr.useOptimistic=Tt;var ra={readContext:Jt,use:xc,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:Jt,useEffect:c_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Dc(4194308,4,d_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Dc(4194308,4,n,i)},useInsertionEffect:function(n,i){Dc(4,2,n,i)},useMemo:function(n,i){var a=_n();i=i===void 0?null:i;var u=n();if(na){hr(!0);try{n()}finally{hr(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=_n();if(a!==void 0){var f=a(i);if(na){hr(!0);try{a(i)}finally{hr(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=OA.bind(null,ke,n),[u.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=wd(n);var i=n.queue,a=w_.bind(null,ke,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Rd,useDeferredValue:function(n,i){var a=_n();return Id(a,n,i)},useTransition:function(){var n=wd(!1);return n=__.bind(null,ke,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=ke,f=_n();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Fe&60)!==0||Yy(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,c_(Xy.bind(null,u,m,n),[n]),u.flags|=2048,oo(9,Qy.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=_n(),i=rt.identifierPrefix;if($e){var a=Jr,u=Zr;a=(u&~(1<<32-ln(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ic++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=RA++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return _n().memoizedState=DA.bind(null,ke)}};ra.useMemoCache=Td,ra.useHostTransitionStatus=xd,ra.useFormState=s_,ra.useActionState=s_,ra.useOptimistic=function(n){var i=_n();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nd.bind(null,ke,!0,a),a.dispatch=i,[n,i]};var Xi={readContext:Jt,use:xc,useCallback:p_,useContext:Jt,useEffect:Ad,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:Nc,useRef:u_,useState:function(){return Nc(ti)},useDebugValue:Rd,useDeferredValue:function(n,i){var a=wt();return y_(a,Je.memoizedState,n,i)},useTransition:function(){var n=Nc(ti)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:Ky,useId:E_};Xi.useCacheRefresh=b_,Xi.useMemoCache=Td,Xi.useHostTransitionStatus=xd,Xi.useFormState=a_,Xi.useActionState=a_,Xi.useOptimistic=function(n,i){var a=wt();return Jy(a,Je,n,i)};var ia={readContext:Jt,use:xc,useCallback:p_,useContext:Jt,useEffect:Ad,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:bd,useRef:u_,useState:function(){return bd(ti)},useDebugValue:Rd,useDeferredValue:function(n,i){var a=wt();return Je===null?Id(a,n,i):y_(a,Je.memoizedState,n,i)},useTransition:function(){var n=bd(ti)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:Ky,useId:E_};ia.useCacheRefresh=b_,ia.useMemoCache=Td,ia.useHostTransitionStatus=xd,ia.useFormState=l_,ia.useActionState=l_,ia.useOptimistic=function(n,i){var a=wt();return Je!==null?Jy(a,Je,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Dd(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:D({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Od={isMounted:function(n){return(n=n._reactInternals)?de(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=Nn(),f=Ji(u);f.payload=i,a!=null&&(f.callback=a),i=es(n,f,u),i!==null&&(fn(i,n,u),Nl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=Nn(),f=Ji(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=es(n,f,u),i!==null&&(fn(i,n,u),Nl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Nn(),u=Ji(a);u.tag=2,i!=null&&(u.callback=i),i=es(n,u,a),i!==null&&(fn(i,n,a),Nl(i,n,a))}};function R_(n,i,a,u,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!ml(a,u)||!ml(f,m):!0}function I_(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&Od.enqueueReplaceState(i,i.state,null)}function sa(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function C_(n){Mc(n)}function x_(n){console.error(n)}function N_(n){Mc(n)}function Pc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function D_(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(n,i,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(n,i)},a}function O_(n){return n=Ji(n),n.tag=3,n}function k_(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){D_(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){D_(i,a,u),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function kA(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&xl(i,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return wr===null?mm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===ud?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),gm(n,u,f)),!1;case 22:return a.flags|=65536,u===ud?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),gm(n,u,f)),!1}throw Error(s(435,a.tag))}return gm(n,u,f),mm(),!1}if($e)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==ld&&(n=Error(s(422),{cause:u}),_l(Fn(n,a)))):(u!==ld&&(i=Error(s(423),{cause:u}),_l(Fn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Fn(u,a),f=kd(n.stateNode,u,f),Yd(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:u});if(m=Fn(m,a),Ll===null?Ll=[m]:Ll.push(m),pt!==4&&(pt=2),i===null)return!0;u=Fn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=kd(a.stateNode,u,n),Yd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=O_(f),k_(f,n,a,u),Yd(a,f),!1}a=a.return}while(a!==null);return!1}var M_=Error(s(461)),Bt=!1;function Kt(n,i,a,u){i.child=n===null?jy(i,null,a,u):ea(i,n.child,a,u)}function P_(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return oa(i),u=gd(n,i,a,T,m,f),b=yd(),n!==null&&!Bt?(_d(n,i,f),ni(n,i,f)):($e&&b&&ad(i),i.flags|=1,Kt(n,i,u,f),i.child)}function V_(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!nm(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,U_(n,i,m,u,f)):(n=Bc(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Fd(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(T,u)&&n.ref===i.ref)return ni(n,i,f)}return i.flags|=1,n=is(m,u),n.ref=i.ref,n.return=i,i.child=n}function U_(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(ml(m,u)&&n.ref===i.ref)if(Bt=!1,i.pendingProps=u=m,Fd(n,f))(n.flags&131072)!==0&&(Bt=!0);else return i.lanes=n.lanes,ni(n,i,f)}return Md(n,i,a,u,f)}function L_(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(Cl(n,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=T!==null?T.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return j_(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ac(i,T!==null?T.cachePool:null),T!==null?By(i,T):cd(),zy(i);else return i.lanes=i.childLanes=536870912,j_(n,i,T!==null?T.baseLanes|a:a,a)}else T!==null?(Ac(i,T.cachePool),By(i,T),Yi(),i.memoizedState=null):(n!==null&&Ac(i,null),cd(),Yi());return Kt(n,i,f,a),i.child}function j_(n,i,a,u){var f=md();return f=f===null?null:{parent:kt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ac(i,null),cd(),zy(i),n!==null&&xl(n,i,u,!0),null}function Cl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Md(n,i,a,u,f){return oa(i),a=gd(n,i,a,u,void 0,f),u=yd(),n!==null&&!Bt?(_d(n,i,f),ni(n,i,f)):($e&&u&&ad(i),i.flags|=1,Kt(n,i,a,f),i.child)}function B_(n,i,a,u,f,m){return oa(i),i.updateQueue=null,a=$y(i,u,a,f),Gy(n),u=yd(),n!==null&&!Bt?(_d(n,i,m),ni(n,i,m)):($e&&u&&ad(i),i.flags|=1,Kt(n,i,a,m),i.child)}function z_(n,i,a,u,f){if(oa(i),i.stateNode===null){var m=Za,T=a.contextType;typeof T=="object"&&T!==null&&(m=Jt(T)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Od,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},$d(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?Jt(T):Za,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Dd(i,a,T,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Od.enqueueReplaceState(m,m.state,null),Ol(i,u,m,f),Dl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var b=i.memoizedProps,O=sa(a,b);m.props=O;var z=m.context,W=a.contextType;T=Za,typeof W=="object"&&W!==null&&(T=Jt(W));var re=a.getDerivedStateFromProps;W=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||z!==T)&&I_(i,m,u,T),Zi=!1;var Y=i.memoizedState;m.state=Y,Ol(i,u,m,f),Dl(),z=i.memoizedState,b||Y!==z||Zi?(typeof re=="function"&&(Dd(i,a,re,u),z=i.memoizedState),(O=Zi||R_(i,a,O,u,Y,z,T))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=z),m.props=u,m.state=z,m.context=T,u=O):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Kd(n,i),T=i.memoizedProps,W=sa(a,T),m.props=W,re=i.pendingProps,Y=m.context,z=a.contextType,O=Za,typeof z=="object"&&z!==null&&(O=Jt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==re||Y!==O)&&I_(i,m,u,O),Zi=!1,Y=i.memoizedState,m.state=Y,Ol(i,u,m,f),Dl();var X=i.memoizedState;T!==re||Y!==X||Zi||n!==null&&n.dependencies!==null&&Vc(n.dependencies)?(typeof b=="function"&&(Dd(i,a,b,u),X=i.memoizedState),(W=Zi||R_(i,a,W,u,Y,X,O)||n!==null&&n.dependencies!==null&&Vc(n.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,O)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),m.props=u,m.state=X,m.context=O,u=W):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,Cl(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=ea(i,n.child,null,f),i.child=ea(i,null,a,f)):Kt(n,i,a,f),i.memoizedState=m.state,n=i.child):n=ni(n,i,f),n}function F_(n,i,a,u){return yl(),i.flags|=256,Kt(n,i,a,u),i.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Vd(n){return{baseLanes:n,cachePool:Hy()}}function Ud(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Qn),n}function q_(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if($e){if(f?Ki(i):Yi(),$e){var b=$t,O;if(O=b){e:{for(O=b,b=br;O.nodeType!==8;){if(!b){b=null;break e}if(O=or(O.nextSibling),O===null){b=null;break e}}b=O}b!==null?(i.memoizedState={dehydrated:b,treeContext:Ws!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912},O=Yn(18,null,null,0),O.stateNode=b,O.return=i,i.child=O,hn=i,$t=null,O=!0):O=!1}O||Js(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;ei(i)}return b=u.children,u=u.fallback,f?(Yi(),f=i.mode,b=jd({mode:"hidden",children:b},f),u=ua(u,f,a,null),b.return=i,u.return=i,b.sibling=u,i.child=b,f=i.child,f.memoizedState=Vd(a),f.childLanes=Ud(n,T,a),i.memoizedState=Pd,u):(Ki(i),Ld(i,b))}if(O=n.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(m)i.flags&256?(Ki(i),i.flags&=-257,i=Bd(n,i,a)):i.memoizedState!==null?(Yi(),i.child=n.child,i.flags|=128,i=null):(Yi(),f=u.fallback,b=i.mode,u=jd({mode:"visible",children:u.children},b),f=ua(f,b,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,ea(i,n.child,null,a),u=i.child,u.memoizedState=Vd(a),u.childLanes=Ud(n,T,a),i.memoizedState=Pd,i=f);else if(Ki(i),b.data==="$!"){if(T=b.nextSibling&&b.nextSibling.dataset,T)var z=T.dgst;T=z,u=Error(s(419)),u.stack="",u.digest=T,_l({value:u,source:null,stack:null}),i=Bd(n,i,a)}else if(Bt||xl(n,i,a,!1),T=(a&n.childLanes)!==0,Bt||T){if(T=rt,T!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane)throw O.retryLane=u,$i(n,u),fn(T,n,u),M_}b.data==="$?"||mm(),i=Bd(n,i,a)}else b.data==="$?"?(i.flags|=128,i.child=n.child,i=YA.bind(null,n),b._reactRetry=i,i=null):(n=O.treeContext,$t=or(b.nextSibling),hn=i,$e=!0,sr=null,br=!1,n!==null&&(qn[Hn++]=Zr,qn[Hn++]=Jr,qn[Hn++]=Ws,Zr=n.id,Jr=n.overflow,Ws=i),i=Ld(i,u.children),i.flags|=4096);return i}return f?(Yi(),f=u.fallback,b=i.mode,O=n.child,z=O.sibling,u=is(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&31457280,z!==null?f=is(z,f):(f=ua(f,b,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,b=n.child.memoizedState,b===null?b=Vd(a):(O=b.cachePool,O!==null?(z=kt._currentValue,O=O.parent!==z?{parent:z,pool:z}:O):O=Hy(),b={baseLanes:b.baseLanes|a,cachePool:O}),f.memoizedState=b,f.childLanes=Ud(n,T,a),i.memoizedState=Pd,u):(Ki(i),a=n.child,n=a.sibling,a=is(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Ld(n,i){return i=jd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function jd(n,i){return pv(n,i,0,null)}function Bd(n,i,a){return ea(i,n.child,null,a),n=Ld(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function H_(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Hd(n.return,i,a)}function zd(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function G_(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(Kt(n,i,u.children,a),u=Ot.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&H_(n,a,i);else if(n.tag===19)H_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(He(Ot,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),zd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}zd(i,!0,a,null,m);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ni(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ss|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(xl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=is(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=is(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Fd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Vc(n)))}function MA(n,i,a){switch(i.tag){case 3:Ni(i,i.stateNode.containerInfo),Wi(i,kt,n.memoizedState.cache),yl();break;case 27:case 5:Ko(i);break;case 4:Ni(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ki(i),i.flags|=128,null):(a&i.child.childLanes)!==0?q_(n,i,a):(Ki(i),n=ni(n,i,a),n!==null?n.sibling:null);Ki(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(xl(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return G_(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Ot,Ot.current),u)break;return null;case 22:case 23:return i.lanes=0,L_(n,i,a);case 24:Wi(i,kt,n.memoizedState.cache)}return ni(n,i,a)}function $_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Fd(n,a)&&(i.flags&128)===0)return Bt=!1,MA(n,i,a);Bt=(n.flags&131072)!==0}else Bt=!1,$e&&(i.flags&1048576)!==0&&Ny(i,vc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")nm(u)?(n=sa(u,n),i.tag=1,i=z_(null,i,u,n,a)):(i.tag=0,i=Md(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===P){i.tag=11,i=P_(null,i,u,n,a);break e}else if(f===q){i.tag=14,i=V_(null,i,u,n,a);break e}}throw i=R(u)||u,Error(s(306,i,""))}}return i;case 0:return Md(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=sa(u,i.pendingProps),z_(n,i,u,f,a);case 3:e:{if(Ni(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,Kd(n,i),Ol(i,m,null,a);var T=i.memoizedState;if(m=T.cache,Wi(i,kt,m),m!==f.cache&&Gd(i,[kt],a,!0),Dl(),m=T.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=F_(n,i,m,a);break e}else if(m!==u){u=Fn(Error(s(424)),i),_l(u),i=F_(n,i,m,a);break e}else for($t=or(i.stateNode.containerInfo.firstChild),hn=i,$e=!0,sr=null,br=!0,a=jy(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yl(),m===u){i=ni(n,i,a);break e}Kt(n,i,m,a)}i=i.child}return i;case 26:return Cl(n,i),n===null?(a=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=a:$e||(a=i.type,n=i.pendingProps,u=Zc(Mn.current).createElement(a),u[Ut]=i,u[xt]=n,Yt(u,a,n),lt(u),i.stateNode=u):i.memoizedState=Qv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ko(i),n===null&&$e&&(u=i.stateNode=$v(i.type,i.pendingProps,Mn.current),hn=i,br=!0,$t=or(u.firstChild)),u=i.pendingProps.children,n!==null||$e?Kt(n,i,u,a):i.child=ea(i,null,u,a),Cl(n,i),i.child;case 5:return n===null&&$e&&((f=u=$t)&&(u=cR(u,i.type,i.pendingProps,br),u!==null?(i.stateNode=u,hn=i,$t=or(u.firstChild),br=!1,f=!0):f=!1),f||Js(i)),Ko(i),f=i.type,m=i.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Cm(f,m)?u=null:T!==null&&Cm(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=gd(n,i,IA,null,null,a),Kl._currentValue=f),Cl(n,i),Kt(n,i,u,a),i.child;case 6:return n===null&&$e&&((n=a=$t)&&(a=hR(a,i.pendingProps,br),a!==null?(i.stateNode=a,hn=i,$t=null,n=!0):n=!1),n||Js(i)),null;case 13:return q_(n,i,a);case 4:return Ni(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=ea(i,null,u,a):Kt(n,i,u,a),i.child;case 11:return P_(n,i,i.type,i.pendingProps,a);case 7:return Kt(n,i,i.pendingProps,a),i.child;case 8:return Kt(n,i,i.pendingProps.children,a),i.child;case 12:return Kt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Wi(i,i.type,u.value),Kt(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,oa(i),f=Jt(f),u=u(f),i.flags|=1,Kt(n,i,u,a),i.child;case 14:return V_(n,i,i.type,i.pendingProps,a);case 15:return U_(n,i,i.type,i.pendingProps,a);case 19:return G_(n,i,a);case 22:return L_(n,i,a);case 24:return oa(i),u=Jt(kt),n===null?(f=md(),f===null&&(f=rt,m=fd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},$d(i),Wi(i,kt,f)):((n.lanes&a)!==0&&(Kd(n,i),Ol(i,null,null,a),Dl()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Wi(i,kt,u)):(u=m.cache,Wi(i,kt,u),u!==f.cache&&Gd(i,[kt],a,!0))),Kt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var qd=De(null),aa=null,ri=null;function Wi(n,i,a){He(qd,i._currentValue),i._currentValue=a}function ii(n){n._currentValue=qd.current,ot(qd)}function Hd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Gd(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var O=0;O<i.length;O++)if(b.context===i[O]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Hd(m.return,a,n),u||(T=null);break e}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Hd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xl(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Rn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===xi.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Kl):n=[Kl])}f=f.return}n!==null&&Gd(i,n,a,u),i.flags|=262144}function Vc(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return K_(aa,n)}function Uc(n,i){return aa===null&&oa(n),K_(n,i)}function K_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ri===null){if(n===null)throw Error(s(308));ri=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ri=ri.next=i;return a}var Zi=!1;function $d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ji(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function es(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=yc(n),Cy(n,null,a),i}return gc(n,u,i,a),yc(n)}function Nl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Vi(n,a)}}function Yd(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Qd=!1;function Dl(){if(Qd){var n=io;if(n!==null)throw n}}function Ol(n,i,a,u){Qd=!1;var f=n.updateQueue;Zi=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,z=O.next;O.next=null,T===null?m=z:T.next=z,T=O;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==T&&(b===null?W.firstBaseUpdate=z:b.next=z,W.lastBaseUpdate=O))}if(m!==null){var re=f.baseState;T=0,W=z=O=null,b=m;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(Fe&Y)===Y:(u&Y)===Y){Y!==0&&Y===ro&&(Qd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=n,Ce=b;Y=i;var gt=a;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){re=ve.call(gt,re,Y);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,Y=typeof ve=="function"?ve.call(gt,re,Y):ve,Y==null)break e;re=D({},re,Y);break e;case 2:Zi=!0}}Y=b.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(z=W=X,O=re):W=W.next=X,T|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(O=re),f.baseState=O,f.firstBaseUpdate=z,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ss|=T,n.lanes=T,n.memoizedState=re}}function Y_(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Q_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Y_(a[n],i)}function kl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(b){nt(i,i.return,b)}}function ts(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var O=a;try{b()}catch(z){nt(f,O,z)}}}u=u.next}while(u!==m)}}catch(z){nt(i,i.return,z)}}function X_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Q_(i,a)}catch(u){nt(n,n.return,u)}}}function W_(n,i,a){a.props=sa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){nt(n,i,u)}}function la(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){nt(n,i,m)}}function In(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){nt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,i,f)}else a.current=null}function Z_(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function J_(n,i,a){try{var u=n.stateNode;sR(u,n.type,a,i),u[xt]=i}catch(f){nt(n,n.return,f)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Wd(n,i,a),n=n.sibling;n!==null;)Wd(n,i,a),n=n.sibling}function Lc(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Lc(n,i,a),n=n.sibling;n!==null;)Lc(n,i,a),n=n.sibling}var si=!1,mt=!1,Zd=!1,tv=typeof WeakSet=="function"?WeakSet:Set,zt=null,nv=!1;function PA(n,i){if(n=n.containerInfo,Rm=ih,n=vy(n),ed(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,b=-1,O=-1,z=0,W=0,re=n,Y=null;t:for(;;){for(var X;re!==a||f!==0&&re.nodeType!==3||(b=T+f),re!==m||u!==0&&re.nodeType!==3||(O=T+u),re.nodeType===3&&(T+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===n)break t;if(Y===a&&++z===f&&(b=T),Y===m&&++W===u&&(O=T),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:n,selectionRange:a},ih=!1,zt=i;zt!==null;)if(i=zt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,zt=n;else for(;zt!==null;){switch(i=zt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var ve=sa(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(ve,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){nt(a,a.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Dm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,zt=n;break}zt=i.return}return ve=nv,nv=!1,ve}function rv(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:oi(n,a),u&4&&kl(5,a);break;case 1:if(oi(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){nt(a,a.return,b)}else{var f=sa(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){nt(a,a.return,b)}}u&64&&X_(a),u&512&&la(a,a.return);break;case 3:if(oi(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Q_(u,n)}catch(b){nt(a,a.return,b)}}break;case 26:oi(n,a),u&512&&la(a,a.return);break;case 27:case 5:oi(n,a),i===null&&u&4&&Z_(a),u&512&&la(a,a.return);break;case 12:oi(n,a);break;case 13:oi(n,a),u&4&&av(n,a);break;case 22:if(f=a.memoizedState!==null||si,!f){i=i!==null&&i.memoizedState!==null||mt;var m=si,T=mt;si=f,(mt=i)&&!T?ns(n,a,(a.subtreeFlags&8772)!==0):oi(n,a),si=m,mt=T}u&512&&(a.memoizedProps.mode==="manual"?la(a,a.return):In(a,a.return));break;default:oi(n,a)}}function iv(n){var i=n.alternate;i!==null&&(n.alternate=null,iv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ls(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var St=null,Cn=!1;function ai(n,i,a){for(a=a.child;a!==null;)sv(n,i,a),a=a.sibling}function sv(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:mt||In(a,i),ai(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||In(a,i);var u=St,f=Cn;for(St=a.stateNode,ai(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ls(a),St=u,Cn=f;break;case 5:mt||In(a,i);case 6:f=St;var m=Cn;if(St=null,ai(n,i,a),St=f,Cn=m,St!==null)if(Cn)try{n=St,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(T){nt(a,i,T)}else try{St.removeChild(a.stateNode)}catch(T){nt(a,i,T)}break;case 18:St!==null&&(Cn?(i=St,a=a.stateNode,i.nodeType===8?Nm(i.parentNode,a):i.nodeType===1&&Nm(i,a),Wl(i)):Nm(St,a.stateNode));break;case 4:u=St,f=Cn,St=a.stateNode.containerInfo,Cn=!0,ai(n,i,a),St=u,Cn=f;break;case 0:case 11:case 14:case 15:mt||ts(2,a,i),mt||ts(4,a,i),ai(n,i,a);break;case 1:mt||(In(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&W_(a,i,u)),ai(n,i,a);break;case 21:ai(n,i,a);break;case 22:mt||In(a,i),mt=(u=mt)||a.memoizedState!==null,ai(n,i,a),mt=u;break;default:ai(n,i,a)}}function av(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wl(n)}catch(a){nt(i,i.return,a)}}function VA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new tv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new tv),i;default:throw Error(s(435,n.tag))}}function Jd(n,i){var a=VA(n);i.forEach(function(u){var f=QA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function $n(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:case 5:St=b.stateNode,Cn=!1;break e;case 3:St=b.stateNode.containerInfo,Cn=!0;break e;case 4:St=b.stateNode.containerInfo,Cn=!0;break e}b=b.return}if(St===null)throw Error(s(160));sv(m,T,f),St=null,Cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ov(i,n),i=i.sibling}var ar=null;function ov(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(i,n),Kn(n),u&4&&(ts(3,n,n.return),kl(3,n),ts(5,n,n.return));break;case 1:$n(i,n),Kn(n),u&512&&(mt||a===null||In(a,a.return)),u&64&&si&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ar;if($n(i,n),Kn(n),u&512&&(mt||a===null||In(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Li]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Yt(m,u,a),m[Ut]=n,lt(m),u=m;break e;case"link":var T=Zv("link","href",f).get(u+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}m=f.createElement(u),Yt(m,u,a),f.head.appendChild(m);break;case"meta":if(T=Zv("meta","content",f).get(u+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}m=f.createElement(u),Yt(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ut]=n,lt(m),u=m}n.stateNode=u}else Jv(f,n.type,n.stateNode);else n.stateNode=Wv(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?Jv(f,n.type,n.stateNode):Wv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&J_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var O=f.firstChild;O;){var z=O.nextSibling,W=O.nodeName;O[Li]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=z}for(var re=n.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Yt(f,re,m),f[Ut]=n,f[xt]=m}catch(ve){nt(n,n.return,ve)}}case 5:if($n(i,n),Kn(n),u&512&&(mt||a===null||In(a,a.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(ve){nt(n,n.return,ve)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,J_(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Zd=!0);break;case 6:if($n(i,n),Kn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ve){nt(n,n.return,ve)}}break;case 3:if(th=null,f=ar,ar=Jc(i.containerInfo),$n(i,n),ar=f,Kn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch(ve){nt(n,n.return,ve)}Zd&&(Zd=!1,lv(n));break;case 4:u=ar,ar=Jc(n.stateNode.containerInfo),$n(i,n),Kn(n),ar=u;break;case 12:$n(i,n),Kn(n);break;case 13:$n(i,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lm=gn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Jd(n,u)));break;case 22:if(u&512&&(mt||a===null||In(a,a.return)),O=n.memoizedState!==null,z=a!==null&&a.memoizedState!==null,W=si,re=mt,si=W||O,mt=re||z,$n(i,n),mt=re,si=W,Kn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=O?i._visibility&-2:i._visibility|1,O&&(i=si||mt,a===null||z||i||lo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){z=a=i;try{if(f=z.stateNode,O)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=z.stateNode,b=z.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){nt(z,z.return,ve)}}}else if(i.tag===6){if(a===null){z=i;try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(ve){nt(z,z.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Jd(n,a))));break;case 19:$n(i,n),Kn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Jd(n,u)));break;case 21:break;default:$n(i,n),Kn(n)}}function Kn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(ev(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Xd(n);Lc(n,m,f);break;case 5:var T=u.stateNode;u.flags&32&&(Un(T,""),u.flags&=-33);var b=Xd(n);Lc(n,b,T);break;case 3:case 4:var O=u.stateNode.containerInfo,z=Xd(n);Wd(n,z,O);break;default:throw Error(s(161))}}}catch(W){nt(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(n,i.alternate,i),i=i.sibling}function lo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),lo(i);break;case 1:In(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&W_(i,i.return,a),lo(i);break;case 26:case 27:case 5:In(i,i.return),lo(i);break;case 22:In(i,i.return),i.memoizedState===null&&lo(i);break;default:lo(i)}n=n.sibling}}function ns(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:ns(f,m,a),kl(4,m);break;case 1:if(ns(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){nt(u,u.return,z)}if(u=m,f=u.updateQueue,f!==null){var b=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Y_(O[f],b)}catch(z){nt(u,u.return,z)}}a&&T&64&&X_(m),la(m,m.return);break;case 26:case 27:case 5:ns(f,m,a),a&&u===null&&T&4&&Z_(m),la(m,m.return);break;case 12:ns(f,m,a);break;case 13:ns(f,m,a),a&&T&4&&av(f,m);break;case 22:m.memoizedState===null&&ns(f,m,a),la(m,m.return);break;default:ns(f,m,a)}i=i.sibling}}function em(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&wl(a))}function tm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&wl(n))}function rs(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(n,i,a,u),i=i.sibling}function uv(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:rs(n,i,a,u),f&2048&&kl(9,i);break;case 3:rs(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&wl(n)));break;case 12:if(f&2048){rs(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){nt(i,i.return,O)}}else rs(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?rs(n,i,a,u):Ml(n,i):m._visibility&4?rs(n,i,a,u):(m._visibility|=4,uo(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&em(i.alternate,i);break;case 24:rs(n,i,a,u),f&2048&&tm(i.alternate,i);break;default:rs(n,i,a,u)}}function uo(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,T=i,b=a,O=u,z=T.flags;switch(T.tag){case 0:case 11:case 15:uo(m,T,b,O,f),kl(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&4?uo(m,T,b,O,f):Ml(m,T):(W._visibility|=4,uo(m,T,b,O,f)),f&&z&2048&&em(T.alternate,T);break;case 24:uo(m,T,b,O,f),f&&z&2048&&tm(T.alternate,T);break;default:uo(m,T,b,O,f)}i=i.sibling}}function Ml(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Ml(a,u),f&2048&&em(u.alternate,u);break;case 24:Ml(a,u),f&2048&&tm(u.alternate,u);break;default:Ml(a,u)}i=i.sibling}}var Pl=8192;function co(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 26:co(n),n.flags&Pl&&n.memoizedState!==null&&SR(ar,n.memoizedState,n.memoizedProps);break;case 5:co(n);break;case 3:case 4:var i=ar;ar=Jc(n.stateNode.containerInfo),co(n),ar=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Pl,Pl=16777216,co(n),Pl=i):co(n));break;default:co(n)}}function hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Vl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];zt=u,dv(u,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&ts(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,jc(n)):Vl(n);break;default:Vl(n)}}function jc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];zt=u,dv(u,n)}hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ts(8,i,i.return),jc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,jc(i));break;default:jc(i)}n=n.sibling}}function dv(n,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:ts(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,zt=u;else e:for(a=n;zt!==null;){u=zt;var f=u.sibling,m=u.return;if(iv(u),u===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}function UA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,i,a,u){return new UA(n,i,a,u)}function nm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function is(n,i){var a=n.alternate;return a===null?(a=Yn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function mv(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Bc(n,i,a,u,f,m){var T=0;if(u=n,typeof n=="function")nm(n)&&(T=1);else if(typeof n=="string")T=bR(n,a,Ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ua(a.children,f,m,i);case g:T=8,f|=24;break;case E:return n=Yn(12,a,i,f|2),n.elementType=E,n.lanes=m,n;case $:return n=Yn(13,a,i,f),n.elementType=$,n.lanes=m,n;case U:return n=Yn(19,a,i,f),n.elementType=U,n.lanes=m,n;case K:return pv(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case C:T=10;break e;case I:T=9;break e;case P:T=11;break e;case q:T=14;break e;case j:T=16,u=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Yn(T,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function ua(n,i,a,u){return n=Yn(7,n,u,i),n.lanes=a,n}function pv(n,i,a,u){n=Yn(22,n,u,i),n.elementType=K,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var T=$i(m,2);T!==null&&(f._pendingVisibility|=2,fn(T,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var T=$i(m,2);T!==null&&(f._pendingVisibility&=-3,fn(T,m,2))}}};return n.stateNode=f,n}function rm(n,i,a){return n=Yn(6,n,null,i),n.lanes=a,n}function im(n,i,a){return i=Yn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function li(n){n.flags|=4}function gv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e0(i)){if(i=Gn.current,i!==null&&((Fe&4194176)===Fe?wr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||i!==wr))throw Tl=ud,ky;n.flags|=8192}}function zc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Mi():536870912,n.lanes|=i,fo|=i)}function Ul(n,i){if(!$e)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function LA(n,i,a){var u=i.pendingProps;switch(od(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ii(kt),zr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gl(i)?li(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sr!==null&&(fm(sr),sr=null))),ut(i),null;case 26:return a=i.memoizedState,n===null?(li(i),a!==null?(ut(i),gv(i,a)):(ut(i),i.flags&=-16777217)):a?a!==n.memoizedState?(li(i),ut(i),gv(i,a)):(ut(i),i.flags&=-16777217):(n.memoizedProps!==u&&li(i),ut(i),i.flags&=-16777217),null;case 27:Da(i),a=Mn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&li(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return ut(i),null}n=Ht.current,gl(i)?Dy(i):(n=$v(f,u,a),i.stateNode=n,li(i))}return ut(i),null;case 5:if(Da(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&li(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return ut(i),null}if(n=Ht.current,gl(i))Dy(i);else{switch(f=Zc(Mn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Ut]=i,n[xt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Yt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&li(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&li(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Mn.current,gl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ut]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Bv(n.nodeValue,a)),n||Js(i)}else n=Zc(n).createTextNode(u),n[Ut]=i,i.stateNode=n}return ut(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ut]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),f=!1}else sr!==null&&(fm(sr),sr=null),f=!0;if(!f)return i.flags&256?(ei(i),i):(ei(i),null)}if(ei(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),ut(i),null;case 4:return zr(),n===null&&wm(i.stateNode.containerInfo),ut(i),null;case 10:return ii(i.type),ut(i),null;case 19:if(ot(Ot),f=i.memoizedState,f===null)return ut(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Ul(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Sc(n),m!==null){for(i.flags|=128,Ul(f,!1),n=m.updateQueue,i.updateQueue=n,zc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)mv(a,n),a=a.sibling;return He(Ot,Ot.current&1|2),i.child}n=n.sibling}f.tail!==null&&gn()>Fc&&(i.flags|=128,u=!0,Ul(f,!1),i.lanes=4194304)}else{if(!u)if(n=Sc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,zc(i,n),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$e)return ut(i),null}else 2*gn()-f.renderingStartTime>Fc&&a!==536870912&&(i.flags|=128,u=!0,Ul(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=gn(),i.sibling=null,n=Ot.current,He(Ot,u?n&1|2:n&1),i):(ut(i),null);case 22:case 23:return ei(i),hd(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&ot(ta),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ii(kt),ut(i),null;case 25:return null}throw Error(s(156,i.tag))}function jA(n,i){switch(od(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ii(kt),zr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Da(i),null;case 13:if(ei(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ot(Ot),null;case 4:return zr(),null;case 10:return ii(i.type),null;case 22:case 23:return ei(i),hd(),n!==null&&ot(ta),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ii(kt),null;case 25:return null;default:return null}}function yv(n,i){switch(od(i),i.tag){case 3:ii(kt),zr();break;case 26:case 27:case 5:Da(i);break;case 4:zr();break;case 13:ei(i);break;case 19:ot(Ot);break;case 10:ii(i.type);break;case 22:case 23:ei(i),hd(),n!==null&&ot(ta);break;case 24:ii(kt)}}var BA={getCacheForType:function(n){var i=Jt(kt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},zA=typeof WeakMap=="function"?WeakMap:Map,ct=0,rt=null,Pe=null,Fe=0,it=0,xn=null,ui=!1,ho=!1,sm=!1,ci=0,pt=0,ss=0,ca=0,am=0,Qn=0,fo=0,Ll=null,Ar=null,om=!1,lm=0,Fc=1/0,qc=null,as=null,Hc=!1,ha=null,jl=0,um=0,cm=null,Bl=0,hm=null;function Nn(){if((ct&2)!==0&&Fe!==0)return Fe&-Fe;if(S.T!==null){var n=ro;return n!==0?n:vm()}return Xu()}function _v(){Qn===0&&(Qn=(Fe&536870912)===0||$e?Zo():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Qn}function fn(n,i,a){(n===rt&&it===2||n.cancelPendingCommit!==null)&&(mo(n,0),hi(n,Fe,Qn,!1)),vt(n,a),((ct&2)===0||n!==rt)&&(n===rt&&((ct&2)===0&&(ca|=a),pt===4&&hi(n,Fe,Qn,!1)),Rr(n))}function vv(n,i,a){if((ct&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||ki(n,i),f=u?HA(n,i):pm(n,i,!0),m=u;do{if(f===0){ho&&!u&&hi(n,i,0,!1);break}else if(f===6)hi(n,i,0,!ui);else{if(a=n.current.alternate,m&&!FA(a)){f=pm(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=n;f=Ll;var O=b.current.memoizedState.isDehydrated;if(O&&(mo(b,T).flags|=256),T=pm(b,T,!1),T!==2){if(sm&&!O){b.errorRecoveryDisabledLanes|=m,ca|=m,f=4;break e}m=Ar,Ar=f,m!==null&&fm(m)}f=T}if(m=!1,f!==2)continue}}if(f===1){mo(n,0),hi(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){hi(u,i,Qn,!ui);break e}break;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=lm+300-gn(),10<m)){if(hi(u,i,Qn,!ui),Pn(u,0)!==0)break e;u.timeoutHandle=qv(Tv.bind(null,u,a,Ar,qc,om,i,Qn,ca,fo,ui,2,-0,0),m);break e}Tv(u,a,Ar,qc,om,i,Qn,ca,fo,ui,0,-0,0)}}break}while(!0);Rr(n)}function fm(n){Ar===null?Ar=n:Ar.push.apply(Ar,n)}function Tv(n,i,a,u,f,m,T,b,O,z,W,re,Y){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:wR},cv(i),i=AR(),i!==null)){n.cancelPendingCommit=i(Iv.bind(null,n,a,u,f,T,b,O,1,re,Y)),hi(n,m,T,!z);return}Iv(n,a,u,f,T,b,O,W,re,Y)}function FA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hi(n,i,a,u){i&=~am,i&=~ca,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-ln(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&Pi(n,a,i)}function Gc(){return(ct&6)===0?(zl(0),!1):!0}function dm(){if(Pe!==null){if(it===0)var n=Pe.return;else n=Pe,ri=aa=null,vd(n),to=null,El=0,n=Pe;for(;n!==null;)yv(n.alternate,n),n=n.return;Pe=null}}function mo(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,oR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),dm(),rt=n,Pe=a=is(n.current,null),Fe=i,it=0,xn=null,ui=!1,ho=ki(n,i),sm=!1,fo=Qn=am=ca=ss=pt=0,Ar=Ll=null,om=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-ln(u),m=1<<f;i|=n[f],u&=~m}return ci=i,pc(),a}function Ev(n,i){ke=null,S.H=Sr,i===vl?(i=Vy(),it=3):i===ky?(i=Vy(),it=4):it=i===M_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Pe===null&&(pt=1,Pc(n,Fn(i,n.current)))}function bv(){var n=S.H;return S.H=Sr,n===null?Sr:n}function wv(){var n=S.A;return S.A=BA,n}function mm(){pt=4,ui||(Fe&4194176)!==Fe&&Gn.current!==null||(ho=!0),(ss&134217727)===0&&(ca&134217727)===0||rt===null||hi(rt,Fe,Qn,!1)}function pm(n,i,a){var u=ct;ct|=2;var f=bv(),m=wv();(rt!==n||Fe!==i)&&(qc=null,mo(n,i)),i=!1;var T=pt;e:do try{if(it!==0&&Pe!==null){var b=Pe,O=xn;switch(it){case 8:dm(),T=6;break e;case 3:case 2:case 6:Gn.current===null&&(i=!0);var z=it;if(it=0,xn=null,po(n,b,O,z),a&&ho){T=0;break e}break;default:z=it,it=0,xn=null,po(n,b,O,z)}}qA(),T=pt;break}catch(W){Ev(n,W)}while(!0);return i&&n.shellSuspendCounter++,ri=aa=null,ct=u,S.H=f,S.A=m,Pe===null&&(rt=null,Fe=0,pc()),T}function qA(){for(;Pe!==null;)Sv(Pe)}function HA(n,i){var a=ct;ct|=2;var u=bv(),f=wv();rt!==n||Fe!==i?(qc=null,Fc=gn()+500,mo(n,i)):ho=ki(n,i);e:do try{if(it!==0&&Pe!==null){i=Pe;var m=xn;t:switch(it){case 1:it=0,xn=null,po(n,i,m,1);break;case 2:if(My(m)){it=0,xn=null,Av(i);break}i=function(){it===2&&rt===n&&(it=7),Rr(n)},m.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:My(m)?(it=0,xn=null,Av(i)):(it=0,xn=null,po(n,i,m,7));break;case 5:var T=null;switch(Pe.tag){case 26:T=Pe.memoizedState;case 5:case 27:var b=Pe;if(!T||e0(T)){it=0,xn=null;var O=b.sibling;if(O!==null)Pe=O;else{var z=b.return;z!==null?(Pe=z,$c(z)):Pe=null}break t}}it=0,xn=null,po(n,i,m,5);break;case 6:it=0,xn=null,po(n,i,m,6);break;case 8:dm(),pt=6;break e;default:throw Error(s(462))}}GA();break}catch(W){Ev(n,W)}while(!0);return ri=aa=null,S.H=u,S.A=f,ct=a,Pe!==null?0:(rt=null,Fe=0,pc(),pt)}function GA(){for(;Pe!==null&&!qf();)Sv(Pe)}function Sv(n){var i=$_(n.alternate,n,ci);n.memoizedProps=n.pendingProps,i===null?$c(n):Pe=i}function Av(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=B_(a,i,i.pendingProps,i.type,void 0,Fe);break;case 11:i=B_(a,i,i.pendingProps,i.type.render,i.ref,Fe);break;case 5:vd(i);default:yv(a,i),i=Pe=mv(i,ci),i=$_(a,i,ci)}n.memoizedProps=n.pendingProps,i===null?$c(n):Pe=i}function po(n,i,a,u){ri=aa=null,vd(i),to=null,El=0;var f=i.return;try{if(kA(n,f,i,a,Fe)){pt=1,Pc(n,Fn(a,n.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;pt=1,Pc(n,Fn(a,n.current)),Pe=null;return}i.flags&32768?($e||u===1?n=!0:ho||(Fe&536870912)!==0?n=!1:(ui=n=!0,(u===2||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rv(i,n)):$c(i)}function $c(n){var i=n;do{if((i.flags&32768)!==0){Rv(i,ui);return}n=i.return;var a=LA(i.alternate,i,ci);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=n}while(i!==null);pt===0&&(pt=5)}function Rv(n,i){do{var a=jA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);pt=6,Pe=null}function Iv(n,i,a,u,f,m,T,b,O,z){var W=S.T,re=ce.p;try{ce.p=2,S.T=null,$A(n,i,a,u,re,f,m,T,b,O,z)}finally{S.T=W,ce.p=re}}function $A(n,i,a,u,f,m,T,b){do go();while(ha!==null);if((ct&6)!==0)throw Error(s(327));var O=n.finishedWork;if(u=n.finishedLanes,O===null)return null;if(n.finishedWork=null,n.finishedLanes=0,O===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=O.lanes|O.childLanes;if(z|=id,Yu(n,u,z,m,T,b),n===rt&&(Pe=rt=null,Fe=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||Hc||(Hc=!0,um=z,cm=a,XA(Fr,function(){return go(),null})),a=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=ce.p,ce.p=2,T=ct,ct|=4,PA(n,O),ov(O,n),gA(Im,n.containerInfo),ih=!!Rm,Im=Rm=null,n.current=O,rv(n,O.alternate,O),Yo(),ct=T,ce.p=m,S.T=a):n.current=O,Hc?(Hc=!1,ha=n,jl=u):Cv(n,z),z=n.pendingLanes,z===0&&(as=null),Xo(O.stateNode),Rr(n),i!==null)for(f=n.onRecoverableError,O=0;O<i.length;O++)z=i[O],f(z.value,{componentStack:z.stack});return(jl&3)!==0&&go(),z=n.pendingLanes,(u&4194218)!==0&&(z&42)!==0?n===hm?Bl++:(Bl=0,hm=n):Bl=0,zl(0),null}function Cv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,wl(i)))}function go(){if(ha!==null){var n=ha,i=um;um=0;var a=Qu(jl),u=S.T,f=ce.p;try{if(ce.p=32>a?32:a,S.T=null,ha===null)var m=!1;else{a=cm,cm=null;var T=ha,b=jl;if(ha=null,jl=0,(ct&6)!==0)throw Error(s(331));var O=ct;if(ct|=4,fv(T.current),uv(T,T.current,b,a),ct=O,zl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Di,T)}catch{}m=!0}return m}finally{ce.p=f,S.T=u,Cv(n,i)}}return!1}function xv(n,i,a){i=Fn(a,i),i=kd(n.stateNode,i,2),n=es(n,i,2),n!==null&&(vt(n,2),Rr(n))}function nt(n,i,a){if(n.tag===3)xv(n,n,a);else for(;i!==null;){if(i.tag===3){xv(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){n=Fn(a,n),a=O_(2),u=es(i,a,2),u!==null&&(k_(a,u,i,n),vt(u,2),Rr(u));break}}i=i.return}}function gm(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new zA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(sm=!0,f.add(a),n=KA.bind(null,n,i,a),i.then(n,n))}function KA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Fe&a)===a&&(pt===4||pt===3&&(Fe&62914560)===Fe&&300>gn()-lm?(ct&2)===0&&mo(n,0):am|=a,fo===Fe&&(fo=0)),Rr(n)}function Nv(n,i){i===0&&(i=Mi()),n=$i(n,i),n!==null&&(vt(n,i),Rr(n))}function YA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Nv(n,a)}function QA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Nv(n,a)}function XA(n,i){return Ps(n,i)}var Kc=null,yo=null,ym=!1,Yc=!1,_m=!1,fa=0;function Rr(n){n!==yo&&n.next===null&&(yo===null?Kc=yo=n:yo=yo.next=n),Yc=!0,ym||(ym=!0,ZA(WA))}function zl(n,i){if(!_m&&Yc){_m=!0;do for(var a=!1,u=Kc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-ln(42|n)+1)-1,m&=f&~(T&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,kv(u,m))}else m=Fe,m=Pn(u,u===rt?m:0),(m&3)===0||ki(u,m)||(a=!0,kv(u,m));u=u.next}while(a);_m=!1}}function WA(){Yc=ym=!1;var n=0;fa!==0&&(aR()&&(n=fa),fa=0);for(var i=gn(),a=null,u=Kc;u!==null;){var f=u.next,m=Dv(u,i);m===0?(u.next=null,a===null?Kc=f:a.next=f,f===null&&(yo=a)):(a=u,(n!==0||(m&3)!==0)&&(Yc=!0)),u=f}zl(n)}function Dv(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-ln(m),b=1<<T,O=f[T];O===-1?((b&a)===0||(b&u)!==0)&&(f[T]=Ma(b,i)):O<=i&&(n.expiredLanes|=b),m&=~b}if(i=rt,a=Fe,a=Pn(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&it===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ka(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ki(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&ka(u),Qu(a)){case 2:case 8:a=Vt;break;case 32:a=Fr;break;case 268435456:a=Qo;break;default:a=Fr}return u=Ov.bind(null,n),a=Ps(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&ka(u),n.callbackPriority=2,n.callbackNode=null,2}function Ov(n,i){var a=n.callbackNode;if(go()&&n.callbackNode!==a)return null;var u=Fe;return u=Pn(n,n===rt?u:0),u===0?null:(vv(n,u,i),Dv(n,gn()),n.callbackNode!=null&&n.callbackNode===a?Ov.bind(null,n):null)}function kv(n,i){if(go())return null;vv(n,i,!0)}function ZA(n){lR(function(){(ct&6)!==0?Ps(Ct,n):n()})}function vm(){return fa===0&&(fa=Zo()),fa}function Mv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pr(""+n)}function Pv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function JA(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=Mv((f[xt]||null).action),T=u.submitter;T&&(i=(i=T[xt]||null)?Mv(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var b=new za("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var O=T?Pv(f,T):new FormData(f);Cd(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(b.preventDefault(),O=T?Pv(f,T):new FormData(f),Cd(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var Tm=0;Tm<Iy.length;Tm++){var Em=Iy[Tm],eR=Em.toLowerCase(),tR=Em[0].toUpperCase()+Em.slice(1);ir(eR,"on"+tR)}ir(by,"onAnimationEnd"),ir(wy,"onAnimationIteration"),ir(Sy,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(_A,"onTransitionRun"),ir(vA,"onTransitionStart"),ir(TA,"onTransitionCancel"),ir(Ay,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Vv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var b=u[T],O=b.instance,z=b.currentTarget;if(b=b.listener,O!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=z;try{m(f)}catch(W){Mc(W)}f.currentTarget=null,m=O}else for(T=0;T<u.length;T++){if(b=u[T],O=b.instance,z=b.currentTarget,b=b.listener,O!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=z;try{m(f)}catch(W){Mc(W)}f.currentTarget=null,m=O}}}}function Le(n,i){var a=i[Us];a===void 0&&(a=i[Us]=new Set);var u=n+"__bubble";a.has(u)||(Uv(i,n,2,!1),a.add(u))}function bm(n,i,a){var u=0;i&&(u|=4),Uv(a,n,u,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[Qc]){n[Qc]=!0,el.forEach(function(a){a!=="selectionchange"&&(nR.has(a)||bm(a,!1,n),bm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,bm("selectionchange",!1,i))}}function Uv(n,i,a,u){switch(a0(i)){case 2:var f=CR;break;case 8:f=xR;break;default:f=Vm}a=f.bind(null,i,a,n),f=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Sm(n,i,a,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(T===4)for(T=u.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;T=T.return}for(;b!==null;){if(T=rr(b),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){u=m=T;continue e}b=b.parentNode}}u=u.return}ec(function(){var z=m,W=Ba(a),re=[];e:{var Y=Ry.get(n);if(Y!==void 0){var X=za,ve=n;switch(n){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":X=Ka;break;case"focusin":ve="focus",X=Ha;break;case"focusout":ve="blur",X=Ha;break;case"beforeblur":case"afterblur":X=Ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=lc;break;case by:case wy:case Sy:X=Ga;break;case Ay:X=cc;break;case"scroll":case"scrollend":X=tc;break;case"wheel":X=Ya;break;case"copy":case"cut":case"paste":X=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=fl;break;case"toggle":case"beforetoggle":X=fc}var Ce=(i&4)!==0,gt=!Ce&&(n==="scroll"||n==="scrollend"),F=Ce?Y!==null?Y+"Capture":null:Y;Ce=[];for(var B=z,G;B!==null;){var ee=B;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||F===null||(ee=Fs(B,F),ee!=null&&Ce.push(ql(B,ee,G))),gt)break;B=B.return}0<Ce.length&&(Y=new X(Y,ve,null,a,W),re.push({event:Y,listeners:Ce}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&a!==Ln&&(ve=a.relatedTarget||a.fromElement)&&(rr(ve)||ve[qr]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=z,ve=ve?rr(ve):null,ve!==null&&(gt=de(ve),Ce=ve.tag,ve!==gt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(X=null,ve=z),X!==ve)){if(Ce=Bn,ee="onMouseLeave",F="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=fl,ee="onPointerLeave",F="onPointerEnter",B="pointer"),gt=X==null?Y:ji(X),G=ve==null?Y:ji(ve),Y=new Ce(ee,B+"leave",X,a,W),Y.target=gt,Y.relatedTarget=G,ee=null,rr(W)===z&&(Ce=new Ce(F,B+"enter",ve,a,W),Ce.target=G,Ce.relatedTarget=gt,ee=Ce),gt=ee,X&&ve)t:{for(Ce=X,F=ve,B=0,G=Ce;G;G=_o(G))B++;for(G=0,ee=F;ee;ee=_o(ee))G++;for(;0<B-G;)Ce=_o(Ce),B--;for(;0<G-B;)F=_o(F),G--;for(;B--;){if(Ce===F||F!==null&&Ce===F.alternate)break t;Ce=_o(Ce),F=_o(F)}Ce=null}else Ce=null;X!==null&&Lv(re,Y,X,Ce,!1),ve!==null&&gt!==null&&Lv(re,gt,ve,Ce,!0)}}e:{if(Y=z?ji(z):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ye=hy;else if(Dt(Y))if(fy)ye=mA;else{ye=fA;var Me=hA}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&sl(z.elementType)&&(ye=hy):ye=dA;if(ye&&(ye=ye(n,z))){Wr(re,ye,a,W);break e}Me&&Me(n,Y,z),n==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&ja(Y,"number",Y.value)}switch(Me=z?ji(z):window,n){case"focusin":(Dt(Me)||Me.contentEditable==="true")&&(Qa=Me,td=z,pl=null);break;case"focusout":pl=td=Qa=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Ty(re,a,W);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Ty(re,a,W)}var Te;if(Tr)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?Q(n,a)&&(Se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(v&&a.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(Te=ol()):(gr=W,Gi="value"in gr?gr.value:gr.textContent,Be=!0)),Me=Xc(z,Se),0<Me.length&&(Se=new cl(Se,n,null,a,W),re.push({event:Se,listeners:Me}),Te?Se.data=Te:(Te=ue(a),Te!==null&&(Se.data=Te)))),(Te=y?Nt(n,a):ze(n,a))&&(Se=Xc(z,"onBeforeInput"),0<Se.length&&(Me=new cl("onBeforeInput","beforeinput",null,a,W),re.push({event:Me,listeners:Se}),Me.data=Te)),JA(re,n,z,a,W)}Vv(re,i)})}function ql(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xc(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Fs(n,a),f!=null&&u.unshift(ql(n,f,m)),f=Fs(n,i),f!=null&&u.push(ql(n,f,m))),n=n.return}return u}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Lv(n,i,a,u,f){for(var m=i._reactName,T=[];a!==null&&a!==u;){var b=a,O=b.alternate,z=b.stateNode;if(b=b.tag,O!==null&&O===u)break;b!==5&&b!==26&&b!==27||z===null||(O=z,f?(z=Fs(a,m),z!=null&&T.unshift(ql(a,z,O))):f||(z=Fs(a,m),z!=null&&T.push(ql(a,z,O)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var rR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function jv(n){return(typeof n=="string"?n:""+n).replace(rR,`
`).replace(iR,"")}function Bv(n,i){return i=jv(i),jv(n)===i}function Wc(){}function et(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Un(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Un(n,""+u);break;case"className":Fi(n,"class",u);break;case"tabIndex":Fi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(n,a,u);break;case"style":Ju(n,u,m);break;case"data":if(i!=="object"){Fi(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=pr(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&et(n,i,"name",f.name,f,null),et(n,i,"formEncType",f.formEncType,f,null),et(n,i,"formMethod",f.formMethod,f,null),et(n,i,"formTarget",f.formTarget,f,null)):(et(n,i,"encType",f.encType,f,null),et(n,i,"method",f.method,f,null),et(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=pr(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Wc);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=pr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),zi(n,"popover",u);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yf.get(a)||a,zi(n,a,u))}}function Am(n,i,a,u,f,m){switch(a){case"style":Ju(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Un(n,u):(typeof u=="number"||typeof u=="bigint")&&Un(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):zi(n,a,u)}}}function Yt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,m,T,a,null)}}f&&et(n,i,"srcSet",a.srcSet,a,null),u&&et(n,i,"src",a.src,a,null);return;case"input":Le("invalid",n);var b=m=T=f=null,O=null,z=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":T=W;break;case"checked":O=W;break;case"defaultChecked":z=W;break;case"value":m=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:et(n,i,u,W,a,null)}}Bs(n,m,b,O,z,T,f,!1),js(n);return;case"select":Le("invalid",n),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:et(n,i,f,b,a,null)}i=m,a=T,n.multiple=!!u,i!=null?Ge(n,!!u,i,!1):a!=null&&Ge(n,!!u,a,!0);return;case"textarea":Le("invalid",n),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:et(n,i,T,b,a,null)}Hi(n,u,f,m),js(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,i,O,u,a,null)}return;case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Le(Fl[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(u=a[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,z,u,a,null)}return;default:if(sl(i)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&Am(n,i,W,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&et(n,i,b,u,a,null))}function sR(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,O=null,z=null,W=null;for(X in a){var re=a[X];if(a.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=re;default:u.hasOwnProperty(X)||et(n,i,X,null,u,re)}}for(var Y in u){var X=u[Y];if(re=a[Y],u.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":m=X;break;case"name":f=X;break;case"checked":z=X;break;case"defaultChecked":W=X;break;case"value":T=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==re&&et(n,i,Y,X,u,re)}}qi(n,T,b,O,z,W,m,f);return;case"select":X=T=b=Y=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(m)||et(n,i,m,null,u,O)}for(f in u)if(m=u[f],O=a[f],u.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Y=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==O&&et(n,i,f,m,u,O)}i=b,a=T,u=X,Y!=null?Ge(n,!!a,Y,!1):!!u!=!!a&&(i!=null?Ge(n,!!a,i,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(n,i,b,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(n,i,T,f,u,m)}zs(n,Y,X);return;case"option":for(var ve in a)if(Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":n.selected=!1;break;default:et(n,i,ve,null,u,Y)}for(O in u)if(Y=u[O],X=a[O],u.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null))switch(O){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(n,i,O,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)Y=a[Ce],a.hasOwnProperty(Ce)&&Y!=null&&!u.hasOwnProperty(Ce)&&et(n,i,Ce,null,u,Y);for(z in u)if(Y=u[z],X=a[z],u.hasOwnProperty(z)&&Y!==X&&(Y!=null||X!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:et(n,i,z,Y,u,X)}return;default:if(sl(i)){for(var gt in a)Y=a[gt],a.hasOwnProperty(gt)&&Y!==void 0&&!u.hasOwnProperty(gt)&&Am(n,i,gt,void 0,u,Y);for(W in u)Y=u[W],X=a[W],!u.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Am(n,i,W,Y,u,X);return}}for(var F in a)Y=a[F],a.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&et(n,i,F,null,u,Y);for(re in u)Y=u[re],X=a[re],!u.hasOwnProperty(re)||Y===X||Y==null&&X==null||et(n,i,re,Y,u,X)}var Rm=null,Im=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function zv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Cm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function aR(){var n=window.event;return n&&n.type==="popstate"?n===xm?!1:(xm=n,!0):(xm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(n){return Hv.resolve(null).then(n).catch(uR)}:qv;function uR(n){setTimeout(function(){throw n})}function Nm(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Wl(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Wl(i)}function Dm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function cR(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Li])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=or(n.nextSibling),n===null)break}return null}function hR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=or(n.nextSibling),n===null))return null;return n}function or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function Gv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function $v(n,i,a){switch(i=Zc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Xn=new Map,Kv=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var fi=ce.d;ce.d={f:fR,r:dR,D:mR,C:pR,L:gR,m:yR,X:vR,S:_R,M:TR};function fR(){var n=fi.f(),i=Gc();return n||i}function dR(n){var i=Hr(n);i!==null&&i.tag===5&&i.type==="form"?T_(i):fi.r(n)}var vo=typeof document>"u"?null:document;function Yv(n,i,a){var u=vo;if(u&&typeof i=="string"&&i){var f=dt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Kv.has(f)||(Kv.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Yt(i,"link",n),lt(i),u.head.appendChild(i)))}}function mR(n){fi.D(n),Yv("dns-prefetch",n,null)}function pR(n,i){fi.C(n,i),Yv("preconnect",n,i)}function gR(n,i,a){fi.L(n,i,a);var u=vo;if(u&&n&&i){var f='link[rel="preload"][as="'+dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var m=f;switch(i){case"style":m=To(n);break;case"script":m=Eo(n)}Xn.has(m)||(n=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Xn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Hl(m))||i==="script"&&u.querySelector(Gl(m))||(i=u.createElement("link"),Yt(i,"link",n),lt(i),u.head.appendChild(i)))}}function yR(n,i){fi.m(n,i);var a=vo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dt(u)+'"][href="'+dt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Eo(n)}if(!Xn.has(m)&&(n=D({rel:"modulepreload",href:n},i),Xn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(m)))return}u=a.createElement("link"),Yt(u,"link",n),lt(u),a.head.appendChild(u)}}}function _R(n,i,a){fi.S(n,i,a);var u=vo;if(u&&n){var f=Bi(u).hoistableStyles,m=To(n);i=i||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(Hl(m)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Xn.get(m))&&Om(n,a);var O=T=u.createElement("link");lt(O),Yt(O,"link",n),O._p=new Promise(function(z,W){O.onload=z,O.onerror=W}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function vR(n,i){fi.X(n,i);var a=vo;if(a&&n){var u=Bi(a).hoistableScripts,f=Eo(n),m=u.get(f);m||(m=a.querySelector(Gl(f)),m||(n=D({src:n,async:!0},i),(i=Xn.get(f))&&km(n,i),m=a.createElement("script"),lt(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function TR(n,i){fi.M(n,i);var a=vo;if(a&&n){var u=Bi(a).hoistableScripts,f=Eo(n),m=u.get(f);m||(m=a.querySelector(Gl(f)),m||(n=D({src:n,async:!0,type:"module"},i),(i=Xn.get(f))&&km(n,i),m=a.createElement("script"),lt(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Qv(n,i,a,u){var f=(f=Mn.current)?Jc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=Bi(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=To(a.href);var m=Bi(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(Hl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),m||ER(f,n,a,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=Bi(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function To(n){return'href="'+dt(n)+'"'}function Hl(n){return'link[rel="stylesheet"]['+n+"]"}function Xv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function ER(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Yt(i,"link",a),lt(i),n.head.appendChild(i))}function Eo(n){return'[src="'+dt(n)+'"]'}function Gl(n){return"script[async]"+n}function Wv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+dt(a.href)+'"]');if(u)return i.instance=u,lt(u),u;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),lt(u),Yt(u,"style",f),eh(u,a.precedence,n),i.instance=u;case"stylesheet":f=To(a.href);var m=n.querySelector(Hl(f));if(m)return i.state.loading|=4,i.instance=m,lt(m),m;u=Xv(a),(f=Xn.get(f))&&Om(u,f),m=(n.ownerDocument||n).createElement("link"),lt(m);var T=m;return T._p=new Promise(function(b,O){T.onload=b,T.onerror=O}),Yt(m,"link",u),i.state.loading|=4,eh(m,a.precedence,n),i.instance=m;case"script":return m=Eo(a.src),(f=n.querySelector(Gl(m)))?(i.instance=f,lt(f),f):(u=a,(f=Xn.get(m))&&(u=D({},a),km(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),lt(f),Yt(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,eh(u,a.precedence,n));return i.instance}function eh(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===i)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Om(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var th=null;function Zv(n,i,a){if(th===null){var u=new Map,f=th=new Map;f.set(a,u)}else f=th,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Li]||m[Ut]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=n+T;var b=u.get(T);b?b.push(m):u.set(T,[m])}}return u}function Jv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function bR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $l=null;function wR(){}function SR(n,i,a){if($l===null)throw Error(s(475));var u=$l;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=To(a.href),m=n.querySelector(Hl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=nh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,lt(m);return}m=n.ownerDocument||n,a=Xv(a),(f=Xn.get(f))&&Om(a,f),m=m.createElement("link"),lt(m);var T=m;T._p=new Promise(function(b,O){T.onload=b,T.onerror=O}),Yt(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=nh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function AR(){if($l===null)throw Error(s(475));var n=$l;return n.stylesheets&&n.count===0&&Mm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Mm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function Mm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,i.forEach(RR,n),rh=null,nh.call(n))}function RR(n,i){if(!(i.state.loading&4)){var a=rh.get(n);if(a)var u=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=nh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Kl={$$typeof:C,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function IR(n,i,a,u,f,m,T,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function t0(n,i,a,u,f,m,T,b,O,z,W,re){return n=new IR(n,i,a,T,b,O,z,re),i=1,m===!0&&(i|=24),m=Yn(3,null,null,i),n.current=m,m.stateNode=n,i=fd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},$d(m),n}function n0(n){return n?(n=Za,n):Za}function r0(n,i,a,u,f,m){f=n0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ji(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=es(n,u,i),a!==null&&(fn(a,n,i),Nl(a,n,i))}function i0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Pm(n,i){i0(n,i),(n=n.alternate)&&i0(n,i)}function s0(n){if(n.tag===13){var i=$i(n,67108864);i!==null&&fn(i,n,67108864),Pm(n,67108864)}}var ih=!0;function CR(n,i,a,u){var f=S.T;S.T=null;var m=ce.p;try{ce.p=2,Vm(n,i,a,u)}finally{ce.p=m,S.T=f}}function xR(n,i,a,u){var f=S.T;S.T=null;var m=ce.p;try{ce.p=8,Vm(n,i,a,u)}finally{ce.p=m,S.T=f}}function Vm(n,i,a,u){if(ih){var f=Um(u);if(f===null)Sm(n,i,u,sh,a),o0(n,u);else if(DR(f,n,i,a,u))u.stopPropagation();else if(o0(n,u),i&4&&-1<NR.indexOf(n)){for(;f!==null;){var m=Hr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=nr(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var O=1<<31-ln(T);b.entanglements[1]|=O,T&=~O}Rr(m),(ct&6)===0&&(Fc=gn()+500,zl(0))}}break;case 13:b=$i(m,2),b!==null&&fn(b,m,2),Gc(),Pm(m,2)}if(m=Um(u),m===null&&Sm(n,i,u,sh,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Sm(n,i,u,null,a)}}function Um(n){return n=Ba(n),Lm(n)}var sh=null;function Lm(n){if(sh=null,n=rr(n),n!==null){var i=de(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ne(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return sh=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hu()){case Ct:return 2;case Vt:return 8;case Fr:case Gu:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var jm=!1,os=null,ls=null,us=null,Yl=new Map,Ql=new Map,cs=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(n,i){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Xl(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Hr(i),i!==null&&s0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function DR(n,i,a,u,f){switch(i){case"focusin":return os=Xl(os,n,i,a,u,f),!0;case"dragenter":return ls=Xl(ls,n,i,a,u,f),!0;case"mouseover":return us=Xl(us,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return Yl.set(m,Xl(Yl.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Xl(Ql.get(m)||null,n,i,a,u,f)),!0}return!1}function l0(n){var i=rr(n.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=Ne(a),i!==null){n.blockedOn=i,Ui(n.priority,function(){if(a.tag===13){var u=Nn(),f=$i(a,u);f!==null&&fn(f,a,u),Pm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ah(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Um(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Ln=u,a.target.dispatchEvent(u),Ln=null}else return i=Hr(a),i!==null&&s0(i),n.blockedOn=a,!1;i.shift()}return!0}function u0(n,i,a){ah(n)&&a.delete(i)}function OR(){jm=!1,os!==null&&ah(os)&&(os=null),ls!==null&&ah(ls)&&(ls=null),us!==null&&ah(us)&&(us=null),Yl.forEach(u0),Ql.forEach(u0)}function oh(n,i){n.blockedOn===i&&(n.blockedOn=null,jm||(jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OR)))}var lh=null;function c0(n){lh!==n&&(lh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===n&&(lh=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Lm(u||a)===null)continue;break}var m=Hr(a);m!==null&&(n.splice(i,3),i-=3,Cd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Wl(n){function i(O){return oh(O,n)}os!==null&&oh(os,n),ls!==null&&oh(ls,n),us!==null&&oh(us,n),Yl.forEach(i),Ql.forEach(i);for(var a=0;a<cs.length;a++){var u=cs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&cs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[xt]||null;if(typeof m=="function")T||c0(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[xt]||null)b=T.formAction;else if(Lm(f)!==null)continue}else b=T.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),c0(a)}}}function Bm(n){this._internalRoot=n}uh.prototype.render=Bm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=Nn();r0(a,u,n,i,null,null)},uh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&go(),r0(n.current,2,null,n,null,null),Gc(),i[qr]=null}};function uh(n){this._internalRoot=n}uh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<cs.length&&i!==0&&i<cs[a].priority;a++);cs.splice(a,0,n),a===0&&l0(n)}};var h0=e.version;if(h0!=="19.0.0")throw Error(s(527,h0,"19.0.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ie(i),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var kR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:rr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Di=ch.inject(kR),Zt=ch}catch{}}return Jl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=C_,m=x_,T=N_,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=t0(n,1,!1,null,null,a,u,f,m,T,b,null),n[qr]=i.current,wm(n.nodeType===8?n.parentNode:n),new Bm(i)},Jl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=C_,T=x_,b=N_,O=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=t0(n,1,!0,i,a??null,u,f,m,T,b,O,z),i.context=n0(null),a=i.current,u=Nn(),f=Ji(u),f.callback=null,es(a,f,u),i.current.lanes=u,vt(i,u),Rr(i),n[qr]=i.current,wm(n),new uh(i)},Jl.version="19.0.0",Jl}var E0;function qR(){if(E0)return qm.exports;E0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=FR(),qm.exports}var HR=qR(),eu={},b0;function GR(){if(b0)return eu;b0=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.parse=h,eu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,C){const P=new l,$=I.length;if($<2)return P;const U=(C==null?void 0:C.decode)||E;let q=0;do{const j=I.indexOf("=",q);if(j===-1)break;const K=I.indexOf(";",q),J=K===-1?$:K;if(j>J){q=I.lastIndexOf(";",j-1)+1;continue}const se=d(I,q,j),he=p(I,j,se),k=I.slice(se,he);if(P[k]===void 0){let R=d(I,j+1,J),S=p(I,J,R);const D=U(I.slice(R,S));P[k]=D}q=J+1}while(q<$);return P}function d(I,C,P){do{const $=I.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<P);return P}function p(I,C,P){for(;C>P;){const $=I.charCodeAt(--C);if($!==32&&$!==9)return C+1}return P}function g(I,C,P){const $=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const U=$(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let q=I+"="+U;if(!P)return q;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);q+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);q+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);q+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);q+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(q+="; HttpOnly"),P.secure&&(q+="; Secure"),P.partitioned&&(q+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return q}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return o.call(I)==="[object Date]"}return eu}GR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w0="popstate";function $R(r={}){function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return gp("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:gu(o)}return YR(e,t,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KR(){return Math.random().toString(36).substring(2,10)}function S0(r,e){return{usr:r.state,key:r.key,idx:e}}function gp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:t,key:e&&e.key||s||KR()}}function gu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Bo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function YR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){d="POP";let U=E(),q=U==null?null:U-g;g=U,p&&p({action:d,location:$.location,delta:q})}function I(U,q){d="PUSH";let j=gp($.location,U,q);g=E()+1;let K=S0(j,g),J=$.createHref(j);try{h.pushState(K,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(J)}l&&p&&p({action:d,location:$.location,delta:1})}function C(U,q){d="REPLACE";let j=gp($.location,U,q);g=E();let K=S0(j,g),J=$.createHref(j);h.replaceState(K,"",J),l&&p&&p({action:d,location:$.location,delta:0})}function P(U){let q=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof U=="string"?U:gu(U);return j=j.replace(/ $/,"%20"),ht(q,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,q)}let $={get action(){return d},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(w0,w),p=U,()=>{o.removeEventListener(w0,w),p=null}},createHref(U){return e(o,U)},createURL:P,encodeLocation(U){let q=P(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:I,replace:C,go(U){return h.go(U)}};return $}function NE(r,e,t="/"){return QR(r,e,t,!1)}function QR(r,e,t,s){let o=typeof e=="string"?Bo(e):e,l=ws(o.pathname||"/",t);if(l==null)return null;let h=DE(r);XR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=o1(l);d=s1(h[p],g,s)}return d}function DE(r,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=yi([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DE(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:r1(g,l.index),routesMeta:E})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of OE(l.path))o(l,h,p)}),e}function OE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=OE(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function XR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:i1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var WR=/^:[\w-]+$/,ZR=3,JR=2,e1=1,t1=10,n1=-2,A0=r=>r==="*";function r1(r,e){let t=r.split("/"),s=t.length;return t.some(A0)&&(s+=n1),e&&(s+=JR),t.filter(o=>!A0(o)).reduce((o,l)=>o+(WR.test(l)?ZR:l===""?e1:t1),s)}function i1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function s1(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",w=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),I=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:yi([l,w.pathname]),pathnameBase:h1(yi([l,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(l=yi([l,w.pathnameBase]))}return h}function kh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=a1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},I)=>{if(E==="*"){let P=d[I]||"";h=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const C=d[I];return w&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function a1(r,e=!1,t=!0){Pr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function o1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ws(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function l1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r;return{pathname:t?t.startsWith("/")?t:u1(t,e):e,search:f1(s),hash:d1(o)}}function u1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kE(r){let e=c1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ME(r,e,t,s=!1){let o;typeof r=="string"?o=Bo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let p=l1(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var yi=r=>r.join("/").replace(/\/\/+/g,"/"),h1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,d1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function m1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var PE=["POST","PUT","PATCH","DELETE"];new Set(PE);var p1=["GET",...PE];new Set(p1);var zo=L.createContext(null);zo.displayName="DataRouter";var of=L.createContext(null);of.displayName="DataRouterState";var VE=L.createContext({isTransitioning:!1});VE.displayName="ViewTransition";var g1=L.createContext(new Map);g1.displayName="Fetchers";var y1=L.createContext(null);y1.displayName="Await";var Ur=L.createContext(null);Ur.displayName="Navigation";var xu=L.createContext(null);xu.displayName="Location";var Ai=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Xp=L.createContext(null);Xp.displayName="RouteError";function _1(r,{relative:e}={}){ht(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(Ur),{hash:o,pathname:l,search:h}=Du(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:yi([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Nu(){return L.useContext(xu)!=null}function Ri(){return ht(Nu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xu).location}var UE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(r){L.useContext(Ur).static||L.useLayoutEffect(r)}function Lr(){let{isDataRoute:r}=L.useContext(Ai);return r?D1():v1()}function v1(){ht(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(zo),{basename:e,navigator:t}=L.useContext(Ur),{matches:s}=L.useContext(Ai),{pathname:o}=Ri(),l=JSON.stringify(kE(s)),h=L.useRef(!1);return LE(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Pr(h.current,UE),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=ME(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:yi([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,r])}L.createContext(null);function Du(r,{relative:e}={}){let{matches:t}=L.useContext(Ai),{pathname:s}=Ri(),o=JSON.stringify(kE(t));return L.useMemo(()=>ME(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function T1(r,e){return jE(r,e)}function jE(r,e,t,s){var j;ht(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=L.useContext(Ur),{matches:h}=L.useContext(Ai),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",w=d&&d.route;{let K=w&&w.path||"";BE(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=Ri(),C;if(e){let K=typeof e=="string"?Bo(e):e;ht(E==="/"||((j=K.pathname)==null?void 0:j.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),C=K}else C=I;let P=C.pathname||"/",$=P;if(E!=="/"){let K=E.replace(/^\//,"").split("/");$="/"+P.replace(/^\//,"").split("/").slice(K.length).join("/")}let U=!l&&t&&t.matches&&t.matches.length>0?t.matches:NE(r,{pathname:$});Pr(w||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Pr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=A1(U&&U.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:yi([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:yi([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,s);return e&&q?L.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},q):q}function E1(){let r=N1(),e=m1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,h)}var b1=L.createElement(E1,null),w1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(Ai.Provider,{value:this.props.routeContext},L.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S1({routeContext:r,match:e,children:t}){let s=L.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ai.Provider,{value:r},t)}function A1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:w}=t,I=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,I=!1,C=null,P=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||b1,h&&(d<0&&E===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):d===E&&(I=!0,P=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),U=()=>{let q;return w?q=C:I?q=P:g.route.Component?q=L.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,L.createElement(S1,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?L.createElement(w1,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function Wp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(r){let e=L.useContext(zo);return ht(e,Wp(r)),e}function I1(r){let e=L.useContext(of);return ht(e,Wp(r)),e}function C1(r){let e=L.useContext(Ai);return ht(e,Wp(r)),e}function Zp(r){let e=C1(r),t=e.matches[e.matches.length-1];return ht(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function x1(){return Zp("useRouteId")}function N1(){var s;let r=L.useContext(Xp),e=I1("useRouteError"),t=Zp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function D1(){let{router:r}=R1("useNavigate"),e=Zp("useNavigate"),t=L.useRef(!1);return LE(()=>{t.current=!0}),L.useCallback(async(o,l={})=>{Pr(t.current,UE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var R0={};function BE(r,e,t){!e&&!R0[r]&&(R0[r]=!0,Pr(!1,t))}L.memo(O1);function O1({routes:r,future:e,state:t}){return jE(r,void 0,t,e)}function Cr(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ht(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Bo(t));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:I="default"}=t,C=L.useMemo(()=>{let P=ws(p,h);return P==null?null:{location:{pathname:P,search:g,hash:E,state:w,key:I},navigationType:s}},[h,p,g,E,w,I,s]);return Pr(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(Ur.Provider,{value:d},L.createElement(xu.Provider,{children:e,value:C}))}function M1({children:r,location:e}){return T1(yp(r),e)}function yp(r,e=[]){let t=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let l=[...e,o];if(s.type===L.Fragment){t.push.apply(t,yp(s.props.children,l));return}ht(s.type===Cr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=yp(s.props.children,l)),t.push(h)}),t}var Eh="get",bh="application/x-www-form-urlencoded";function lf(r){return r!=null&&typeof r.tagName=="string"}function P1(r){return lf(r)&&r.tagName.toLowerCase()==="button"}function V1(r){return lf(r)&&r.tagName.toLowerCase()==="form"}function U1(r){return lf(r)&&r.tagName.toLowerCase()==="input"}function L1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function j1(r,e){return r.button===0&&(!e||e==="_self")&&!L1(r)}var hh=null;function B1(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!z1.has(r)?(Pr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):r}function F1(r,e){let t,s,o,l,h;if(V1(r)){let d=r.getAttribute("action");s=d?ws(d,e):null,t=r.getAttribute("method")||Eh,o=Ym(r.getAttribute("enctype"))||bh,l=new FormData(r)}else if(P1(r)||U1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?ws(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Eh,o=Ym(r.getAttribute("formenctype"))||Ym(d.getAttribute("enctype"))||bh,l=new FormData(d,r),!B1()){let{name:g,type:E,value:w}=r;if(E==="image"){let I=g?`${g}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else g&&l.append(g,w)}}else{if(lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eh,s=null,o=bh,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function q1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function G1(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await q1(l,t);return h.links?h.links():[]}return[]}));return Q1(s.flat(1).filter(H1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(r,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function $1(r,e,{includeHydrateFallback:t}={}){return K1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function K1(r){return[...new Set(r)]}function Y1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Q1(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(Y1(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function X1(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function W1(){let r=L.useContext(zo);return Jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Z1(){let r=L.useContext(of);return Jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var eg=L.createContext(void 0);eg.displayName="FrameworkContext";function zE(){let r=L.useContext(eg);return Jp(r,"You must render this element inside a <HydratedRouter> element"),r}function J1(r,e){let t=L.useContext(eg),[s,o]=L.useState(!1),[l,h]=L.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,I=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=q=>{q.forEach(j=>{h(j.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return I.current&&U.observe(I.current),()=>{U.disconnect()}}},[r]),L.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},P=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:tu(d,C),onBlur:tu(p,P),onMouseEnter:tu(g,C),onMouseLeave:tu(E,P),onTouchStart:tu(w,C)}]:[!1,I,{}]}function tu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function eI({page:r,...e}){let{router:t}=W1(),s=L.useMemo(()=>NE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?L.createElement(nI,{page:r,matches:s,...e}):null}function tI(r){let{manifest:e,routeModules:t}=zE(),[s,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return G1(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function nI({page:r,matches:e,...t}){let s=Ri(),{manifest:o,routeModules:l}=zE(),{loaderData:h,matches:d}=Z1(),p=L.useMemo(()=>I0(r,e,d,o,s,"data"),[r,e,d,o,s]),g=L.useMemo(()=>I0(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,P=!1;if(e.forEach(U=>{var j;let q=o.routes[U.route.id];!q||!q.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in h&&((j=l[U.route.id])!=null&&j.shouldRevalidate)||q.hasClientLoader?P=!0:C.add(U.route.id))}),C.size===0)return[];let $=X1(r);return P&&C.size>0&&$.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,o,p,e,r,l]),w=L.useMemo(()=>$1(g,o),[g,o]),I=tI(g);return L.createElement(L.Fragment,null,E.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:P})=>L.createElement("link",{key:C,...P})))}function rI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.2.0")}catch{}function iI({basename:r,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=$R({window:t,v5Compat:!0}));let o=s.current,[l,h]=L.useState({action:o.action,location:o.location}),d=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(k1,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:w,...I},C){let{basename:P}=L.useContext(Ur),$=typeof g=="string"&&qE.test(g),U,q=!1;if(typeof g=="string"&&$&&(U=g,FE))try{let S=new URL(window.location.href),D=g.startsWith("//")?new URL(S.protocol+g):new URL(g),N=ws(D.pathname,P);D.origin===S.origin&&N!=null?g=N+D.search+D.hash:q=!0}catch{Pr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=_1(g,{relative:o}),[K,J,se]=J1(s,I),he=lI(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:w});function k(S){e&&e(S),S.defaultPrevented||he(S)}let R=L.createElement("a",{...I,...se,href:U||j,onClick:q||l?e:k,ref:rI(C,J),target:p,"data-discover":!$&&t==="render"?"true":void 0});return K&&!$?L.createElement(L.Fragment,null,R,L.createElement(eI,{page:j})):R});yu.displayName="Link";var sI=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let w=Du(h,{relative:g.relative}),I=Ri(),C=L.useContext(of),{navigator:P,basename:$}=L.useContext(Ur),U=C!=null&&dI(w)&&d===!0,q=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,j=I.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(j=j.toLowerCase(),K=K?K.toLowerCase():null,q=q.toLowerCase()),K&&$&&(K=ws(K,$)||K);const J=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let se=j===q||!o&&j.startsWith(q)&&j.charAt(J)==="/",he=K!=null&&(K===q||!o&&K.startsWith(q)&&K.charAt(q.length)==="/"),k={isActive:se,isPending:he,isTransitioning:U},R=se?e:void 0,S;typeof s=="function"?S=s(k):S=[s,se?"active":null,he?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return L.createElement(yu,{...g,"aria-current":R,className:S,ref:E,style:D,to:h,viewTransition:d},typeof p=="function"?p(k):p)});sI.displayName="NavLink";var aI=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Eh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...I},C)=>{let P=hI(),$=fI(d,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&qE.test(d),j=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,se=(J==null?void 0:J.getAttribute("formmethod"))||h;P(J||K.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:w})};return L.createElement("form",{ref:C,method:U,action:$,onSubmit:s?p:j,...I,"data-discover":!q&&r==="render"?"true":void 0})});aI.displayName="Form";function oI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(r){let e=L.useContext(zo);return ht(e,oI(r)),e}function lI(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=Lr(),p=Ri(),g=Du(r,{relative:l});return L.useCallback(E=>{if(j1(E,e)){E.preventDefault();let w=t!==void 0?t:gu(p)===gu(g);d(r,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,r,o,l,h])}var uI=0,cI=()=>`__${String(++uI)}__`;function hI(){let{router:r}=HE("useSubmit"),{basename:e}=L.useContext(Ur),t=x1();return L.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=F1(s,e);if(o.navigate===!1){let E=o.fetcherKey||cI();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function fI(r,{relative:e}={}){let{basename:t}=L.useContext(Ur),s=L.useContext(Ai);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Du(r||".",{relative:e})},h=Ri();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:yi([t,l.pathname])),gu(l)}function dI(r,e={}){let t=L.useContext(VE);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HE("useViewTransitionState"),o=Du(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ws(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ws(t.nextLocation.pathname,s)||t.nextLocation.pathname;return kh(o.pathname,h)!=null||kh(o.pathname,l)!=null}new TextEncoder;var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=l>>2,w=(l&3)<<4|d>>4;let I=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(I=64)),s.push(t[E],t[w],t[I],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(GE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):mI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new pI;const I=l<<2|d>>4;if(s.push(I),g!==64){const C=d<<4&240|g>>2;if(s.push(C),w!==64){const P=g<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gI=function(r){const e=GE(r);return $E.encodeByteArray(e,!0)},Mh=function(r){return gI(r).replace(/\./g,"")},KE=function(r){try{return $E.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>yI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof C0>"u")return;const r=C0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KE(r[1]);return e&&JSON.parse(e)},uf=()=>{try{return _I()||vI()||TI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YE=r=>{var e,t;return(t=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},QE=r=>{const e=YE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},XE=()=>{var r;return(r=uf())===null||r===void 0?void 0:r.config},WE=r=>{var e;return(e=uf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mh(JSON.stringify(t)),Mh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function wI(){var r;const e=(r=uf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RI(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function II(){return!wI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eb(){try{return typeof indexedDB=="object"}catch{return!1}}function tb(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function CI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class tr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=xI,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ra.prototype.create)}}class Ra{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?NI(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new tr(o,d,s)}}function NI(r,e){return r.replace(DI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DI=/\{\$([^}]+)}/g;function OI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _u(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(x0(l)&&x0(h)){if(!_u(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function x0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function iu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function kI(r,e){const t=new MI(r,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");PI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1e3,UI=2,LI=4*60*60*1e3,jI=.5;function N0(r,e=VI,t=UI){const s=e*Math.pow(t,r),o=Math.round(jI*s*(Math.random()-.5)*2);return Math.min(LI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(r){return r&&r._delegate?r._delegate:r}class Jn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new EI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FI(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(r){return r===da?void 0:r}function FI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const HI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},GI=Ve.INFO,$I={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},KI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$I[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const YI=(r,e)=>e.some(t=>r instanceof t);let D0,O0;function QI(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,_p=new WeakMap,rb=new WeakMap,Xm=new WeakMap,tg=new WeakMap;function WI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(vs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&nb.set(t,r)}).catch(()=>{}),tg.set(e,r),e}function ZI(r){if(_p.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});_p.set(r,e)}let vp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JI(r){vp=r(vp)}function eC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Wm(this),e,...t);return rb.set(s,e.sort?e.sort():[e]),vs(s)}:XI().includes(r)?function(...e){return r.apply(Wm(this),e),vs(nb.get(this))}:function(...e){return vs(r.apply(Wm(this),e))}}function tC(r){return typeof r=="function"?eC(r):(r instanceof IDBTransaction&&ZI(r),YI(r,QI())?new Proxy(r,vp):r)}function vs(r){if(r instanceof IDBRequest)return WI(r);if(Xm.has(r))return Xm.get(r);const e=tC(r);return e!==r&&(Xm.set(r,e),tg.set(e,r)),e}const Wm=r=>tg.get(r);function ib(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=vs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(vs(h.result),p.oldVersion,p.newVersion,vs(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const nC=["get","getKey","getAll","getAllKeys","count"],rC=["put","add","delete","clear"],Zm=new Map;function k0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=rC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nC.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Zm.set(e,l),l}JI(r=>({...r,get:(e,t,s)=>k0(e,t)||r.get(e,t,s),has:(e,t)=>!!k0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function sC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",M0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new cf("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",lC="@firebase/analytics",uC="@firebase/app-check-compat",cC="@firebase/app-check",hC="@firebase/auth",fC="@firebase/auth-compat",dC="@firebase/database",mC="@firebase/data-connect",pC="@firebase/database-compat",gC="@firebase/functions",yC="@firebase/functions-compat",_C="@firebase/installations",vC="@firebase/installations-compat",TC="@firebase/messaging",EC="@firebase/messaging-compat",bC="@firebase/performance",wC="@firebase/performance-compat",SC="@firebase/remote-config",AC="@firebase/remote-config-compat",RC="@firebase/storage",IC="@firebase/storage-compat",CC="@firebase/firestore",xC="@firebase/vertexai",NC="@firebase/firestore-compat",DC="firebase",OC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",kC={[Tp]:"fire-core",[aC]:"fire-core-compat",[lC]:"fire-analytics",[oC]:"fire-analytics-compat",[cC]:"fire-app-check",[uC]:"fire-app-check-compat",[hC]:"fire-auth",[fC]:"fire-auth-compat",[dC]:"fire-rtdb",[mC]:"fire-data-connect",[pC]:"fire-rtdb-compat",[gC]:"fire-fn",[yC]:"fire-fn-compat",[_C]:"fire-iid",[vC]:"fire-iid-compat",[TC]:"fire-fcm",[EC]:"fire-fcm-compat",[bC]:"fire-perf",[wC]:"fire-perf-compat",[SC]:"fire-rc",[AC]:"fire-rc-compat",[RC]:"fire-gcs",[IC]:"fire-gcs-compat",[CC]:"fire-fst",[NC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[DC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,MC=new Map,bp=new Map;function P0(r,e){try{r.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ur(r){const e=r.name;if(bp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,r);for(const t of Ph.values())P0(t,r);for(const t of MC.values())P0(t,r);return!0}function Os(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Ra("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=OC;function sb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(t||(t=XE()),!t)throw Ts.create("no-options");const l=Ph.get(o);if(l){if(_u(t,l.options)&&_u(s,l.config))return l;throw Ts.create("duplicate-app",{appName:o})}const h=new qI(o);for(const p of bp.values())h.addComponent(p);const d=new VC(t,s,h);return Ph.set(o,d),d}function hf(r=Ep){const e=Ph.get(r);if(!e&&r===Ep&&XE())return sb();if(!e)throw Ts.create("no-app",{appName:r});return e}function En(r,e,t){var s;let o=(s=kC[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}ur(new Jn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="firebase-heartbeat-database",LC=1,vu="firebase-heartbeat-store";let Jm=null;function ab(){return Jm||(Jm=ib(UC,LC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function jC(r){try{const t=(await ab()).transaction(vu),s=await t.objectStore(vu).get(ob(r));return await t.done,s}catch(e){if(e instanceof tr)vi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function V0(r,e){try{const s=(await ab()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,ob(r)),await s.done}catch(t){if(t instanceof tr)vi.warn(t.message);else{const s=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(s.message)}}}function ob(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=1024,zC=30;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>zC){const h=GC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U0(),{heartbeatsToSend:s,unsentEntries:o}=qC(this._heartbeatsCache.heartbeats),l=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vi.warn(t),""}}}function U0(){return new Date().toISOString().substring(0,10)}function qC(r,e=BC){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),L0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class HC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eb()?tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L0(r){return Mh(JSON.stringify({version:2,heartbeats:r})).length}function GC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){ur(new Jn("platform-logger",e=>new iC(e),"PRIVATE")),ur(new Jn("heartbeat",e=>new FC(e),"PRIVATE")),En(Tp,M0,r),En(Tp,M0,"esm2017"),En("fire-js","")}$C("");function ng(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=lb,ub=new Ra("auth","Firebase",lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new cf("@firebase/auth");function YC(r,...e){Vh.logLevel<=Ve.WARN&&Vh.warn(`Auth (${Ia}): ${r}`,...e)}function wh(r,...e){Vh.logLevel<=Ve.ERROR&&Vh.error(`Auth (${Ia}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r,...e){throw ig(r,...e)}function lr(r,...e){return ig(r,...e)}function rg(r,e,t){const s=Object.assign(Object.assign({},KC()),{[e]:t});return new Ra("auth","Firebase",s).create(e,{appName:r.name})}function Dr(r){return rg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QC(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&er(r,"argument-error"),rg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return ub.create(r,...e)}function Ae(r,e,...t){if(!r)throw ig(e,...t)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wh(e),new Error(e)}function Ti(r,e){r||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XC(){return j0()==="http:"||j0()==="https:"}function j0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||JE()||"connection"in navigator)?navigator.onLine:!0}function ZC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=bI()||AI()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,e){Ti(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new ku(3e4,6e4);function Ii(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function jr(r,e,t,s,o={}){return hb(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Ou(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return SI()||(g.referrerPolicy="no-referrer"),cb.fetch()(fb(r,r.config.apiHost,t,d),g)})}async function hb(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},JC),e);try{const o=new nx(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw fh(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw fh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw fh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rg(r,E,g);er(r,E)}}catch(o){if(o instanceof tr)throw o;er(r,"network-request-failed",{message:String(o)})}}async function Mu(r,e,t,s,o={}){const l=await jr(r,e,t,s,o);return"mfaPendingCredential"in l&&er(r,"multi-factor-auth-required",{_serverResponse:l}),l}function fb(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?sg(r.config,o):`${r.config.apiScheme}://${o}`}function tx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),ex.get())})}}function fh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=lr(r,e,s);return o.customData._tokenResponse=t,o}function B0(r){return r!==void 0&&r.enterprise!==void 0}class rx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ix(r,e){return jr(r,"GET","/v2/recaptchaConfig",Ii(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(r,e){return jr(r,"POST","/v1/accounts:delete",e)}async function db(r,e){return jr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ax(r,e=!1){const t=We(r),s=await t.getIdToken(e),o=ag(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:uu(ep(o.auth_time)),issuedAtTime:uu(ep(o.iat)),expirationTime:uu(ep(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ep(r){return Number(r)*1e3}function ag(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(t);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function z0(r){const e=ag(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof tr&&ox(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ox({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Oo(r,db(t,{idToken:s}));Ae(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?mb(l.providerUserInfo):[],d=cx(r.providerData,h),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function ux(r){const e=We(r);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mb(r){return r.map(e=>{var{providerId:t}=e,s=ng(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(r,e){const t=await hb(r,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=fb(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",cb.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fx(r,e){return jr(r,"POST","/v2/accounts:revokeToken",Ii(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await hx(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Co;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ax(this,e)}reload(){return ux(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Oo(this,sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,j=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:J,isAnonymous:se,providerData:he,stsTokenManager:k}=t;Ae(K&&k,e,"internal-error");const R=Co.fromJSON(this.name,k);Ae(typeof K=="string",e,"internal-error"),fs(w,e.name),fs(I,e.name),Ae(typeof J=="boolean",e,"internal-error"),Ae(typeof se=="boolean",e,"internal-error"),fs(C,e.name),fs(P,e.name),fs($,e.name),fs(U,e.name),fs(q,e.name),fs(j,e.name);const S=new pi({uid:K,auth:e,email:I,emailVerified:J,displayName:w,isAnonymous:se,photoURL:P,phoneNumber:C,tenantId:$,stsTokenManager:R,createdAt:q,lastLoginAt:j});return he&&Array.isArray(he)&&(S.providerData=he.map(D=>Object.assign({},D))),U&&(S._redirectEventId=U),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new Co;o.updateFromServerResponse(t);const l=new pi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?mb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Co;d.updateFromIdToken(s);const p=new pi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function gi(r){Ti(r instanceof Function,"Expected a class definition");let e=F0.get(r);return e?(Ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,F0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pb.type="NONE";const q0=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r,e,t){return`firebase:${r}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Sh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(gi(q0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||gi(q0);const h=Sh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const w=pi._fromJSON(e,E);g!==l&&(d=w),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new xo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new xo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(bb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gb(r=on()){return/firefox\//i.test(r)}function yb(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(r=on()){return/crios\//i.test(r)}function vb(r=on()){return/iemobile/i.test(r)}function Tb(r=on()){return/android/i.test(r)}function Eb(r=on()){return/blackberry/i.test(r)}function bb(r=on()){return/webos/i.test(r)}function og(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dx(r=on()){var e;return og(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mx(){return RI()&&document.documentMode===10}function wb(r=on()){return og(r)||Tb(r)||bb(r)||Eb(r)||/windows phone/i.test(r)||vb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,e=[]){let t;switch(r){case"Browser":t=H0(on());break;case"Worker":t=`${H0(on())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(r,e={}){return jr(r,"GET","/v2/passwordPolicy",Ii(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=6;class _x{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:yx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G0(this),this.idTokenSubscription=new G0(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await db(this,{idToken:e}),s=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Dr(this));const t=e?We(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gx(this),t=new _x(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ra("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await fx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ci(r){return We(r)}class G0{constructor(e){this.auth=e,this.observer=null,this.addObserver=kI(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tx(r){ff=r}function Ab(r){return ff.loadJS(r)}function Ex(){return ff.recaptchaEnterpriseScript}function bx(){return ff.gapiScript}function wx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Sx{constructor(){this.enterprise=new Ax}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ax{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rx="recaptcha-enterprise",Rb="NO_RECAPTCHA";class Ix{constructor(e){this.type=Rx,this.auth=Ci(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{ix(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new rx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;B0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(Rb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sx().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&B0(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ex();p.length!==0&&(p+=d),Ab(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function $0(r,e,t,s=!1,o=!1){const l=new Ix(r);let h;if(o)h=Rb;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lh(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await $0(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $0(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(r,e){const t=Os(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(_u(l,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function xx(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Nx(r,e,t){const s=Ci(r);Ae(s._canInitEmulator,s,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Ib(e),{host:h,port:d}=Dx(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),Ox()}function Ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Dx(r){const e=Ib(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:K0(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:K0(h)}}}function K0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Ox(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,t){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function kx(r,e){return jr(r,"POST","/v1/accounts:update",e)}async function Mx(r,e){return jr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(r,e){return Mu(r,"POST","/v1/accounts:signInWithPassword",Ii(r,e))}async function Vx(r,e){return jr(r,"POST","/v1/accounts:sendOobCode",Ii(r,e))}async function Ux(r,e){return Vx(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(r,e){return Mu(r,"POST","/v1/accounts:signInWithEmailLink",Ii(r,e))}async function jx(r,e){return Mu(r,"POST","/v1/accounts:signInWithEmailLink",Ii(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends lg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,t,"signInWithPassword",Px);case"emailLink":return Lx(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,s,"signUpPassword",Mx);case"emailLink":return jx(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,e){return Mu(r,"POST","/v1/accounts:signInWithIdp",Ii(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="http://localhost";class _a extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ng(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new _a(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,No(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:Bx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fx(r){const e=ru(iu(r)).link,t=e?ru(iu(e)).deep_link_id:null,s=ru(iu(r)).deep_link_id;return(s?ru(iu(s)).link:null)||s||t||e||r}class ug{constructor(e){var t,s,o,l,h,d;const p=ru(iu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=zx((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fx(e);try{return new ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ug.parseLink(t);return Ae(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Pu{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return di.credential(t,s)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Pu{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Pu{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(r,e){return Mu(r,"POST","/v1/accounts:signUp",Ii(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await pi._fromIdTokenResponse(e,s,o),h=Y0(s);return new va({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Y0(s);return new va({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends tr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new jh(e,t,s,o)}}function Cb(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,l,e,s):l})}async function Hx(r,e,t=!1){const s=await Oo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return va._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e,t=!1){const{auth:s}=r;if(mn(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const l=await Oo(r,Cb(s,o,e,r),t);Ae(l.idToken,s,"internal-error");const h=ag(l.idToken);Ae(h,s,"internal-error");const{sub:d}=h;return Ae(r.uid===d,s,"user-mismatch"),va._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&er(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(r,e,t=!1){if(mn(r.app))return Promise.reject(Dr(r));const s="signIn",o=await Cb(r,s,e),l=await va._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function $x(r,e){return xb(Ci(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(r){const e=Ci(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kx(r,e,t){const s=Ci(r);await Lh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ux)}async function Yx(r,e,t){if(mn(r.app))return Promise.reject(Dr(r));const s=Ci(r),h=await Lh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Nb(r),p}),d=await va._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function Qx(r,e,t){return mn(r.app)?Promise.reject(Dr(r)):$x(We(r),Fo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Nb(r),s})}function Xx(r,e){const t=We(r);return mn(t.auth.app)?Promise.reject(Dr(t.auth)):Db(t,e,null)}function Wx(r,e){return Db(We(r),null,e)}async function Db(r,e,t){const{auth:s}=r,l={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const h=await Oo(r,kx(s,l));await r._updateTokensIfNecessary(h,!0)}function Zx(r,e,t,s){return We(r).onIdTokenChanged(e,t,s)}function Jx(r,e,t){return We(r).beforeAuthStateChanged(e,t)}function Ob(r,e,t,s){return We(r).onAuthStateChanged(e,t,s)}function hg(r){return We(r).signOut()}async function eN(r){return We(r).delete()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=1e3,nN=10;class Mb extends kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);mx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const rN=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pb.type="SESSION";const Vb=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await iN(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=fg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function aN(r){Or().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function oN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function uN(){return Ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebaseLocalStorageDb",cN=1,zh="firebaseLocalStorage",jb="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function hN(){const r=indexedDB.deleteDatabase(Lb);return new Vu(r).toPromise()}function Ap(){const r=indexedDB.open(Lb,cN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:jb})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await hN(),e(await Ap()))})})}async function Q0(r,e,t){const s=mf(r,!0).put({[jb]:e,value:t});return new Vu(s).toPromise()}async function fN(r,e){const t=mf(r,!1).get(e),s=await new Vu(t).toPromise();return s===void 0?null:s.value}function X0(r,e){const t=mf(r,!0).delete(e);return new Vu(t).toPromise()}const dN=800,mN=3;class Bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>mN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(uN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new sN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await Q0(e,Bh,"1"),await X0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>fN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>X0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=mf(o,!1).getAll();return new Vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bb.type="LOCAL";const pN=Bb;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(r,e){return e?gi(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gN(r){return xb(r.auth,new dg(r),r.bypassAuthState)}function yN(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),Gx(t,new dg(r),r.bypassAuthState)}async function _N(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),Hx(t,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gN;case"linkViaPopup":case"linkViaRedirect":return _N;case"reauthViaPopup":case"reauthViaRedirect":return yN;default:er(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new ku(2e3,1e4);async function TN(r,e,t){if(mn(r.app))return Promise.reject(lr(r,"operation-not-supported-in-this-environment"));const s=Ci(r);QC(r,e,cg);const o=zb(s,t);return new ma(s,"signInViaPopup",e,o).executeNotNull()}class ma extends Fb{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vN.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="pendingRedirect",Ah=new Map;class bN extends Fb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await wN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wN(r,e){const t=RN(e),s=AN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function SN(r,e){Ah.set(r._key(),e)}function AN(r){return gi(r._redirectPersistence)}function RN(r){return Sh(EN,r.config.apiKey,r.name)}async function IN(r,e,t=!1){if(mn(r.app))return Promise.reject(Dr(r));const s=Ci(r),o=zb(s,e),h=await new bN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=10*60*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!qb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(e))}saveEventToCache(e){this.cachedEventUids.add(W0(e)),this.lastProcessedEventTime=Date.now()}}function W0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e={}){return jr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function MN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DN(r);for(const t of e)try{if(PN(t))return}catch{}er(r,"unauthorized-domain")}function PN(r){const e=wp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!kN.test(t))return!1;if(ON.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new ku(3e4,6e4);function Z0(){const r=Or().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function UN(r){return new Promise((e,t)=>{var s,o,l;function h(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),t(lr(r,"network-request-failed"))},timeout:VN.get()})}if(!((o=(s=Or().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Or().gapi)===null||l===void 0)&&l.load)h();else{const d=wx("iframefcb");return Or()[d]=()=>{gapi.load?h():t(lr(r,"network-request-failed"))},Ab(`${bx()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function LN(r){return Rh=Rh||UN(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new ku(5e3,15e3),BN="__/auth/iframe",zN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HN(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?sg(e,zN):`https://${r.config.authDomain}/${BN}`,s={apiKey:e.apiKey,appName:r.name,v:Ia},o=qN.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ou(s).slice(1)}`}async function GN(r){const e=await LN(r),t=Or().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:HN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=lr(r,"network-request-failed"),d=Or().setTimeout(()=>{l(h)},jN.get());function p(){Or().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KN=500,YN=600,QN="_blank",XN="http://localhost";class J0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(r,e,t,s=KN,o=YN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},$N),{width:s.toString(),height:o.toString(),top:l,left:h}),g=on().toLowerCase();t&&(d=_b(g)?QN:t),gb(g)&&(e=e||XN,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[C,P])=>`${I}${C}=${P},`,"");if(dx(g)&&d!=="_self")return ZN(e||"",d),new J0(null);const w=window.open(e||"",d,E);Ae(w,r,"popup-blocked");try{w.focus()}catch{}return new J0(w)}function ZN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__/auth/handler",e2="emulator/auth/handler",t2=encodeURIComponent("fac");async function eT(r,e,t,s,o,l){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ia,eventId:o};if(e instanceof cg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",OI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof Pu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${t2}=${encodeURIComponent(p)}`:"";return`${n2(r)}?${Ou(d).slice(1)}${g}`}function n2({config:r}){return r.emulator?sg(r,e2):`https://${r.authDomain}/${JN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=IN,this._overrideRedirectResult=SN}async _openPopup(e,t,s,o){var l;Ti((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await eT(e,t,s,wp(),o);return WN(e,h,fg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await eT(e,t,s,wp(),o);return aN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ti(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await GN(e),s=new xN(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[tp];h!==void 0&&t(!!h),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wb()||yb()||og()}}const i2=r2;var tT="@firebase/auth",nT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o2(r){ur(new Jn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},g=new vx(s,o,l,p);return xx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ur(new Jn("auth-internal",e=>{const t=Ci(e.getProvider("auth").getImmediate());return(s=>new s2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(tT,nT,a2(r)),En(tT,nT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=5*60,u2=WE("authIdTokenMaxAge")||l2;let rT=null;const c2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>u2)return;const o=t==null?void 0:t.token;rT!==o&&(rT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function h2(r=hf()){const e=Os(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Cx(r,{popupRedirectResolver:i2,persistence:[pN,rN,Vb]}),s=WE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=c2(l.toString());Jx(t,h,()=>h(t.currentUser)),Zx(t,d=>h(d))}}const o=YE("auth");return o&&Nx(t,`http://${o}`),t}function f2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Tx({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=lr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",f2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o2("Browser");var d2="firebase",m2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En(d2,m2,"app");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,Hb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function S(){}S.prototype=R.prototype,k.D=R.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(D,N,M){for(var x=Array(arguments.length-2),le=2;le<arguments.length;le++)x[le-2]=arguments[le];return R.prototype[N].apply(D,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)D[N]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(N=0;16>N;++N)D[N]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=k.g[0],S=k.g[1],N=k.g[2];var M=k.g[3],x=R+(M^S&(N^M))+D[0]+3614090360&4294967295;R=S+(x<<7&4294967295|x>>>25),x=M+(N^R&(S^N))+D[1]+3905402710&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(S^M&(R^S))+D[2]+606105819&4294967295,N=M+(x<<17&4294967295|x>>>15),x=S+(R^N&(M^R))+D[3]+3250441966&4294967295,S=N+(x<<22&4294967295|x>>>10),x=R+(M^S&(N^M))+D[4]+4118548399&4294967295,R=S+(x<<7&4294967295|x>>>25),x=M+(N^R&(S^N))+D[5]+1200080426&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(S^M&(R^S))+D[6]+2821735955&4294967295,N=M+(x<<17&4294967295|x>>>15),x=S+(R^N&(M^R))+D[7]+4249261313&4294967295,S=N+(x<<22&4294967295|x>>>10),x=R+(M^S&(N^M))+D[8]+1770035416&4294967295,R=S+(x<<7&4294967295|x>>>25),x=M+(N^R&(S^N))+D[9]+2336552879&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(S^M&(R^S))+D[10]+4294925233&4294967295,N=M+(x<<17&4294967295|x>>>15),x=S+(R^N&(M^R))+D[11]+2304563134&4294967295,S=N+(x<<22&4294967295|x>>>10),x=R+(M^S&(N^M))+D[12]+1804603682&4294967295,R=S+(x<<7&4294967295|x>>>25),x=M+(N^R&(S^N))+D[13]+4254626195&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(S^M&(R^S))+D[14]+2792965006&4294967295,N=M+(x<<17&4294967295|x>>>15),x=S+(R^N&(M^R))+D[15]+1236535329&4294967295,S=N+(x<<22&4294967295|x>>>10),x=R+(N^M&(S^N))+D[1]+4129170786&4294967295,R=S+(x<<5&4294967295|x>>>27),x=M+(S^N&(R^S))+D[6]+3225465664&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^S&(M^R))+D[11]+643717713&4294967295,N=M+(x<<14&4294967295|x>>>18),x=S+(M^R&(N^M))+D[0]+3921069994&4294967295,S=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(S^N))+D[5]+3593408605&4294967295,R=S+(x<<5&4294967295|x>>>27),x=M+(S^N&(R^S))+D[10]+38016083&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^S&(M^R))+D[15]+3634488961&4294967295,N=M+(x<<14&4294967295|x>>>18),x=S+(M^R&(N^M))+D[4]+3889429448&4294967295,S=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(S^N))+D[9]+568446438&4294967295,R=S+(x<<5&4294967295|x>>>27),x=M+(S^N&(R^S))+D[14]+3275163606&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^S&(M^R))+D[3]+4107603335&4294967295,N=M+(x<<14&4294967295|x>>>18),x=S+(M^R&(N^M))+D[8]+1163531501&4294967295,S=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(S^N))+D[13]+2850285829&4294967295,R=S+(x<<5&4294967295|x>>>27),x=M+(S^N&(R^S))+D[2]+4243563512&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^S&(M^R))+D[7]+1735328473&4294967295,N=M+(x<<14&4294967295|x>>>18),x=S+(M^R&(N^M))+D[12]+2368359562&4294967295,S=N+(x<<20&4294967295|x>>>12),x=R+(S^N^M)+D[5]+4294588738&4294967295,R=S+(x<<4&4294967295|x>>>28),x=M+(R^S^N)+D[8]+2272392833&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^S)+D[11]+1839030562&4294967295,N=M+(x<<16&4294967295|x>>>16),x=S+(N^M^R)+D[14]+4259657740&4294967295,S=N+(x<<23&4294967295|x>>>9),x=R+(S^N^M)+D[1]+2763975236&4294967295,R=S+(x<<4&4294967295|x>>>28),x=M+(R^S^N)+D[4]+1272893353&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^S)+D[7]+4139469664&4294967295,N=M+(x<<16&4294967295|x>>>16),x=S+(N^M^R)+D[10]+3200236656&4294967295,S=N+(x<<23&4294967295|x>>>9),x=R+(S^N^M)+D[13]+681279174&4294967295,R=S+(x<<4&4294967295|x>>>28),x=M+(R^S^N)+D[0]+3936430074&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^S)+D[3]+3572445317&4294967295,N=M+(x<<16&4294967295|x>>>16),x=S+(N^M^R)+D[6]+76029189&4294967295,S=N+(x<<23&4294967295|x>>>9),x=R+(S^N^M)+D[9]+3654602809&4294967295,R=S+(x<<4&4294967295|x>>>28),x=M+(R^S^N)+D[12]+3873151461&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^S)+D[15]+530742520&4294967295,N=M+(x<<16&4294967295|x>>>16),x=S+(N^M^R)+D[2]+3299628645&4294967295,S=N+(x<<23&4294967295|x>>>9),x=R+(N^(S|~M))+D[0]+4096336452&4294967295,R=S+(x<<6&4294967295|x>>>26),x=M+(S^(R|~N))+D[7]+1126891415&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~S))+D[14]+2878612391&4294967295,N=M+(x<<15&4294967295|x>>>17),x=S+(M^(N|~R))+D[5]+4237533241&4294967295,S=N+(x<<21&4294967295|x>>>11),x=R+(N^(S|~M))+D[12]+1700485571&4294967295,R=S+(x<<6&4294967295|x>>>26),x=M+(S^(R|~N))+D[3]+2399980690&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~S))+D[10]+4293915773&4294967295,N=M+(x<<15&4294967295|x>>>17),x=S+(M^(N|~R))+D[1]+2240044497&4294967295,S=N+(x<<21&4294967295|x>>>11),x=R+(N^(S|~M))+D[8]+1873313359&4294967295,R=S+(x<<6&4294967295|x>>>26),x=M+(S^(R|~N))+D[15]+4264355552&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~S))+D[6]+2734768916&4294967295,N=M+(x<<15&4294967295|x>>>17),x=S+(M^(N|~R))+D[13]+1309151649&4294967295,S=N+(x<<21&4294967295|x>>>11),x=R+(N^(S|~M))+D[4]+4149444226&4294967295,R=S+(x<<6&4294967295|x>>>26),x=M+(S^(R|~N))+D[11]+3174756917&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~S))+D[2]+718787259&4294967295,N=M+(x<<15&4294967295|x>>>17),x=S+(M^(N|~R))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+M&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var S=R-this.blockSize,D=this.B,N=this.h,M=0;M<R;){if(N==0)for(;M<=S;)o(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<R;)if(D[N++]=k.charCodeAt(M++),N==this.blockSize){o(this,D),N=0;break}}else for(;M<R;)if(D[N++]=k[M++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var S=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=S&255,S/=256;for(this.u(k),k=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)k[S++]=this.g[R]>>>D&255;return k};function l(k,R){var S=d;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=R(k)}function h(k,R){this.h=R;for(var S=[],D=!0,N=k.length-1;0<=N;N--){var M=k[N]|0;D&&M==R||(S[N]=M,D=!1)}this.g=S}var d={};function p(k){return-128<=k&&128>k?l(k,function(R){return new h([R|0],0>R?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return U(g(-k));for(var R=[],S=1,D=0;k>=S;D++)R[D]=k/S|0,S*=4294967296;return new h(R,0)}function E(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return U(E(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),D=w,N=0;N<k.length;N+=8){var M=Math.min(8,k.length-N),x=parseInt(k.substring(N,N+M),R);8>M?(M=g(Math.pow(R,M)),D=D.j(M).add(g(x))):(D=D.j(S),D=D.add(g(x)))}return D}var w=p(0),I=p(1),C=p(16777216);r=h.prototype,r.m=function(){if($(this))return-U(this).m();for(var k=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);k+=(0<=D?D:4294967296+D)*R,R*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if($(this))return"-"+U(this).toString(k);for(var R=g(Math.pow(k,6)),S=this,D="";;){var N=J(S,R).g;S=q(S,N.j(R));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=N,P(S))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function $(k){return k.h==-1}r.l=function(k){return k=q(this,k),$(k)?-1:P(k)?0:1};function U(k){for(var R=k.g.length,S=[],D=0;D<R;D++)S[D]=~k.g[D];return new h(S,~k.h).add(I)}r.abs=function(){return $(this)?U(this):this},r.add=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0,N=0;N<=R;N++){var M=D+(this.i(N)&65535)+(k.i(N)&65535),x=(M>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);D=x>>>16,M&=65535,x&=65535,S[N]=x<<16|M}return new h(S,S[S.length-1]&-2147483648?-1:0)};function q(k,R){return k.add(U(R))}r.j=function(k){if(P(this)||P(k))return w;if($(this))return $(k)?U(this).j(U(k)):U(U(this).j(k));if($(k))return U(this.j(U(k)));if(0>this.l(C)&&0>k.l(C))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<k.g.length;N++){var M=this.i(D)>>>16,x=this.i(D)&65535,le=k.i(N)>>>16,_e=k.i(N)&65535;S[2*D+2*N]+=x*_e,j(S,2*D+2*N),S[2*D+2*N+1]+=M*_e,j(S,2*D+2*N+1),S[2*D+2*N+1]+=x*le,j(S,2*D+2*N+1),S[2*D+2*N+2]+=M*le,j(S,2*D+2*N+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new h(S,0)};function j(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function K(k,R){this.g=k,this.h=R}function J(k,R){if(P(R))throw Error("division by zero");if(P(k))return new K(w,w);if($(k))return R=J(U(k),R),new K(U(R.g),U(R.h));if($(R))return R=J(k,U(R)),new K(U(R.g),R.h);if(30<k.g.length){if($(k)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=I,D=R;0>=D.l(k);)S=se(S),D=se(D);var N=he(S,1),M=he(D,1);for(D=he(D,2),S=he(S,2);!P(D);){var x=M.add(D);0>=x.l(k)&&(N=N.add(S),M=x),D=he(D,1),S=he(S,1)}return R=q(k,N.j(R)),new K(N,R)}for(N=w;0<=k.l(R);){for(S=Math.max(1,Math.floor(k.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=g(S),x=M.j(R);$(x)||0<x.l(k);)S-=D,M=g(S),x=M.j(R);P(M)&&(M=I),N=N.add(M),k=q(k,x)}return new K(N,k)}r.A=function(k){return J(this,k).h},r.and=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&k.i(D);return new h(S,this.h&k.h)},r.or=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|k.i(D);return new h(S,this.h|k.h)},r.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^k.i(D);return new h(S,this.h^k.h)};function se(k){for(var R=k.g.length+1,S=[],D=0;D<R;D++)S[D]=k.i(D)<<1|k.i(D-1)>>>31;return new h(S,k.h)}function he(k,R){var S=R>>5;R%=32;for(var D=k.g.length-S,N=[],M=0;M<D;M++)N[M]=0<R?k.i(M+S)>>>R|k.i(M+S+1)<<32-R:k.i(M+S);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Es=h}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gb,su,$b,Ih,Rp,Kb,Yb,Qb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in v))break e;v=v[H]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,H={next:function(){if(!A&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function I(c,y,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,I.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,H,Q){for(var ue=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ue[Be-2]=arguments[Be];return y.prototype[H].apply(A,ue)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const H=c.length||0,Q=A.length||0;c.length=H+Q;for(let ue=0;ue<Q;ue++)c[H+ue]=A[ue]}else c.push(A)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)c[v]=A[v];for(let Q=0;Q<S.length;Q++)v=S[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function M(c){d.setTimeout(()=>{throw c},0)}function x(){var c=Ne;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,v){const A=_e.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new q(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,de=!1,Ne=new le,V=()=>{const c=d.Promise.resolve(void 0);fe=()=>{c.then(ie)}};var ie=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){M(v)}var y=_e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function we(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{J(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}P(we,ae);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),De=0;function ot(c,y,v,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=H,this.key=++De,this.da=this.fa=!1}function He(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ht(c){this.src=c,this.g={},this.h=0}Ht.prototype.add=function(c,y,v,A,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ue=Mn(c,y,A,H);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new ot(y,this.src,Q,!!A,H),y.fa=v,c.push(y)),y};function Br(c,y){var v=y.type;if(v in c.g){var A=c.g[v],H=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(A,H,1),Q&&(He(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Mn(c,y,v,A){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return H}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Ni={};function zr(c,y,v,A,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)zr(c,y[Q],v,A,H);return null}return v=Hu(v),c&&c[at]?c.K(y,v,g(A)?!!A.capture:!1,H):Ko(c,y,v,!1,A,H)}function Ko(c,y,v,A,H,Q){if(!y)throw Error("Invalid event type");var ue=g(H)?!!H.capture:!!H,Be=Yo(c);if(Be||(c[xi]=Be=new Ht(c)),v=Be.add(y,v,A,ue,Q),v.proxy)return v;if(A=Da(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ce||(H=ue),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(ka(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Da(){function c(v){return y.call(c.src,c.listener,v)}const y=qf;return c}function Oa(c,y,v,A,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Oa(c,y[Q],v,A,H);else A=g(A)?!!A.capture:!!A,v=Hu(v),c&&c[at]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=Mn(Q,v,A,H),-1<v&&(He(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Yo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Mn(y,v,A,H)),(v=-1<c?y[c]:null)&&Ps(v))}function Ps(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])Br(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ka(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Yo(y))?(Br(v,c),v.h==0&&(v.src=null,y[xi]=null)):He(c)}}}function ka(c){return c in Ni?Ni[c]:Ni[c]="on"+c}function qf(c,y){if(c.da)c=!0;else{y=new we(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Ps(c),c=v.call(A,y)}return c}function Yo(c){return c=c[xi],c instanceof Ht?c:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(c){return typeof c=="function"?c:(c[gn]||(c[gn]=function(y){return c.handleEvent(y)}),c[gn])}function Ct(){ge.call(this),this.i=new Ht(this),this.M=this,this.F=null}P(Ct,ge),Ct.prototype[at]=!0,Ct.prototype.removeEventListener=function(c,y,v,A){Oa(this,c,y,v,A)};function Vt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(A,c),D(y,H)}if(H=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=y.g=v[Q];H=Fr(ue,A,!0,y)&&H}if(ue=y.g=c,H=Fr(ue,A,!0,y)&&H,H=Fr(ue,A,!1,y)&&H,v)for(Q=0;Q<v.length;Q++)ue=y.g=v[Q],H=Fr(ue,A,!1,y)&&H}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)He(v[A]);delete c.g[y],c.h--}}this.F=null},Ct.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Ct.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Fr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var ue=y[Q];if(ue&&!ue.da&&ue.capture==v){var Be=ue.listener,Nt=ue.ha||ue.src;ue.fa&&Br(c.i,ue),H=Be.call(Nt,A)!==!1&&H}}return H&&!A.defaultPrevented}function Gu(c,y,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Qo(c){c.g=Gu(()=>{c.g=null,c.i&&(c.i=!1,Qo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Hf extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(c){ge.call(this),this.h=c,this.g={}}P(Vs,ge);var Di=[];function Zt(c){he(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ps(y)},c),c.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Zt(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=d.JSON.stringify,hr=d.JSON.parse,ln=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Wo(){}Wo.prototype.h=null;function $u(c){return c.h||(c.h=c.i())}function Ku(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){ae.call(this,"d")}P(Oi,ae);function nr(){ae.call(this,"c")}P(nr,ae);var Pn={},ki=null;function Ma(){return ki=ki||new Ct}Pn.La="serverreachability";function Zo(c){ae.call(this,Pn.La,c)}P(Zo,ae);function Mi(c){const y=Ma();Vt(y,new Zo(y))}Pn.STAT_EVENT="statevent";function Pa(c,y){ae.call(this,Pn.STAT_EVENT,c),this.stat=y}P(Pa,ae);function vt(c){const y=Ma();Vt(y,new Pa(y,c))}Pn.Ma="timingevent";function Yu(c,y){ae.call(this,Pn.Ma,c),this.size=y}P(Yu,ae);function Pi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Vi(){this.g=!0}Vi.prototype.xa=function(){this.g=!1};function Qu(c,y,v,A,H,Q){c.info(function(){if(c.g)if(Q)for(var ue="",Be=Q.split("&"),Nt=0;Nt<Be.length;Nt++){var ze=Be[Nt].split("=");if(1<ze.length){var jt=ze[0];ze=ze[1];var Dt=jt.split("_");ue=2<=Dt.length&&Dt[1]=="type"?ue+(jt+"="+ze+"&"):ue+(jt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+v+`
`+ue})}function Xu(c,y,v,A,H,Q,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+v+`
`+Q+" "+ue})}function Ui(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ut(c,v)+(A?" "+A:"")})}function dr(c,y){c.info(function(){return"TIMEOUT: "+y})}Vi.prototype.info=function(){};function Ut(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Xo(v)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Us;function Va(){}P(Va,Wo),Va.prototype.g=function(){return new XMLHttpRequest},Va.prototype.i=function(){return{}},Us=new Va;function mr(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Li={},Ls={};function rr(c,y,v){c.L=1,c.v=zs(dt(y)),c.m=v,c.P=!0,Hr(c,null)}function Hr(c,y){c.F=Date.now(),lt(c),c.A=dt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Kr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Jo,c.g=cc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Hf(I(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Di[0]=H.toString()),H=Di);for(var Q=0;Q<H.length;Q++){var ue=zr(v,H[Q],A||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mi(),Qu(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;const y=this.M;y&&Bn(c)==3?y.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Bn(this.g);var y=this.g.Ba();const Wr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Wr?Mi(3):Mi(2)),Ua(this);var v=this.g.Z();this.X=v;t:if(ji(this)){var A=nc(this.g);c="";var H=A.length,Q=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Sn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Xu(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Be)){var ze=Be;break t}}ze=null}if(v=ze)Ui(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,v);else{this.o=!1,this.s=3,vt(12),yn(this),Sn(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<ue.length;)if(Gt=Bi(this,ue),Gt==Ls){Dt==4&&(this.s=4,vt(14),v=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Li){this.s=4,vt(15),Ui(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else Ui(this.i,this.l,Gt,null),An(this,Gt);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ue.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)Ui(this.i,this.l,ue,"[Invalid Chunked Response]"),yn(this),Sn(this);else if(0<ue.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ys(jt),jt.M=!0,vt(11))}}else Ui(this.i,this.l,ue,null),An(this,ue);Dt==4&&yn(this),this.o&&!this.J&&(Dt==4?oc(this.j,this):(this.o=!1,lt(this)))}else Xf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),yn(this),Sn(this)}}}catch{}finally{}};function ji(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bi(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ls:(v=Number(y.substring(v,A)),isNaN(v)?Li:(A+=1,A+v>y.length?Ls:(y=y.slice(A,A+v),c.C=A+v,y)))}mr.prototype.cancel=function(){this.J=!0,yn(this)};function lt(c){c.S=Date.now()+c.I,el(c,c.I)}function el(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pi(I(c.ba,c),y)}function Ua(c){c.B&&(d.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(dr(this.i,this.A),this.L!=2&&(Mi(),vt(17)),yn(this),this.s=2,Sn(this)):el(this,this.S-c)};function Sn(c){c.j.G==0||c.J||oc(c.j,c)}function yn(c){Ua(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Zt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function An(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||zi(v.h,c))){if(!c.K&&zi(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ka(v),Ga(v);else break e;hl(v),vt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Pi(I(v.Za,v),6e3));if(1>=Wu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xr(v,11)}else if((c.K||v.g==c)&&Ka(v),!j(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const jt=ze[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const Dt=ze[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Wr=ze[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(A=1.5*Wr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gt=c.g;if(Gt){const Er=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var Q=A.h;Q.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fi(Q,Q.h),Q.h=null))}if(A.D){const dl=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,Ge(A.I,A.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ue=c;if(A.qa=uc(A,A.J?A.ia:null,A.W),ue.K){Vn(A.h,ue);var Be=ue,Nt=A.L;Nt&&(Be.I=Nt),Be.B&&(Ua(Be),lt(Be)),A.g=ue}else sc(A);0<v.i.length&&$a(v)}else ze[0]!="stop"&&ze[0]!="close"||Xr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Xr(v,7):ul(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}Mi(4)}catch{}}var Gf=class{constructor(c,y){this.g=c,this.map=y}};function tl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wu(c){return c.h?1:c.g?c.g.size:0}function zi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fi(c,y){c.g?c.g.add(y):c.h=y}function Vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}tl.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function Zu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function $f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function js(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=$f(c),A=Zu(c),H=A.length,Q=0;Q<H;Q++)y.call(void 0,A[Q],v&&v[Q],c)}var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),H=null;if(0<=A){var Q=c[v].substring(0,A);H=c[v].substring(A+1)}else Q=c[v];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Gr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gr){this.h=c.h,qi(this,c.j),this.o=c.o,this.g=c.g,Bs(this,c.s),this.l=c.l;var y=c.i,v=new pr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ja(this,v),this.m=c.m}else c&&(y=String(c).match(rl))?(this.h=!1,qi(this,y[1]||"",!0),this.o=Hi(y[2]||""),this.g=Hi(y[3]||"",!0),Bs(this,y[4]),this.l=Hi(y[5]||"",!0),ja(this,y[6]||"",!0),this.m=Hi(y[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Gr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Un(y,il,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Un(y,il,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Un(v,v.charAt(0)=="/"?sl:Ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Un(v,Qf)),c.join("")};function dt(c){return new Gr(c)}function qi(c,y,v){c.j=v?Hi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Bs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ja(c,y,v){y instanceof pr?(c.i=y,al(c.i,c.h)):(v||(y=Un(y,Yf)),c.i=new pr(y,c.h))}function Ge(c,y,v){c.i.set(y,v)}function zs(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Un(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Kf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,Ju=/[#\?:]/g,sl=/[#\?]/g,Yf=/[#\?@]/g,Qf=/#/g;function pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&La(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,y){Ln(this),this.i=null,c=Yr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ba(c,y){Ln(c),y=Yr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $r(c,y){return Ln(c),y=Yr(c,y),c.g.has(y)}r.forEach=function(c,y){Ln(this),this.g.forEach(function(v,A){v.forEach(function(H){c.call(y,H,A,this)},this)},this)},r.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const H=c[A];for(let Q=0;Q<H.length;Q++)v.push(y[A])}return v},r.V=function(c){Ln(this);let y=[];if(typeof c=="string")$r(this,c)&&(y=y.concat(this.g.get(Yr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Ln(this),this.i=null,c=Yr(this,c),$r(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Kr(c,y,v){Ba(c,y),0<v.length&&(c.i=null,c.g.set(Yr(c,y),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var H=Q;ue[A]!==""&&(H+="="+encodeURIComponent(String(ue[A]))),c.push(H)}}return this.i=c.join("&")};function Yr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function al(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(v,A){var H=A.toLowerCase();A!=H&&(Ba(this,A),Kr(this,H,v))},c)),c.j=y}function ec(c,y){const v=new Vi;if(d.Image){const A=new Image;A.onload=C(jn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(jn,v,"TestLoadImage: error",!1,y,A),A.onabort=C(jn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(jn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Fs(c,y){const v=new Vi,A=new AbortController,H=setTimeout(()=>{A.abort(),jn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?jn(v,"TestPingServer: ok",!0,y):jn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),jn(v,"TestPingServer: error",!1,y)})}function jn(c,y,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function qs(){this.g=new ln}function gr(c,y,v){const A=v||"";try{js(c,function(H,Q){let ue=H;g(H)&&(ue=Xo(H)),y.push(A+Q+"="+encodeURIComponent(ue))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function Gi(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Gi,Wo),Gi.prototype.g=function(){return new Qr(this.l,this.j)},Gi.prototype.i=function(c){return function(){return c}}({});function Qr(c,y){Ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Qr,Ct),r=Qr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,_r(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yr(this):_r(this),this.readyState==3&&ol(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,yr(this))},r.Qa=function(c){this.g&&(this.response=c,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_r(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function _r(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return he(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ll(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ge(c,y,v))}function Ye(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,Ct);var za=/^https?$/i,Hs=["POST","PUT"];r=Ye.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Us.g(),this.v=this.o?$u(this.o):$u(Us),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){tc(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Hs,y,void 0))||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){tc(this,Q)}};function tc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Fa(c),vr(c)}function Fa(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),vr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},r.bb=function(){qa(this)};function qa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)Gu(c.Ea,0,c);else if(Vt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ue===0){var H=String(c.D).match(rl)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!za.test(H?H.toLowerCase():"")}v=A}if(v)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var Q=2<Bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Fa(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){Gs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Vt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Gs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hr(y)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(c){const y={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(j(c[A]))continue;var v=N(c[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[H]||[];y[H]=Q,Q.push(v)}k(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ha(c){this.Aa=0,this.i=[],this.j=new Vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(c&&c.concurrentRequestLimit),this.Da=new qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ha.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=uc(this,null,this.W),$a(this)};function ul(c){if(rc(c),c.G==3){var y=c.U++,v=dt(c.I);if(Ge(v,"SID",c.K),Ge(v,"RID",y),Ge(v,"TYPE","terminate"),Ks(c,v),y=new mr(c,c.j,y),y.L=2,y.v=zs(dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=cc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),lt(y)}lc(c)}function Ga(c){c.g&&(Ys(c),c.g.cancel(),c.g=null)}function rc(c){Ga(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function $a(c){if(!nl(c.h)&&!c.s){c.s=!0;var y=c.Ga;fe||V(),de||(fe(),de=!0),Ne.add(y,c),c.B=0}}function Wf(c,y){return Wu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pi(I(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new mr(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ic(this,H,y),v=dt(this.I),Ge(v,"RID",c),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),Ks(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(ll(Q)))+"&"+y:this.m&&Lt(v,this.m,Q)),Fi(this.h,H),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",y),Ge(v,"SID","null"),H.T=!0,rr(H,v,null)):rr(H,v,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||nl(this.h)||cl(this))};function cl(c,y){var v;y?v=y.l:v=c.U++;const A=dt(c.I);Ge(A,"SID",c.K),Ge(A,"RID",v),Ge(A,"AID",c.T),Ks(c,A),c.m&&c.o&&Lt(A,c.m,c.o),v=new mr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ic(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fi(c.h,v),rr(v,A,y)}function Ks(c,y){c.H&&he(c.H,function(v,A){Ge(y,A,v)}),c.l&&js({},function(v,A){Ge(y,A,v)})}function ic(c,y,v){v=Math.min(c.i.length,v);var A=c.l?I(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let Be=!0;for(let Nt=0;Nt<v;Nt++){let ze=H[Nt].g;const jt=H[Nt].map;if(ze-=Q,0>ze)Q=Math.max(0,H[Nt].g-100),Be=!1;else try{gr(jt,ue,"req"+ze+"_")}catch{A&&A(jt)}}if(Be){A=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function sc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;fe||V(),de||(fe(),de=!0),Ne.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pi(I(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pi(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ga(this),ac(this))};function Ys(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),Ks(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=zs(dt(y)),v.m=null,v.P=!0,Hr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ga(this),hl(this),vt(19))};function Ka(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function oc(c,y){var v=null;if(c.g==y){Ka(c),Ys(c),c.g=null;var A=2}else if(zi(c.h,y))v=y.D,Vn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=Ma(),Vt(A,new Yu(A,v)),$a(c)}else sc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&Wf(c,y)||A==2&&hl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function fl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Xr(c,y){if(c.j.info("Error code "+y),y==2){var v=I(c.fb,c),A=c.Xa;const H=!A;A=new Gr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qi(A,"https"),zs(A),H?ec(A.toString(),v):Fs(A.toString(),v)}else vt(2);c.G=0,c.l&&c.l.sa(y),lc(c),rc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const y=un(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function uc(c,y,v){var A=v instanceof Gr?dt(v):new Gr(v);if(A.g!="")y&&(A.g=y+"."+A.g),Bs(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Gr(null);A&&qi(Q,A),y&&(Q.g=y),H&&Bs(Q,H),v&&(Q.l=v),A=Q}return v=c.D,y=c.ya,v&&y&&Ge(A,v,y),Ge(A,"VER",c.la),Ks(c,A),A}function cc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Gi({eb:v})):new Ye(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}r=hc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ya(){}Ya.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){Ct.call(this),this.g=new Ha(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!j(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Tr(this)}P(cn,Ct),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ul(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Xo(c),c=v);y.i.push(new Gf(y.Ya++,c)),y.G==3&&$a(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,cn.aa.N.call(this)};function fc(c){Oi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(fc,Oi);function dc(){nr.call(this),this.status=1}P(dc,nr);function Tr(c){this.g=c}P(Tr,hc),Tr.prototype.ua=function(){Vt(this.g,"a")},Tr.prototype.ta=function(c){Vt(this.g,new fc(c))},Tr.prototype.sa=function(c){Vt(this.g,new dc)},Tr.prototype.ra=function(){Vt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Qb=function(){return new Ya},Yb=function(){return Ma()},Kb=Pn,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Ih=xt,qr.COMPLETE="complete",$b=qr,Ku.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,su=Ku,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Gb=Ye}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",aT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new cf("@firebase/firestore");function So(){return Ta.logLevel}function me(r,...e){if(Ta.logLevel<=Ve.DEBUG){const t=e.map(mg);Ta.debug(`Firestore (${qo}): ${r}`,...t)}}function Ei(r,...e){if(Ta.logLevel<=Ve.ERROR){const t=e.map(mg);Ta.error(`Firestore (${qo}): ${r}`,...t)}}function ko(r,...e){if(Ta.logLevel<=Ve.WARN){const t=e.map(mg);Ta.warn(`Firestore (${qo}): ${r}`,...t)}}function mg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+r;throw Ei(e),new Error(e)}function Xe(r,e){r||Re()}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class g2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new Xb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new nn(e)}}class _2{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v2{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new _2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new oT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new oT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=E2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Mo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-62135596800,uT=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*uT);return new Mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lT)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Mt(0,0))}static max(){return new Ie(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__name__";class xr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(),s===void 0?s=e.length-t:s>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=xr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=xr.isNumericId(e),o=xr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?xr.extractNumericId(e).compare(xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class st extends xr{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends xr{construct(e,t,s){return new Xt(e,t,s)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cT}static keyField(){return new Xt([cT])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(st.fromString(e))}static fromName(e){return new Ee(st.fromString(e).popFirst(5))}static empty(){return new Ee(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function w2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new Mt(t+1,0):new Mt(t,s));return new Ss(o,Ee.empty(),e)}function S2(r){return new Ss(r.readTime,r.key,Eu)}class Ss{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ss(Ie.min(),Ee.empty(),Eu)}static max(){return new Ss(Ie.max(),Ee.empty(),Eu)}}function A2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==R2)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function C2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function gf(r){return r==null}function Fh(r){return r===0&&1/r==-1/0}function x2(r){return typeof r=="number"&&Number.isInteger(r)&&!Fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function N2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=hT(e)),e=D2(r.get(t),e);return hT(e)}function D2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Zb:t+="";break;default:t+=l}}return t}function hT(r){return r+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ks(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Jb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Pt(Xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ew("Invalid base64 string: "+l):l}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(r){if(Xe(!!r),typeof r=="string"){let e=0;const t=O2.exec(r);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rs(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="server_timestamp",nw="__type__",rw="__previous_value__",iw="__local_write_time__";function gg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nw])===null||t===void 0?void 0:t.stringValue)===tw}function yf(r){const e=r.mapValue.fields[rw];return gg(e)?yf(e):e}function bu(r){const e=As(r.mapValue.fields[iw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,s,o,l,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const qh="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__type__",M2="__max__",ph={mapValue:{}},aw="__vector__",Hh="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gg(r)?4:V2(r)?9007199254740991:P2(r)?10:11:Re()}function Vr(r,e){if(r===e)return!0;const t=Is(r);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bu(r).isEqual(bu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=As(o.timestampValue),d=As(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Rs(o.bytesValue).isEqual(Rs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Et(o.doubleValue),d=Et(l.doubleValue);return h===d?Fh(h)===Fh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Mo(r.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(fT(h)!==fT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Vr(h[p],d[p])))return!1;return!0}(r,e);default:return Re()}}function Su(r,e){return(r.values||[]).find(t=>Vr(t,e))!==void 0}function Po(r,e){if(r===e)return 0;const t=Is(r),s=Is(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=Et(l.integerValue||l.doubleValue),p=Et(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return mT(r.timestampValue,e.timestampValue);case 4:return mT(bu(r),bu(e));case 5:return je(r.stringValue,e.stringValue);case 6:return function(l,h){const d=Rs(l),p=Rs(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=je(d[g],p[g]);if(E!==0)return E}return je(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=je(Et(l.latitude),Et(h.latitude));return d!==0?d:je(Et(l.longitude),Et(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pT(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const w=l.fields||{},I=h.fields||{},C=(d=w[Hh])===null||d===void 0?void 0:d.arrayValue,P=(p=I[Hh])===null||p===void 0?void 0:p.arrayValue,$=je(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:pT(C,P)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===ph.mapValue&&h===ph.mapValue)return 0;if(l===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const I=je(p[w],E[w]);if(I!==0)return I;const C=Po(d[p[w]],g[E[w]]);if(C!==0)return C}return je(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Re()}}function mT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const t=As(r),s=As(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function pT(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Po(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function Vo(r){return Ip(r)}function Ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=As(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Rs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ee.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Ip(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Ip(t.fields[h])}`;return o+"}"}(r.mapValue):Re()}function Ch(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return Rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Ch(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ks(s.fields,(l,h)=>{o+=l.length+Ch(h)}),o}(r.mapValue);default:throw Re()}}function gT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cp(r){return!!r&&"integerValue"in r}function yg(r){return!!r&&"arrayValue"in r}function yT(r){return!!r&&"nullValue"in r}function _T(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function P2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===aw}function cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ks(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=cu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function V2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===M2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=Xt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=cu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ks(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Tn(cu(this.value))}}function ow(r){const e=[];return ks(r.fields,(t,s)=>{const o=new Xt([t]);if(xh(s)){const l=ow(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new rn(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function vT(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),t.key):s=Po(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function TT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t="asc"){this.field=e,this.dir=t}}function U2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class Rt extends lw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new j2(e,t,s):t==="array-contains"?new F2(e,s):t==="in"?new q2(e,s):t==="not-in"?new H2(e,s):t==="array-contains-any"?new G2(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new B2(e,s):new z2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Po(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends lw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new cr(e,t)}matches(e){return uw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uw(r){return r.op==="and"}function cw(r){return L2(r)&&uw(r)}function L2(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function xp(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+Vo(r.value);if(cw(r))return r.filters.map(e=>xp(e)).join(",");{const e=r.filters.map(t=>xp(t)).join(",");return`${r.op}(${e})`}}function hw(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Vr(s.value,o.value)}(r,e):r instanceof cr?function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&hw(h,o.filters[d]),!0):!1}(r,e):void Re()}function fw(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`}(r):r instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(fw).join(" ,")+"}"}(r):"Filter"}class j2 extends Rt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class B2 extends Rt{constructor(e,t){super(e,"in",t),this.keys=dw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class z2 extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=dw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class F2 extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yg(t)&&Su(t.arrayValue,this.value)}}class q2 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class H2 extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Su(this.value.arrayValue,t)}}class G2 extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function ET(r,e=null,t=[],s=[],o=null,l=null,h=null){return new $2(r,e,t,s,o,l,h)}function _g(r){const e=xe(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>xp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Vo(s)).join(",")),e.le=t}return e.le}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!U2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!TT(r.startAt,e.startAt)&&TT(r.endAt,e.endAt)}function Np(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function K2(r,e,t,s,o,l,h,d){return new Uu(r,e,t,s,o,l,h,d)}function _f(r){return new Uu(r)}function bT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mw(r){return r.collectionGroup!==null}function hu(r){const e=xe(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Pt(Xt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new $h(l,s))}),t.has(Xt.keyField().canonicalString())||e.he.push(new $h(Xt.keyField(),s))}return e.he}function kr(r){const e=xe(r);return e.Pe||(e.Pe=Y2(e,hu(r))),e.Pe}function Y2(r,e){if(r.limitType==="F")return ET(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new $h(o.field,l)});const t=r.endAt?new Gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gh(r.startAt.position,r.startAt.inclusive):null;return ET(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Dp(r,e){const t=r.filters.concat([e]);return new Uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Op(r,e,t){return new Uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vf(r,e){return vg(kr(r),kr(e))&&r.limitType===e.limitType}function pw(r){return`${_g(kr(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>fw(o)).join(", ")}]`),gf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Vo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Vo(o)).join(",")),`Target(${s})`}(kr(r))}; limitType=${r.limitType})`}function Tf(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of hu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=vT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,hu(s),o)||s.endAt&&!function(h,d,p){const g=vT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,hu(s),o))}(r,e)}function Q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gw(r){return(e,t)=>{let s=!1;for(const o of hu(r)){const l=X2(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function X2(r,e,t){const s=r.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Po(p,g):Re()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new ft(Ee.comparator);function bi(){return W2}const yw=new ft(Ee.comparator);function au(...r){let e=yw;for(const t of r)e=e.insert(t.key,t);return e}function _w(r){let e=yw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function pa(){return fu()}function vw(){return fu()}function fu(){return new Ca(r=>r.toString(),(r,e)=>r.isEqual(e))}const Z2=new ft(Ee.comparator),J2=new Pt(Ee.comparator);function Ue(...r){let e=J2;for(const t of r)e=e.add(t);return e}const eD=new Pt(je);function tD(){return eD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Tw(r){return{integerValue:""+r}}function nD(r,e){return x2(e)?Tw(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function rD(r,e,t){return r instanceof Au?function(o,l){const h={fields:{[nw]:{stringValue:tw},[iw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&gg(l)&&(l=yf(l)),l&&(h.fields[rw]=l),{mapValue:h}}(t,e):r instanceof Ru?bw(r,e):r instanceof Iu?ww(r,e):function(o,l){const h=Ew(o,l),d=wT(h)+wT(o.Ie);return Cp(h)&&Cp(o.Ie)?Tw(d):Tg(o.serializer,d)}(r,e)}function iD(r,e,t){return r instanceof Ru?bw(r,e):r instanceof Iu?ww(r,e):t}function Ew(r,e){return r instanceof Kh?function(s){return Cp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Au extends Ef{}class Ru extends Ef{constructor(e){super(),this.elements=e}}function bw(r,e){const t=Sw(e);for(const s of r.elements)t.some(o=>Vr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Iu extends Ef{constructor(e){super(),this.elements=e}}function ww(r,e){let t=Sw(e);for(const s of r.elements)t=t.filter(o=>!Vr(o,s));return{arrayValue:{values:t}}}class Kh extends Ef{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function wT(r){return Et(r.integerValue||r.doubleValue)}function Sw(r){return yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.field=e,this.transform=t}}function aD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ru&&o instanceof Ru||s instanceof Iu&&o instanceof Iu?Mo(s.elements,o.elements,Vr):s instanceof Kh&&o instanceof Kh?Vr(s.Ie,o.Ie):s instanceof Au&&o instanceof Au}(r.transform,e.transform)}class oD{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function Aw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Eg(r.key,Zn.none()):new Lu(r.key,r.data,Zn.none());{const t=r.data,s=Tn.empty();let o=new Pt(Xt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ms(r.key,s,new Dn(o.toArray()),Zn.none())}}function lD(r,e,t){r instanceof Lu?function(o,l,h){const d=o.value.clone(),p=AT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ms?function(o,l,h){if(!Nh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=AT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Rw(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function du(r,e,t,s){return r instanceof Lu?function(l,h,d,p){if(!Nh(l.precondition,h))return d;const g=l.value.clone(),E=RT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ms?function(l,h,d,p){if(!Nh(l.precondition,h))return d;const g=RT(l.fieldTransforms,p,h),E=h.data;return E.setAll(Rw(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(l,h,d){return Nh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function uD(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Ew(s.transform,o||null);l!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,l))}return t||null}function ST(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,(l,h)=>aD(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Lu extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends bf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function AT(r,e,t){const s=new Map;Xe(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,iD(h,d,t[o]))}return s}function RT(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,rD(l,h,e))}return s}class Eg extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&lD(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=vw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=Aw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(t,s)=>ST(t,s))&&Mo(this.baseMutations,e.baseMutations,(t,s)=>ST(t,s))}}class bg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length);let o=function(){return Z2}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new bg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function mD(r){switch(r){case ne.OK:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re()}}function Iw(r){if(r===void 0)return Ei("GRPC error has no .code"),ne.UNKNOWN;switch(r){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Es([4294967295,4294967295],0);function IT(r){const e=pD().encode(r),t=new Hb;return t.update(e),new Uint8Array(t.digest())}function CT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,l],0)]}class wg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Es.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(gD)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=IT(e),[s,o]=CT(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new wg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=IT(e),[s,o]=CT(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wf(Ie.min(),o,new ft(je),bi(),Ue())}}class ju{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ju(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Cw{constructor(e,t){this.targetId=e,this.ge=t}}class xw{constructor(e,t,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class xT{constructor(){this.pe=0,this.ye=NT(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re()}}),new ju(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=NT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bi(),this.$e=gh(),this.Ke=gh(),this.Ue=new ft(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Np(l))if(s===0){const h=new Ee(l.path);this.ze(t,h,rn.newNoDocument(h,Ie.min()))}else Xe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Rs(s).toUint8Array()}catch(p){if(p instanceof ew)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new wg(h,o,l)}catch(p){return ko(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&Np(d.target)){const p=new Ee(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,rn.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ue();this.Ke.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new wf(e,t,this.Ue,this.Qe,s);return this.Qe=bi(),this.$e=gh(),this.Ke=gh(),this.Ue=new ft(je),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new xT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Pt(je),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Pt(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gh(){return new ft(Ee.comparator)}function NT(){return new ft(Ee.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class ED{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(r,e){return r.useProto3Json||gf(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bD(r,e){return Yh(r,e.toTimestamp())}function Mr(r){return Xe(!!r),Ie.fromTimestamp(function(t){const s=As(t);return new Mt(s.seconds,s.nanos)}(r))}function Sg(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Dw(r){const e=st.fromString(r);return Xe(Vw(e)),e}function Pp(r,e){return Sg(r.databaseId,e.path)}function np(r,e){const t=Dw(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(kw(t))}function Ow(r,e){return Sg(r.databaseId,e)}function wD(r){const e=Dw(r);return e.length===4?st.emptyPath():kw(e)}function Vp(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kw(r){return Xe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function DT(r,e,t){return{name:Pp(r,e),fields:t.value.mapValue.fields}}function SD(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),Wt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Wt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ne.UNKNOWN:Iw(g.code);return new pe(E,g.message||"")}(h);t=new xw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(r,s.document.name),l=Mr(s.document.updateTime),h=s.document.createTime?Mr(s.document.createTime):Ie.min(),d=new Tn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(r,s.document),l=s.readTime?Mr(s.readTime):Ie.min(),h=rn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Dh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(r,s.document),l=s.removedTargetIds||[];t=new Dh([],l,o,null)}else{if(!("filter"in e))return Re();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new dD(o,l),d=s.targetId;t=new Cw(d,h)}}return t}function AD(r,e){let t;if(e instanceof Lu)t={update:DT(r,e.key,e.value)};else if(e instanceof Eg)t={delete:Pp(r,e.key)};else if(e instanceof Ms)t={update:DT(r,e.key,e.data),updateMask:MD(e.fieldMask)};else{if(!(e instanceof cD))return Re();t={verify:Pp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Re()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:bD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re()}(r,e.precondition)),t}function RD(r,e){return r&&r.length>0?(Xe(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?Mr(o.updateTime):Mr(l);return h.isEqual(Ie.min())&&(h=Mr(l)),new oD(h,o.transformResults||[])}(t,e))):[]}function ID(r,e){return{documents:[Ow(r,e.path)]}}function CD(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ow(r,o);const l=function(g){if(g.length!==0)return Pw(cr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:Ro(I.field),direction:DD(I.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=kp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function xD(r){let e=wD(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(w){const I=Mw(w);return I instanceof cr&&cw(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(I=>function(P){return new $h(Io(P.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,gf(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(w){const I=!!w.before,C=w.values||[];return new Gh(C,I)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const I=!w.before,C=w.values||[];return new Gh(C,I)}(t.endAt)),K2(e,o,h,l,d,"F",p,g)}function ND(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Io(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(t.unaryFilter.field);return Rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Io(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(Io(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(s=>Mw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(r):Re()}function DD(r){return _D[r]}function OD(r){return vD[r]}function kD(r){return TD[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Io(r){return Xt.fromServerFormat(r.fieldPath)}function Pw(r){return r instanceof Rt?function(t){if(t.op==="=="){if(_T(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(yT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_T(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(yT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:OD(t.op),value:t.value}}}(r):r instanceof cr?function(t){const s=t.getFilters().map(o=>Pw(o));return s.length===1?s[0]:{compositeFilter:{op:kD(t.op),filters:s}}}(r):Re()}function MD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Vw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),d=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.Tt=e}}function VD(r){const e=xD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Tn=new LD}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ss.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class LD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(st.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uw=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Uw,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Uo(0)}static Un(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="LruGarbageCollector",jD=1048576;function MT([r,e],[t,s]){const o=je(r,t);return o===0?je(e,s):o}class BD{constructor(e){this.Hn=e,this.buffer=new Pt(MT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();MT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(kT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?me(kT,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.er(3e5)})}}class FD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(pf.ae);const s=new BD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(OT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),So()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function qD(r,e){return new FD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.changes=new Ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&du(s.mutation,o,Dn.empty(),Mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=au();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=bi();const h=fu(),d=function(){return fu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ms)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),Mt.now())):h.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var w;return d.set(g,new GD(E,(w=h.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=fu();let o=new ft((h,d)=>h-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Dn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const w=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,w=vw();E.forEach(I=>{if(!l.has(I)){const C=Aw(t.get(I),s.get(I));C!==null&&w.set(I,C),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):te.resolve(pa());let d=Eu,p=l;return h.next(g=>te.forEach(g,(E,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:d,changes:_w(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=au();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,p=>{const g=function(w,I){return new Uu(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,I)=>{h=h.insert(w,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,rn.newInvalidDocument(E)))});let d=au();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&du(E.mutation,g,Dn.empty(),Mt.now()),Tf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:VD(o.bundledQuery),readTime:Mr(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new ft(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=pa(),l=t.length+1,h=new Ee(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=pa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return te.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new fD(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ue(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Vr=new Pt(qt.mr),this.gr=new Pt(qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new qt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ee(new st([])),s=new qt(t,e),o=new qt(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new st([])),s=new qt(t,e),o=new qt(t,e+1);let l=Ue();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new qt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Pt(qt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new hD(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?pg:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(je);return t.forEach(o=>{const l=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const h=new qt(new Ee(l),0);let d=new Pt(je);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const l=new qt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new qt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.kr=e,this.docs=function(){return new ft(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let s=bi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=bi();const h=t.path,d=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||A2(S2(E),s)<=0||(o.has(E.key)||Tf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Re()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ZD(this)}getSize(e){return te.resolve(this.size)}}class ZD extends HD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.persistence=e,this.Qr=new Ca(t=>_g(t),vg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ag,this.targetCount=0,this.Ur=Uo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new pf(0),this.zr=!1,this.zr=!0,this.jr=new QD,this.referenceDelegate=e(this),this.Hr=new JD(this),this.indexManager=new UD,this.remoteDocumentCache=function(o){return new WD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new PD(t),this.Yr=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new XD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const o=new eO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class eO extends I2{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.ti=new Ag,this.ni=null}static ri(e){return new Rg(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.oi=new Ca(s=>N2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=qD(this,t)}static ri(e,t){return new Qh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ig(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return II()?8:C2(on())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new tO;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(So()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(So()<=Ve.DEBUG&&me("QueryEngine","Query:",Ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(So()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):te.resolve())}rs(e,t){if(bT(t))return te.resolve(null);let s=kr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Op(t,null,"F"),s=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Op(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return bT(t)||o.isEqual(Ie.min())?te.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?te.resolve(null):(So()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.hs(e,h,t,w2(o,Eu)).next(d=>d))})}cs(e,t){let s=new Pt(gw(e));return t.forEach((o,l)=>{Tf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return So()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.ns.getDocumentsMatchingQuery(e,t,Ss.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",rO=3e8;class iO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ft(je),this.Is=new Ca(l=>_g(l),vg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $D(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function sO(r,e,t,s){return new iO(r,e,t,s)}async function jw(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function aO(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const w=g.batch,I=w.keys();let C=te.resolve();return I.forEach(P=>{C=C.next(()=>E.getEntry(p,P)).next($=>{const U=g.docVersions.get(P);Xe(U!==null),$.version.compareTo(U)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Bw(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function oO(r,e){const t=xe(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,w)=>{const I=o.get(w);if(!I)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,w)));let C=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Wt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(w,C),function($,U,q){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=rO?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(I,C,E)&&d.push(t.Hr.updateTargetData(l,C))});let p=bi(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(lO(l,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ie.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return te.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function lO(r,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=bi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me(Cg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function uO(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cO(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ys(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Up(r,e,t){const s=xe(r),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Go(h))throw h;me(Cg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function PT(r,e,t){const s=xe(r);let o=Ie.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=xe(p),I=w.Is.get(E);return I!==void 0?te.resolve(w.Ts.get(I)):w.Hr.getTargetData(g,E)}(s,h,kr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:Ue())).next(d=>(hO(s,Q2(e),d),{documents:d,gs:l})))}function hO(r,e,t){let s=r.Es.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class VT{constructor(){this.activeTargetIds=tD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.ho=new VT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class LT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(UT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(UT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Lp(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const h=Lp(),d=this.bo(e,t.toUriEncodedString());me(rp,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(me(rp,`Received RPC '${e}' ${h}: `,g),g),g=>{throw ko(rp,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=mO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class yO extends pO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Lp();return new Promise((h,d)=>{const p=new Gb;p.setWithCredentials(!0),p.listenOnce($b.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ih.NO_ERROR:const E=p.getResponseJson();me(tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Ih.TIMEOUT:me(tn,`RPC '${e}' ${l} timed out`),d(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const w=p.getStatus();if(me(tn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const P=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN}(C.status);d(new pe(P,C.message))}else d(new pe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me(tn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);me(tn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Lp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Qb(),d=Yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");me(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);let I=!1,C=!1;const P=new gO({Fo:U=>{C?me(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(I||(me(tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),me(tn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Mo:()=>w.close()}),$=(U,q,j)=>{U.listen(q,K=>{try{j(K)}catch(J){setTimeout(()=>{throw J},0)}})};return $(w,su.EventType.OPEN,()=>{C||(me(tn,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),$(w,su.EventType.CLOSE,()=>{C||(C=!0,me(tn,`RPC '${e}' stream ${o} transport closed`),P.Ko())}),$(w,su.EventType.ERROR,U=>{C||(C=!0,ko(tn,`RPC '${e}' stream ${o} transport errored:`,U),P.Ko(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),$(w,su.EventType.MESSAGE,U=>{var q;if(!C){const j=U.data[0];Xe(!!j);const K=j,J=(K==null?void 0:K.error)||((q=K[0])===null||q===void 0?void 0:q.error);if(J){me(tn,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let he=function(S){const D=At[S];if(D!==void 0)return Iw(D)}(se),k=J.message;he===void 0&&(he=ne.INTERNAL,k="Unknown error status: "+se+" with message "+J.message),C=!0,P.Ko(new pe(he,k)),w.close()}else me(tn,`RPC '${e}' stream ${o} received:`,j),P.Uo(j)}}),$(d,Kb.STAT_EVENT,U=>{U.stat===Rp.PROXY?me(tn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Rp.NOPROXY&&me(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){return new ED(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="PersistentStream";class Fw{constructor(e,t,s,o,l,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(jT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(jT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _O extends Fw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=SD(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Mr(h.readTime):Ie.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Np(p)?{documents:ID(l,p)}:{query:CD(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Nw(l,h.resumeToken);const g=kp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Yh(l,h.snapshotVersion.toTimestamp());const g=kp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=ND(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.I_(t)}}class vO extends Fw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=RD(e.writeResults,e.commitTime),s=Mr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Vp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>AD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{}class EO extends TO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,Mp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ne.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Mp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ei(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class wO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{xa(this)&&(me(Ea,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.W_.add(4),await Bu(g),g.j_.set("Unknown"),g.W_.delete(4),await Af(g)}(this))})}),this.j_=new bO(s,o)}}async function Af(r){if(xa(r))for(const e of r.G_)await e(!0)}async function Bu(r){for(const e of r.G_)await e(!1)}function qw(r,e){const t=xe(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Og(t)?Dg(t):$o(t).c_()&&Ng(t,e))}function xg(r,e){const t=xe(r),s=$o(t);t.U_.delete(e),s.c_()&&Hw(t,e),t.U_.size===0&&(s.c_()?s.P_():xa(t)&&t.j_.set("Unknown"))}function Ng(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).y_(e)}function Hw(r,e){r.H_.Ne(e),$o(r).w_(e)}function Dg(r){r.H_=new yD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.j_.B_()}function Og(r){return xa(r)&&!$o(r).u_()&&r.U_.size>0}function xa(r){return xe(r).W_.size===0}function Gw(r){r.H_=void 0}async function SO(r){r.j_.set("Online")}async function AO(r){r.U_.forEach((e,t)=>{Ng(r,e)})}async function RO(r,e){Gw(r),Og(r)?(r.j_.q_(e),Dg(r)):r.j_.set("Unknown")}async function IO(r,e,t){if(r.j_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(s){me(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(r,s)}else if(e instanceof Dh?r.H_.We(e):e instanceof Cw?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Ie.min()))try{const s=await Bw(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.U_.get(g);E&&l.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.U_.get(p);if(!E)return;l.U_.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),Hw(l,p);const w=new ys(E.target,p,g,E.sequenceNumber);Ng(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){me(Ea,"Failed to raise snapshot:",s),await Xh(r,s)}}async function Xh(r,e,t){if(!Go(e))throw e;r.W_.add(1),await Bu(r),r.j_.set("Offline"),t||(t=()=>Bw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(Ea,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Af(r)})}function $w(r,e){return e().catch(t=>Xh(r,t,e))}async function Rf(r){const e=xe(r),t=Cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:pg;for(;CO(e);)try{const o=await uO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,xO(e,o)}catch(o){await Xh(e,o)}Kw(e)&&Yw(e)}function CO(r){return xa(r)&&r.K_.length<10}function xO(r,e){r.K_.push(e);const t=Cs(r);t.c_()&&t.S_&&t.b_(e.mutations)}function Kw(r){return xa(r)&&!Cs(r).u_()&&r.K_.length>0}function Yw(r){Cs(r).start()}async function NO(r){Cs(r).C_()}async function DO(r){const e=Cs(r);for(const t of r.K_)e.b_(t.mutations)}async function OO(r,e,t){const s=r.K_.shift(),o=bg.from(s,e,t);await $w(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Rf(r)}async function kO(r,e){e&&Cs(r).S_&&await async function(s,o){if(function(h){return mD(h)&&h!==ne.ABORTED}(o.code)){const l=s.K_.shift();Cs(s).h_(),await $w(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Rf(s)}}(r,e),Kw(r)&&Yw(r)}async function BT(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),me(Ea,"RemoteStore received new credentials");const s=xa(t);t.W_.add(3),await Bu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Af(t)}async function MO(r,e){const t=xe(r);e?(t.W_.delete(2),await Af(t)):e||(t.W_.add(2),await Bu(t),t.j_.set("Unknown"))}function $o(r){return r.J_||(r.J_=function(t,s,o){const l=xe(t);return l.M_(),new _O(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:SO.bind(null,r),No:AO.bind(null,r),Lo:RO.bind(null,r),p_:IO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Og(r)?Dg(r):r.j_.set("Unknown")):(await r.J_.stop(),Gw(r))})),r.J_}function Cs(r){return r.Y_||(r.Y_=function(t,s,o){const l=xe(t);return l.M_(),new vO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:NO.bind(null,r),Lo:kO.bind(null,r),D_:DO.bind(null,r),v_:OO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Rf(r)):(await r.Y_.stop(),r.K_.length>0&&(me(Ea,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new kg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),Go(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=au(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Z_=new ft(Ee.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Lo{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Lo(e,t,Do.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VO{constructor(){this.queries=FT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=xe(t),l=o.queries;o.queries=FT(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function FT(){return new Ca(r=>pw(r),vf)}async function Pg(r,e){const t=xe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new PO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Mg(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Ug(t)}async function Vg(r,e){const t=xe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function UO(r,e){const t=xe(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Ug(t)}function LO(r,e,t){const s=xe(r),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Ug(r){r.ia.forEach(e=>{e.next()})}var jp,qT;(qT=jp||(jp={}))._a="default",qT.Cache="cache";class Lg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.key=e}}class Xw{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=gw(e),this.wa=new Do(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new zT,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const I=o.get(E),C=Tf(this.query,w)?w:null,P=!!I&&this.mutatedKeys.has(I.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;I&&C?I.data.isEqual(C.data)?P!==$&&(s.track({type:3,doc:C}),U=!0):this.va(I,C)||(s.track({type:2,doc:C}),U=!0,(p&&this.ya(C,p)>0||g&&this.ya(C,g)<0)&&(d=!0)):!I&&C?(s.track({type:0,doc:C}),U=!0):I&&!C&&(s.track({type:1,doc:I}),U=!0,(p||g)&&(d=!0)),U&&(C?(h=h.add(C),l=$?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,w)=>function(C,P){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return $(C)-$(P)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Lo(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Xw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Qw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jg="SyncEngine";class BO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class zO{constructor(e){this.key=e,this.Ba=!1}}class FO{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ca(d=>pw(d),vf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Ee.comparator),this.Ka=new Map,this.Ua=new Ag,this.Wa={},this.Ga=new Map,this.za=Uo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function qO(r,e,t=!0){const s=nS(r);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Ww(s,e,t,!0),o}async function HO(r,e){const t=nS(r);await Ww(t,e,!0,!1)}async function Ww(r,e,t,s){const o=await cO(r.localStore,kr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await GO(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&qw(r.remoteStore,o),d}async function GO(r,e,t,s,o){r.Ha=(w,I,C)=>async function($,U,q,j){let K=U.view.ba(q);K.ls&&(K=await PT($.localStore,U.query,!1).then(({documents:k})=>U.view.ba(k,K)));const J=j&&j.targetChanges.get(U.targetId),se=j&&j.targetMismatches.get(U.targetId)!=null,he=U.view.applyChanges(K,$.isPrimaryClient,J,se);return GT($,U.targetId,he.Ma),he.snapshot}(r,w,I,C);const l=await PT(r.localStore,e,!0),h=new jO(e,l.gs),d=h.ba(l.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);GT(r,t,g.Ma);const E=new BO(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function $O(r,e,t){const s=xe(r),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!vf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&xg(s.remoteStore,o.targetId),Bp(s,o.targetId)}).catch(Ho)):(Bp(s,o.targetId),await Up(s.localStore,o.targetId,!0))}async function KO(r,e){const t=xe(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),xg(t.remoteStore,s.targetId))}async function YO(r,e,t){const s=tk(r);try{const o=await function(h,d){const p=xe(h),g=Mt.now(),E=d.reduce((C,P)=>C.add(P.key),Ue());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=bi(),$=Ue();return p.ds.getEntries(C,E).next(U=>{P=U,P.forEach((q,j)=>{j.isValidDocument()||($=$.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(U=>{w=U;const q=[];for(const j of d){const K=uD(j,w.get(j.key).overlayedDocument);K!=null&&q.push(new Ms(j.key,K,ow(K.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,q,d)}).next(U=>{I=U;const q=U.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(C,U.batchId,q)})}).then(()=>({batchId:I.batchId,changes:_w(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ft(je)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await zu(s,o.changes),await Rf(s.remoteStore)}catch(o){const l=Mg(o,"Failed to persist write");t.reject(l)}}async function Zw(r,e){const t=xe(r);try{const s=await oO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await zu(t,s,e)}catch(s){await Ho(s)}}function HT(r,e,t){const s=xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xe(h);p.onlineState=d;let g=!1;p.queries.forEach((E,w)=>{for(const I of w.ta)I.sa(d)&&(g=!0)}),g&&Ug(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QO(r,e,t){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new ft(Ee.comparator);h=h.insert(l,rn.newNoDocument(l,Ie.min()));const d=Ue().add(l),p=new wf(Ie.min(),new Map,new ft(je),h,d);await Zw(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),Bg(s)}else await Up(s.localStore,e,!1).then(()=>Bp(s,e,t)).catch(Ho)}async function XO(r,e){const t=xe(r),s=e.batch.batchId;try{const o=await aO(t.localStore,e);eS(t,s,null),Jw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zu(t,o)}catch(o){await Ho(o)}}async function WO(r,e,t){const s=xe(r);try{const o=await function(h,d){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(Xe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);eS(s,e,t),Jw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zu(s,o)}catch(o){await Ho(o)}}function Jw(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function eS(r,e,t){const s=xe(r);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Bp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||tS(r,s)})}function tS(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(xg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Bg(r))}function GT(r,e,t){for(const s of t)s instanceof Qw?(r.Ua.addReference(s.key,e),ZO(r,s)):s instanceof Xw?(me(jg,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||tS(r,s.key)):Re()}function ZO(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(me(jg,"New document in limbo: "+t),r.Qa.add(s),Bg(r))}function Bg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Ee(st.fromString(e)),s=r.za.next();r.Ka.set(s,new zO(t)),r.$a=r.$a.insert(t,s),qw(r.remoteStore,new ys(kr(_f(t.path)),s,"TargetPurposeLimboResolution",pf.ae))}}async function zu(r,e,t){const s=xe(r),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Ig.Yi(p.targetId,g);l.push(w)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,I=>te.forEach(I.Hi,C=>E.persistence.referenceDelegate.addReference(w,I.targetId,C)).next(()=>te.forEach(I.Ji,C=>E.persistence.referenceDelegate.removeReference(w,I.targetId,C)))))}catch(w){if(!Go(w))throw w;me(Cg,"Failed to update sequence numbers: "+w)}for(const w of g){const I=w.targetId;if(!w.fromCache){const C=E.Ts.get(I),P=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(I,$)}}}(s.localStore,l))}async function JO(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){me(jg,"User change. New user:",e.toKey());const s=await jw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new pe(ne.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(t,s.Rs)}}function ek(r,e){const t=xe(r),s=t.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function nS(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QO.bind(null,e),e.La.p_=UO.bind(null,e.eventManager),e.La.Ja=LO.bind(null,e.eventManager),e}function tk(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WO.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return sO(this.persistence,new nO,e.initialUser,this.serializer)}Xa(e){return new Lw(Rg.ri,this.serializer)}Za(e){return new fO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class nk extends Wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Qh);const s=this.persistence.referenceDelegate.garbageCollector;return new zD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Lw(s=>Qh.ri(s,t),this.serializer)}}class zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VO}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),s=function(l){return new yO(l)}(e.databaseInfo);return function(l,h,d,p){return new EO(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new wO(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>HT(this.syncEngine,t,0),function(){return LT.D()?new LT:new dO}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const w=new FO(o,l,h,d,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=xe(o);me(Ea,"RemoteStore shutting down."),l.W_.add(5),await Bu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class rk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{me(xs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me(xs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(r,e){r.asyncQueue.verifyOperationInProgress(),me(xs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await jw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $T(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ik(r);me(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>BT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>BT(e.remoteStore,o)),r._onlineComponents=e}async function ik(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(xs,"Using user provided OfflineComponentProvider");try{await sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ko("Error using user provided cache. Falling back to memory cache: "+t),await sp(r,new Wh)}}else me(xs,"Using default OfflineComponentProvider"),await sp(r,new nk(void 0));return r._offlineComponents}async function rS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(xs,"Using user provided OnlineComponentProvider"),await $T(r,r._uninitializedComponentsProvider._online)):(me(xs,"Using default OnlineComponentProvider"),await $T(r,new zp))),r._onlineComponents}function sk(r){return rS(r).then(e=>e.syncEngine)}async function Zh(r){const e=await rS(r),t=e.eventManager;return t.onListen=qO.bind(null,e.syncEngine),t.onUnlisten=$O.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KO.bind(null,e.syncEngine),t}function ak(r,e,t={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new zg({next:I=>{E.su(),h.enqueueAndForget(()=>Vg(l,w));const C=I.docs.has(d);!C&&I.fromCache?g.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&I.fromCache&&p&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),w=new Lg(_f(d.path),E,{includeMetadataChanges:!0,Ta:!0});return Pg(l,w)}(await Zh(r),r.asyncQueue,e,t,s)),s.promise}function ok(r,e,t={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new zg({next:I=>{E.su(),h.enqueueAndForget(()=>Vg(l,w)),I.fromCache&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),w=new Lg(d,E,{includeMetadataChanges:!0,Ta:!0});return Pg(l,w)}(await Zh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,e,t){if(!t)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lk(r,e,t,s){if(e===!0&&s===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function YT(r){if(!Ee.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QT(r){if(Ee.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function If(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re()}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firestore.googleapis.com",XT=!0;class WT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=XT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jD)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new p2;switch(s.type){case"firstParty":return new v2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=KT.get(t);s&&(me("ComponentProvider","Removing Datastore"),KT.delete(t),s.terminate())}(this),Promise.resolve()}}function uk(r,e,t,s={}){var o;const l=(r=bn(r,Cf))._getSettings(),h=`${e}:${t}`;if(l.host!==aS&&l.host!==h&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=nn.MOCK_USER;else{d=ZE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nn(g)}r._authCredentials=new g2(new Xb(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class an{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class bs extends Na{constructor(e,t,s){super(e,t,_f(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new Ee(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function wi(r,e,...t){if(r=We(r),sS("collection","path",e),r instanceof Cf){const s=st.fromString(e,...t);return QT(s),new bs(r,null,s)}{if(!(r instanceof an||r instanceof bs))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return QT(s),new bs(r.firestore,null,s)}}function It(r,e,...t){if(r=We(r),arguments.length===1&&(e=Wb.newId()),sS("doc","path",e),r instanceof Cf){const s=st.fromString(e,...t);return YT(s),new an(r,null,new Ee(s))}{if(!(r instanceof an||r instanceof bs))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return YT(s),new an(r.firestore,r instanceof bs?r.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="AsyncQueue";class JT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zw(this,"async_queue_retry"),this.Su=()=>{const s=ip();s&&me(ZT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new _i;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Go(e))throw e;me(ZT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Ei("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=kg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function eE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class Si extends Cf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new JT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function ck(r,e){const t=typeof r=="object"?r:hf(),s=typeof r=="string"?r:qh,o=Os(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=QE("firestore");l&&uk(o,...l)}return o}function xf(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hk(r),r._firestoreClient}function hk(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,E){return new k2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,iS(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Wt.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=/^__.*__$/;class dk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class oS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Hg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lS(this.Lu)&&fk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sf(e)}ju(e,t,s,o=!1){return new Hg({Lu:e,methodName:t,zu:s,path:Xt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(r){const e=r._freezeSettings(),t=Sf(r._databaseId);return new mk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function uS(r,e,t,s,o,l={}){const h=r.ju(l.merge||l.mergeFields?2:0,e,t,o);$g("Data must be an object, but it was:",h,s);const d=cS(s,h);let p,g;if(l.merge)p=new Dn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const w of l.mergeFields){const I=Fp(e,w,t);if(!h.contains(I))throw new pe(ne.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fS(E,I)||E.push(I)}p=new Dn(E),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new dk(new Tn(d),p,g)}class kf extends Df{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}class Gg extends Df{_toFieldTransform(e){return new sD(e.path,new Au)}isEqual(e){return e instanceof Gg}}function pk(r,e,t,s){const o=r.ju(1,e,t);$g("Data must be an object, but it was:",o,s);const l=[],h=Tn.empty();ks(s,(p,g)=>{const E=Kg(e,p,t);g=We(g);const w=o.Ku(E);if(g instanceof kf)l.push(E);else{const I=Fu(g,w);I!=null&&(l.push(E),h.set(E,I))}});const d=new Dn(l);return new oS(h,d,o.fieldTransforms)}function gk(r,e,t,s,o,l){const h=r.ju(1,e,t),d=[Fp(e,s,t)],p=[o];if(l.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Fp(e,l[I])),p.push(l[I+1]);const g=[],E=Tn.empty();for(let I=d.length-1;I>=0;--I)if(!fS(g,d[I])){const C=d[I];let P=p[I];P=We(P);const $=h.Ku(C);if(P instanceof kf)g.push(C);else{const U=Fu(P,$);U!=null&&(g.push(C),E.set(C,U))}}const w=new Dn(g);return new oS(E,w,h.fieldTransforms)}function yk(r,e,t,s=!1){return Fu(t,r.ju(s?4:3,e))}function Fu(r,e){if(hS(r=We(r)))return $g("Unsupported field value:",e,r),cS(r,e);if(r instanceof Df)return function(s,o){if(!lS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Fu(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=We(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Mt.fromDate(s);return{timestampValue:Yh(o.serializer,l)}}if(s instanceof Mt){const l=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,l)}}if(s instanceof Fg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jo)return{bytesValue:Nw(o.serializer,s._byteString)};if(s instanceof an){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qg)return function(h,d){return{mapValue:{fields:{[sw]:{stringValue:aw},[Hh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Tg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${If(s)}`)}(r,e)}function cS(r,e){const t={};return Jb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(r,(s,o)=>{const l=Fu(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function hS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Mt||r instanceof Fg||r instanceof jo||r instanceof an||r instanceof Df||r instanceof qg)}function $g(r,e,t){if(!hS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=If(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Fp(r,e,t){if((e=We(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return Kg(r,e);throw Jh("Field path arguments must be of type string or ",r,!1,void 0,t)}const _k=new RegExp("[~\\*/\\[\\]]");function Kg(r,e,t){if(e.search(_k)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Jh(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new pe(ne.INVALID_ARGUMENT,d+r+p)}function fS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vk extends dS{data(){return super.data()}}function Yg(r,e){return typeof e=="string"?Kg(r,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class Tk extends Qg{}function Ns(r,e,...t){let s=[];e instanceof Qg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Xg).length,d=l.filter(p=>p instanceof Mf).length;if(h>1||h>0&&d>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Mf extends Tk{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Mf(e,t,s)}_apply(e){const t=this._parse(e);return pS(e._query,t),new Na(e.firestore,e.converter,Dp(e._query,t))}_parse(e){const t=Of(e.firestore);return function(l,h,d,p,g,E,w){let I;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nE(w,E);const P=[];for(const $ of w)P.push(tE(p,l,$));I={arrayValue:{values:P}}}else I=tE(p,l,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nE(w,E),I=yk(d,h,w,E==="in"||E==="not-in");return Rt.create(g,E,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sn(r,e,t){const s=e,o=Yg("where",r);return Mf._create(o,s,t)}class Xg extends Qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)pS(h,p),h=Dp(h,p)}(e._query,t),new Na(e.firestore,e.converter,Dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tE(r,e,t){if(typeof(t=We(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mw(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!Ee.isDocumentKey(s))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gT(r,new Ee(s))}if(t instanceof an)return gT(r,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(t)}.`)}function nE(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ek{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ks(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new qg(l)}convertGeoPoint(e){return new Fg(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=As(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Xe(Vw(s));const o=new wu(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return o.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yS extends dS{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Oh extends yS{data(e={}){return super.data(e)}}class _S{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Oh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:bk(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(r){r=bn(r,an);const e=bn(r.firestore,Si);return ak(xf(e),r._key).then(t=>TS(e,r,t))}class Wg extends Ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}}function ba(r){r=bn(r,Na);const e=bn(r.firestore,Si),t=xf(e),s=new Wg(e);return mS(r._query),ok(t,r._query).then(o=>new _S(e,s,r,o))}function ef(r,e,t){r=bn(r,an);const s=bn(r.firestore,Si),o=gS(r.converter,e,t);return Pf(s,[uS(Of(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Zn.none())])}function tf(r,e,t,...s){r=bn(r,an);const o=bn(r.firestore,Si),l=Of(o);let h;return h=typeof(e=We(e))=="string"||e instanceof Nf?gk(l,"updateDoc",r._key,e,t,s):pk(l,"updateDoc",r._key,e),Pf(o,[h.toMutation(r._key,Zn.exists(!0))])}function qp(r){return Pf(bn(r.firestore,Si),[new Eg(r._key,Zn.none())])}function vS(r,e){const t=bn(r.firestore,Si),s=It(r),o=gS(r.converter,e);return Pf(t,[uS(Of(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Cu(r,...e){var t,s,o;r=We(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||eE(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(eE(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof an)g=bn(r.firestore,Si),E=_f(r._key.path),p={next:w=>{e[h]&&e[h](TS(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=bn(r,Na);g=bn(w.firestore,Si),E=w._query;const I=new Wg(g);p={next:C=>{e[h]&&e[h](new _S(g,I,w,C))},error:e[h+1],complete:e[h+2]},mS(r._query)}return function(I,C,P,$){const U=new zg($),q=new Lg(C,U,P);return I.asyncQueue.enqueueAndForget(async()=>Pg(await Zh(I),q)),()=>{U.su(),I.asyncQueue.enqueueAndForget(async()=>Vg(await Zh(I),q))}}(xf(g),E,d,p)}function Pf(r,e){return function(s,o){const l=new _i;return s.asyncQueue.enqueueAndForget(async()=>YO(await sk(s),o,l)),l.promise}(xf(r),e)}function TS(r,e,t){const s=t.docs.get(e._key),o=new Wg(r);return new yS(r,o,e._key,s,new lu(t.hasPendingWrites,t.fromCache),e.converter)}function ap(){return new Gg("serverTimestamp")}(function(e,t=!0){(function(o){qo=o})(Ia),ur(new Jn("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Si(new y2(s.getProvider("auth-internal")),new T2(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),En(sT,aT,e),En(sT,aT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebasestorage.googleapis.com",bS="storageBucket",wk=2*60*1e3,Sk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends tr{constructor(e,t,s=0){super(op(e),`Firebase Storage: ${t} (${op(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function op(r){return"storage/"+r}function Zg(){const r="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,r)}function Ak(r){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Rk(r){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ik(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,r)}function Ck(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xk(r){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Nk(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dk(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function Ok(r){return new _t(yt.INVALID_URL,"Invalid URL '"+r+"'.")}function kk(r){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Mk(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bS+"' property when initializing the app?")}function Pk(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vk(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Uk(r){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hp(r){return new _t(yt.INVALID_ARGUMENT,r)}function wS(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function Lk(r){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(r,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function nu(r){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=pn.makeFromUrl(e,t)}catch{return new pn(e,"")}if(s.path==="")return s;throw kk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(J){J.path_=decodeURIComponent(J.path)}const E="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${E}/b/${o}/o${I}`,"i"),P={bucket:1,path:3},$=t===ES?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",q=new RegExp(`^https?://${$}/${o}/${U}`,"i"),K=[{regex:d,indices:p,postModify:l},{regex:C,indices:P,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let J=0;J<K.length;J++){const se=K[J],he=se.regex.exec(e);if(he){const k=he[se.indices.bucket];let R=he[se.indices.path];R||(R=""),s=new pn(k,R),se.postModify(s);break}}if(s==null)throw Ok(e);return s}}class jk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r,e,t){let s=1,o=null,l=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function w(U){o=setTimeout(()=>{o=null,r(C,p())},U)}function I(){l&&clearTimeout(l)}function C(U,...q){if(g){I();return}if(U){I(),E.call(null,U,...q);return}if(p()||h){I(),E.call(null,U,...q);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,w(K)}let P=!1;function $(U){P||(P=!0,I(),!g&&(o!==null?(U||(d=2),clearTimeout(o),w(0)):U||(d=1)))}return w(0),l=setTimeout(()=>{h=!0,$(!0)},t),$}function zk(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(r){return r!==void 0}function qk(r){return typeof r=="object"&&!Array.isArray(r)}function Jg(r){return typeof r=="string"||r instanceof String}function rE(r){return ey()&&r instanceof Blob}function ey(){return typeof Blob<"u"}function Gp(r,e,t,s){if(s<e)throw Hp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Hp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function SS(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ya;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ya||(ya={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,s,o,l,h,d,p,g,E,w,I=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new _h(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===ya.NO_ERROR,p=l.getStatus();if(!d||Hk(p,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===ya.ABORT;s(!1,new _h(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new _h(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());Fk(p)?l(p):l()}catch(p){h(p)}else if(d!==null){const p=Zg();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?wS():Dk();h(p)}else{const p=Nk();h(p)}};this.canceled_?t(!1,new _h(!1,null,!0)):this.backoffId_=Bk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function $k(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Kk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Qk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Xk(r,e,t,s,o,l,h=!0){const d=SS(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return Yk(g,e),$k(g,t),Kk(g,l),Qk(g,s),new Gk(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zk(...r){const e=Wk();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(ey())return new Blob(r);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jk(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(r){if(typeof atob>"u")throw Uk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lp{constructor(e,t){this.data=e,this.contentType=t||null}}function tM(r,e){switch(r){case Nr.RAW:return new lp(AS(e));case Nr.BASE64:case Nr.BASE64URL:return new lp(RS(r,e));case Nr.DATA_URL:return new lp(rM(e),iM(e))}throw Zg()}function AS(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,h=r.charCodeAt(++t);s=65536|(l&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function nM(r){let e;try{e=decodeURIComponent(r)}catch{throw mu(Nr.DATA_URL,"Malformed data URL.")}return AS(e)}function RS(r,e){switch(r){case Nr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw mu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw mu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=eM(e)}catch(o){throw o.message.includes("polyfill")?o:mu(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class IS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw mu(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=sM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function rM(r){const e=new IS(r);return e.base64?RS(Nr.BASE64,e.rest):nM(e.rest)}function iM(r){return new IS(r).contentType}function sM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t){let s=0,o="";rE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(rE(this.data_)){const s=this.data_,o=Jk(s,e,t);return o===null?null:new gs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new gs(s,!0)}}static getBlob(...e){if(ey()){const t=e.map(s=>s instanceof gs?s.data_:s);return new gs(Zk.apply(null,t))}else{const t=e.map(h=>Jg(h)?tM(Nr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[l++]=h[d]}),new gs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(r){let e;try{e=JSON.parse(r)}catch{return null}return qk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function oM(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function CS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(r,e){return e}class dn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||lM}}let vh=null;function uM(r){return!Jg(r)||r.length<2?r:CS(r)}function xS(){if(vh)return vh;const r=[];r.push(new dn("bucket")),r.push(new dn("generation")),r.push(new dn("metageneration")),r.push(new dn("name","fullPath",!0));function e(l,h){return uM(h)}const t=new dn("name");t.xform=e,r.push(t);function s(l,h){return h!==void 0?Number(h):h}const o=new dn("size");return o.xform=s,r.push(o),r.push(new dn("timeCreated")),r.push(new dn("updated")),r.push(new dn("md5Hash",null,!0)),r.push(new dn("cacheControl",null,!0)),r.push(new dn("contentDisposition",null,!0)),r.push(new dn("contentEncoding",null,!0)),r.push(new dn("contentLanguage",null,!0)),r.push(new dn("contentType",null,!0)),r.push(new dn("metadata","customMetadata",!0)),vh=r,vh}function cM(r,e){function t(){const s=r.bucket,o=r.fullPath,l=new pn(s,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function hM(r,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];s[h.local]=h.xform(s,e[h.server])}return cM(s,r),s}function NS(r,e,t){const s=ty(e);return s===null?null:hM(r,s,t)}function fM(r,e,t,s){const o=ty(e);if(o===null||!Jg(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(g=>{const E=r.bucket,w=r.fullPath,I="/b/"+h(E)+"/o/"+h(w),C=qu(I,t,s),P=SS({alt:"media",token:g});return C+P})[0]}function dM(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="prefixes",sE="items";function mM(r,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[iE])for(const o of t[iE]){const l=o.replace(/\/$/,""),h=r._makeStorageReference(new pn(e,l));s.prefixes.push(h)}if(t[sE])for(const o of t[sE]){const l=r._makeStorageReference(new pn(e,o.name));s.items.push(l)}return s}function pM(r,e,t){const s=ty(t);return s===null?null:mM(r,e,s)}class Vf{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(r){if(!r)throw Zg()}function gM(r,e){function t(s,o){const l=NS(r,o,e);return ny(l!==null),l}return t}function yM(r,e){function t(s,o){const l=pM(r,e,o);return ny(l!==null),l}return t}function _M(r,e){function t(s,o){const l=NS(r,o,e);return ny(l!==null),fM(l,o,r.host,r._protocol)}return t}function ry(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Ck():o=Ik():t.getStatus()===402?o=Rk(r.bucket):t.getStatus()===403?o=xk(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function DS(r){const e=ry(r);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=Ak(r.path)),l.serverResponse=o.serverResponse,l}return t}function vM(r,e,t,s,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),s&&(l.pageToken=s),o&&(l.maxResults=o);const h=e.bucketOnlyServerUrl(),d=qu(h,r.host,r._protocol),p="GET",g=r.maxOperationRetryTime,E=new Vf(d,p,yM(r,e.bucket),g);return E.urlParams=l,E.errorHandler=ry(e),E}function TM(r,e,t){const s=e.fullServerUrl(),o=qu(s,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,d=new Vf(o,l,_M(r,t),h);return d.errorHandler=DS(e),d}function EM(r,e){const t=e.fullServerUrl(),s=qu(t,r.host,r._protocol),o="DELETE",l=r.maxOperationRetryTime;function h(p,g){}const d=new Vf(s,o,h,l);return d.successCodes=[200,204],d.errorHandler=DS(e),d}function bM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function wM(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=bM(null,e)),s}function SM(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let J=0;J<2;J++)K=K+Math.random().toString().slice(2);return K}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const g=wM(e,s,o),E=dM(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,I=`\r
--`+p+"--",C=gs.getBlob(w,s,I);if(C===null)throw Pk();const P={name:g.fullPath},$=qu(l,r.host,r._protocol),U="POST",q=r.maxUploadRetryTime,j=new Vf($,U,gM(r,t),q);return j.urlParams=P,j.headers=h,j.body=C.uploadData(),j.errorHandler=ry(e),j}class AM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ya.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ya.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ya.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RM extends AM{initXhr(){this.xhr_.responseType="text"}}function Uf(){return new RM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this._service=e,t instanceof pn?this._location=t:this._location=pn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wa(e,t)}get root(){const e=new pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CS(this._location.path)}get storage(){return this._service}get parent(){const e=aM(this._location.path);if(e===null)return null;const t=new pn(this._location.bucket,e);return new wa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Lk(e)}}function IM(r,e,t){r._throwIfRoot("uploadBytes");const s=SM(r.storage,r._location,xS(),new gs(e,!0),t);return r.storage.makeRequestWithTokens(s,Uf).then(o=>({metadata:o,ref:r}))}function CM(r){const e={prefixes:[],items:[]};return OS(r,e).then(()=>e)}async function OS(r,e,t){const o=await xM(r,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await OS(r,e,o.nextPageToken)}function xM(r,e){e!=null&&typeof e.maxResults=="number"&&Gp("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=vM(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(s,Uf)}function NM(r){r._throwIfRoot("getDownloadURL");const e=TM(r.storage,r._location,xS());return r.storage.makeRequestWithTokens(e,Uf).then(t=>{if(t===null)throw Vk();return t})}function DM(r){r._throwIfRoot("deleteObject");const e=EM(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Uf)}function OM(r,e){const t=oM(r._location.path,e),s=new pn(r._location.bucket,t);return new wa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(r){return/^[A-Za-z]+:\/\//.test(r)}function MM(r,e){return new wa(r,e)}function kS(r,e){if(r instanceof iy){const t=r;if(t._bucket==null)throw Mk();const s=new wa(t,t._bucket);return e!=null?kS(s,e):s}else return e!==void 0?OM(r,e):r}function PM(r,e){if(e&&kM(e)){if(r instanceof iy)return MM(r,e);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}else return kS(r,e)}function aE(r,e){const t=e==null?void 0:e[bS];return t==null?null:pn.makeFromBucketSpec(t,r)}function VM(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:ZE(o,r.app.options.projectId))}class iy{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=ES,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wk,this._maxUploadRetryTime=Sk,this._requests=new Set,o!=null?this._bucket=pn.makeFromBucketSpec(o,this._host):this._bucket=aE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pn.makeFromBucketSpec(this._url,e):this._bucket=aE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wa(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new jk(wS());{const h=Xk(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const oE="@firebase/storage",lE="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="storage";function PS(r,e,t){return r=We(r),IM(r,e,t)}function UM(r){return r=We(r),CM(r)}function VS(r){return r=We(r),NM(r)}function LM(r){return r=We(r),DM(r)}function $p(r,e){return r=We(r),PM(r,e)}function jM(r=hf(),e){r=We(r);const s=Os(r,MS).getImmediate({identifier:e}),o=QE("storage");return o&&BM(s,...o),s}function BM(r,e,t,s={}){VM(r,e,t,s)}function zM(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new iy(t,s,o,e,Ia)}function FM(){ur(new Jn(MS,zM,"PUBLIC").setMultipleInstances(!0)),En(oE,lE,""),En(oE,lE,"esm2017")}FM();const US="@firebase/installations",sy="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1e4,jS=`w:${sy}`,BS="FIS_v2",qM="https://firebaseinstallations.googleapis.com/v1",HM=60*60*1e3,GM="installations",$M="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sa=new Ra(GM,$M,KM);function zS(r){return r instanceof tr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS({projectId:r}){return`${qM}/projects/${r}/installations`}function qS(r){return{token:r.token,requestStatus:2,expiresIn:QM(r.expiresIn),creationTime:Date.now()}}async function HS(r,e){const s=(await e.json()).error;return Sa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function GS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function YM(r,{refreshToken:e}){const t=GS(r);return t.append("Authorization",XM(e)),t}async function $S(r){const e=await r();return e.status>=500&&e.status<600?r():e}function QM(r){return Number(r.replace("s","000"))}function XM(r){return`${BS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=FS(r),o=GS(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:BS,appId:r.appId,sdkVersion:jS},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await $S(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:qS(g.authToken)}}else throw await HS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^[cdef][\w-]{21}$/,Kp="";function eP(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=tP(r);return JM.test(t)?t:Kp}catch{return Kp}}function tP(r){return ZM(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;function QS(r,e){const t=Lf(r);XS(t,e),nP(t,e)}function XS(r,e){const t=YS.get(r);if(t)for(const s of t)s(e)}function nP(r,e){const t=rP();t&&t.postMessage({key:r,fid:e}),iP()}let ga=null;function rP(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=r=>{XS(r.data.key,r.data.fid)}),ga}function iP(){YS.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firebase-installations-database",aP=1,Aa="firebase-installations-store";let up=null;function ay(){return up||(up=ib(sP,aP,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Aa)}}})),up}async function nf(r,e){const t=Lf(r),o=(await ay()).transaction(Aa,"readwrite"),l=o.objectStore(Aa),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&QS(r,e.fid),e}async function WS(r){const e=Lf(r),s=(await ay()).transaction(Aa,"readwrite");await s.objectStore(Aa).delete(e),await s.done}async function jf(r,e){const t=Lf(r),o=(await ay()).transaction(Aa,"readwrite"),l=o.objectStore(Aa),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&QS(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(r){let e;const t=await jf(r.appConfig,s=>{const o=oP(s),l=lP(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Kp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function oP(r){const e=r||{fid:eP(),registrationStatus:0};return ZS(e)}function lP(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Sa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=uP(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cP(r)}:{installationEntry:e}}async function uP(r,e){try{const t=await WM(r,e);return nf(r.appConfig,t)}catch(t){throw zS(t)&&t.customData.serverCode===409?await WS(r.appConfig):await nf(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function cP(r){let e=await uE(r.appConfig);for(;e.registrationStatus===1;)await KS(100),e=await uE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await oy(r);return s||t}return e}function uE(r){return jf(r,e=>{if(!e)throw Sa.create("installation-not-found");return ZS(e)})}function ZS(r){return hP(r)?{fid:r.fid,registrationStatus:0}:r}function hP(r){return r.registrationStatus===1&&r.registrationTime+LS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP({appConfig:r,heartbeatServiceProvider:e},t){const s=dP(r,t),o=YM(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:jS,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await $S(()=>fetch(s,d));if(p.ok){const g=await p.json();return qS(g)}else throw await HS("Generate Auth Token",p)}function dP(r,{fid:e}){return`${FS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(r,e=!1){let t;const s=await jf(r.appConfig,l=>{if(!JS(l))throw Sa.create("not-registered");const h=l.authToken;if(!e&&gP(h))return l;if(h.requestStatus===1)return t=mP(r,e),l;{if(!navigator.onLine)throw Sa.create("app-offline");const d=_P(l);return t=pP(r,d),d}});return t?await t:s.authToken}async function mP(r,e){let t=await cE(r.appConfig);for(;t.authToken.requestStatus===1;)await KS(100),t=await cE(r.appConfig);const s=t.authToken;return s.requestStatus===0?ly(r,e):s}function cE(r){return jf(r,e=>{if(!JS(e))throw Sa.create("not-registered");const t=e.authToken;return vP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pP(r,e){try{const t=await fP(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await nf(r.appConfig,s),t}catch(t){if(zS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await WS(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nf(r.appConfig,s)}throw t}}function JS(r){return r!==void 0&&r.registrationStatus===2}function gP(r){return r.requestStatus===2&&!yP(r)}function yP(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+HM}function _P(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function vP(r){return r.requestStatus===1&&r.requestTime+LS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(r){const e=r,{installationEntry:t,registrationPromise:s}=await oy(e);return s?s.catch(console.error):ly(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(r,e=!1){const t=r;return await bP(t),(await ly(t,e)).token}async function bP(r){const{registrationPromise:e}=await oy(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(r){if(!r||!r.options)throw cp("App Configuration");if(!r.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw cp(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function cp(r){return Sa.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="installations",SP="installations-internal",AP=r=>{const e=r.getProvider("app").getImmediate(),t=wP(e),s=Os(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},RP=r=>{const e=r.getProvider("app").getImmediate(),t=Os(e,eA).getImmediate();return{getId:()=>TP(t),getToken:o=>EP(t,o)}};function IP(){ur(new Jn(eA,AP,"PUBLIC")),ur(new Jn(SP,RP,"PRIVATE"))}IP();En(US,sy);En(US,sy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",CP="firebase_id",xP="origin",NP=60*1e3,DP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Ra("analytics","Analytics",OP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(r){if(!r.startsWith(uy)){const e=On.create("invalid-gtag-resource",{gtagURL:r});return wn.warn(e.message),""}return r}function tA(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function MP(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function PP(r,e){const t=MP("firebase-js-sdk-policy",{createScriptURL:kP}),s=document.createElement("script"),o=`${uy}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function VP(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function UP(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await tA(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){wn.error(d)}r("config",o,l)}async function LP(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await tA(t);for(const p of h){const g=d.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){wn.error(l)}}function jP(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await LP(r,e,t,d,p)}else if(l==="config"){const[d,p]=h;await UP(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;r("consent",d,p)}else if(l==="get"){const[d,p,g]=h;r("get",d,p,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){wn.error(d)}}return o}function BP(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=jP(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function zP(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(uy)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=30,qP=1e3;class HP{constructor(e={},t=qP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nA=new HP;function GP(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function $P(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:GP(s)},l=DP.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function KP(r,e=nA,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw On.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw On.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new XP;return setTimeout(async()=>{d.abort()},NP),rA({appId:s,apiKey:o,measurementId:l},h,d,e)}async function rA(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=nA){var l;const{appId:h,measurementId:d}=r;try{await YP(s,e)}catch(p){if(d)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await $P(r);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!QP(g)){if(o.deleteThrottleMetadata(h),d)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?N0(t,o.intervalMillis,FP):N0(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,w),wn.debug(`Calling attemptFetch again in ${E} millis`),rA(r,w,s,o)}}function YP(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QP(r){if(!(r instanceof tr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class XP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WP(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(){if(eb())try{await tb()}catch(r){return wn.warn(On.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return wn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JP(r,e,t,s,o,l,h){var d;const p=KP(r);p.then(C=>{t[C.measurementId]=C.appId,r.options.measurementId&&C.measurementId!==r.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>wn.error(C)),e.push(p);const g=ZP().then(C=>{if(C)return s.getId()}),[E,w]=await Promise.all([p,g]);zP(l)||PP(l,E.measurementId),o("js",new Date);const I=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return I[xP]="firebase",I.update=!0,w!=null&&(I[CP]=w),o("config",E.measurementId,I),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.app=e}_delete(){return delete pu[this.app.options.appId],Promise.resolve()}}let pu={},hE=[];const fE={};let hp="dataLayer",t4="gtag",dE,iA,mE=!1;function n4(){const r=[];if(JE()&&r.push("This is a browser extension environment."),CI()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=On.create("invalid-analytics-context",{errorInfo:e});wn.warn(t.message)}}function r4(r,e,t){n4();const s=r.options.appId;if(!s)throw On.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(pu[s]!=null)throw On.create("already-exists",{id:s});if(!mE){VP(hp);const{wrappedGtag:l,gtagCore:h}=BP(pu,hE,fE,hp,t4);iA=l,dE=h,mE=!0}return pu[s]=JP(r,hE,fE,e,dE,hp,t),new e4(r)}function i4(r=hf()){r=We(r);const e=Os(r,rf);return e.isInitialized()?e.getImmediate():s4(r)}function s4(r,e={}){const t=Os(r,rf);if(t.isInitialized()){const o=t.getImmediate();if(_u(e,t.getOptions()))return o;throw On.create("already-initialized")}return t.initialize({options:e})}function a4(r,e,t,s){r=We(r),WP(iA,pu[r.app.options.appId],e,t,s).catch(o=>wn.error(o))}const pE="@firebase/analytics",gE="0.10.11";function o4(){ur(new Jn(rf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return r4(s,o,t)},"PUBLIC")),ur(new Jn("analytics-internal",r,"PRIVATE")),En(pE,gE),En(pE,gE,"esm2017");function r(e){try{const t=e.getProvider(rf).getImmediate();return{logEvent:(s,o,l)=>a4(t,s,o,l)}}catch(t){throw On.create("interop-component-reg-failed",{reason:t})}}}o4();const l4={apiKey:"AIzaSyB2DvPSqpsj-1kIqt6NfU83Ge8wGyOTX-w",authDomain:"sscopenleaderboard.firebaseapp.com",projectId:"sscopenleaderboard",storageBucket:"sscopenleaderboard.firebasestorage.app",messagingSenderId:"819800294351",appId:"1:819800294351:web:09f19b18f3041db0b508ba",measurementId:"G-SLRCYN3MC2"},Bf=sb(l4);i4(Bf);const Qe=h2(Bf),tt=ck(Bf),Yp=jM(Bf),u4=L.createContext(),c4=({children:r})=>{const[e,t]=L.useState(null),[s,o]=L.useState(!0);return L.useEffect(()=>Ob(Qe,h=>{t(h),o(!1)}),[]),_.jsx(u4.Provider,{value:{currentUser:e,loading:s},children:!s&&r})},h4=L.createContext(),f4=({children:r})=>{const[e,t]=L.useState(null);return L.useEffect(()=>{const s=Ob(Qe,async o=>{if(o){const l=It(tt,"users",o.uid),h=await Ds(l);h.exists()&&t(h.data())}else t(null)});return()=>s()},[]),_.jsx(h4.Provider,{value:{userData:e,setUserData:t},children:r})},d4=()=>{const r=Lr();return L.useEffect(()=>{if(!Qe.currentUser)return;const e=It(tt,"users",Qe.currentUser.uid);return Cu(e,s=>{s.exists()||(hg(Qe),r("/"))})},[r]),null};var fp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var yE;function m4(){return yE||(yE=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)e.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(fp)),fp.exports}var p4=m4();const zf=xE(p4);function kn({styleType:r="default",children:e,className:t,...s}){const o={default:"themed-view-default",dark:"themed-view-dark",gold:"themed-view-gold",primary:"themed-view-primary",secondary:"themed-view-secondary",success:"themed-view-success",danger:"themed-view-danger"};return _.jsx("div",{className:zf("themed-view",o[r],t),...s,children:e})}function oe({styleType:r="default",children:e,className:t,as:s="p",...o}){const l=s,h={default:"themed-text-default",dark:"themed-text-dark",gold:"themed-text-gold",primary:"themed-text-primary",secondary:"themed-text-secondary",success:"themed-text-success",danger:"themed-text-danger"};return _.jsx(l,{className:zf(h[r],t),...o,children:e})}function Ze({styleType:r="default",children:e,className:t,disabled:s,onClick:o,...l}){const h={default:"themed-button-default",dark:"themed-button-dark",gold:"themed-button-gold",primary:"themed-button-primary",secondary:"themed-button-secondary",success:"themed-button-success",danger:"themed-button-danger"};return _.jsx("button",{type:"button",disabled:s,onClick:o,className:zf("themed-button",h[r],t),...l,children:e})}function sA({styleType:r="default",children:e,className:t,...s}){const o={default:"themed-header-default",dark:"themed-header-dark",gold:"themed-header-gold",primary:"themed-header-primary",secondary:"themed-header-secondary",success:"themed-header-success",danger:"themed-header-danger"};return _.jsx("header",{className:zf("themed-header",o[r],t),...s,children:e})}const Ff="/assets/logo1-BDBOiGvk.png",aA="/assets/cg25-CpG0CG0a.png";var oA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_E=_s.createContext&&_s.createContext(oA),g4=["attr","size","title"];function y4(r,e){if(r==null)return{};var t=_4(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function _4(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function sf(){return sf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},sf.apply(this,arguments)}function vE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function af(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(t),!0).forEach(function(s){v4(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vE(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function v4(r,e,t){return e=T4(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function T4(r){var e=E4(r,"string");return typeof e=="symbol"?e:e+""}function E4(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lA(r){return r&&r.map((e,t)=>_s.createElement(e.tag,af({key:t},e.attr),lA(e.child)))}function cy(r){return e=>_s.createElement(b4,sf({attr:af({},r.attr)},e),lA(r.child))}function b4(r){var e=t=>{var{attr:s,size:o,title:l}=r,h=y4(r,g4),d=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),_s.createElement("svg",sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:af(af({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&_s.createElement("title",null,l),r.children)};return _E!==void 0?_s.createElement(_E.Consumer,null,t=>e(t)):e(oA)}function w4(r){return cy({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(r)}function TE(r){return cy({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(r)}function EE(r){return cy({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}const S4="sscopen2025",bE=()=>{const[r,e]=L.useState(""),[t,s]=L.useState(""),[o,l]=L.useState(null),[h,d]=L.useState(!1),[p,g]=L.useState(""),[E,w]=L.useState(null),[I,C]=L.useState(!1),[P,$]=L.useState(""),[U,q]=L.useState(null),[j,K]=L.useState(!1),J=Lr(),se=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),he=M=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/.test(M),k=async M=>{var x;try{const le=It(tt,"users",M.uid),_e=await Ds(le);if(_e.exists()){const Z=_e.data();return{isMember:Z.isMember!==void 0?Z.isMember:!1,profileCompleted:Z.profileCompleted!==void 0?Z.profileCompleted:!1}}else return await ef(le,{uid:M.uid,displayName:M.displayName||((x=M.email)==null?void 0:x.split("@")[0])||"Anonymous",email:M.email||"",photoURL:M.photoURL||null,profileCompleted:!1,isMember:!1,onLeaderBoard:!1,createdAt:new Date,termsAccepted:j}),{isMember:!1,profileCompleted:!1}}catch(le){return console.error("Error fetching user data:",le),l("Failed to fetch user data. Please try again."),{isMember:!1,profileCompleted:!1}}},R=async()=>{if(p===S4)if(E){const M=It(tt,"users",E.uid);await ef(M,{isMember:!0},{merge:!0});const le=(await Ds(M)).data();d(!1),w(null),le.profileCompleted?J("/home"):J("/additionaldetails")}else l("No pending user found. Please log in again."),d(!1);else document.activeElement&&document.activeElement.blur(),window.alert("Invalid Code: The membership code you entered is incorrect."),await hg(Qe),d(!1),w(null),g("")},S=async M=>{if(M.preventDefault(),!se(r)){l("Please enter a valid email address.");return}if(!he(t)){l("Password must be at least 6 characters, including uppercase, lowercase, number, and special character.");return}if(!j){l("You must accept the Terms of Service and Privacy Policy to proceed.");return}try{const le=(await Qx(Qe,r,t)).user,_e=await k(le);_e.isMember?_e.profileCompleted?J("/home"):J("/additionaldetails"):(w(le),d(!0))}catch(x){console.error("Email Sign-In Error:",x),l(x.message)}},D=async()=>{if(!j){l("You must accept the Terms of Service and Privacy Policy to proceed.");return}const M=new di;M.setCustomParameters({prompt:"select_account"});try{const le=(await TN(Qe,M)).user,_e=await k(le);_e.isMember?_e.profileCompleted?J("/home"):J("/additionaldetails"):(w(le),d(!0))}catch(x){console.error("Google Sign-In Error:",x),l(x.message||"Failed to sign in with Google. Please try again.")}},N=async M=>{if(M.preventDefault(),!se(P)){q("Please enter a valid email address.");return}try{await Kx(Qe,P),q(null),C(!1),l("Password reset email sent. Please check your inbox."),setTimeout(()=>J("/login"),2e3)}catch(x){console.error("Forgot Password Error:",x),q(x.message)}};return _.jsxs(kn,{styleType:"default",className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 px-6 py-10 max-w-screen-lg",children:[_.jsx("div",{className:"mb-8",children:_.jsx("img",{src:aA,alt:"Seven Springs CrossFit Logo",className:"w-40 h-40 mx-auto mb-4"})}),_.jsx("div",{className:"mb-8",children:_.jsx("img",{src:Ff,alt:"Seven Springs CrossFit Logo",className:"w-40 h-40 mx-auto"})}),I?_.jsxs("form",{onSubmit:N,className:"w-full max-w-md mx-auto mb-4 space-y-4",children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),_.jsx("div",{children:_.jsx("input",{type:"email",placeholder:"Email",value:P,onChange:M=>$(M.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),U&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm mb-2",children:U}),_.jsx(Ze,{styleType:"primary",className:"w-full py-3",type:"submit",children:"Send Reset Email"}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-center",children:_.jsx("button",{onClick:()=>C(!1),className:"text-blue-500 hover:underline",children:"Back to Login"})})]}):_.jsxs("form",{onSubmit:S,className:"w-full max-w-md mx-auto mb-4 space-y-4",children:[_.jsx("div",{children:_.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:M=>e(M.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),_.jsx("div",{children:_.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:M=>s(M.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("input",{type:"checkbox",checked:j,onChange:M=>K(M.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),_.jsxs(oe,{as:"p",styleType:"secondary",className:"text-sm",children:["I agree to the"," ",_.jsx("a",{href:"/PrivacyAndTerms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Terms of Service"})]})]}),o&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm mb-2",children:o}),_.jsx(Ze,{styleType:"primary",className:"w-full py-3",type:"submit",children:"Sign in with Email"}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-center",children:_.jsx(yu,{to:"/signup",className:"text-blue-500 hover:underline",children:"Don't have an account? Sign up"})}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-center",children:_.jsx(yu,{to:"#",onClick:M=>{M.preventDefault(),C(!0)},className:"text-blue-500 hover:underline",children:"Forgot Password?"})})]}),_.jsx("div",{className:"flex space-x-4",children:_.jsxs(Ze,{styleType:"secondary",onClick:D,className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 flex items-center justify-center space-x-2",children:[_.jsx(w4,{className:"text-lg"}),_.jsx("span",{children:"Sign in with Google"})]})}),h&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:_.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-sm",children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"text-xl font-bold mb-4 w-2/3",children:"Enter Membership Code"}),_.jsx("input",{type:"text",placeholder:"Membership Code",value:p,autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",onChange:M=>g(M.target.value),className:"w-full p-3 border border-gray-300 rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"}),_.jsx(Ze,{styleType:"primary",className:"w-full",onClick:R,children:"Submit Code"})]})})]})},A4=({navigateTo:r})=>{const[e,t]=L.useState(!1),s=()=>t(h=>!h),o=()=>t(!1),l=async()=>{try{await hg(Qe),typeof r=="function"?r("/login"):console.error("navigateTo is not a function")}catch(h){console.error("Logout error:",h)}o()};return _.jsxs(_.Fragment,{children:[_.jsxs(sA,{styleType:"default",className:"w-full flex items-center justify-between pb-10 mb-5",children:[_.jsx(Ze,{styleType:"primary",onClick:s,className:"mx-4",children:_.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),_.jsx("img",{src:Ff,alt:"Logo",className:"h-14 my-5",onError:h=>{console.error("Logo failed to load:",h.target.src),h.target.src="https://via.placeholder.com/56"}}),_.jsx("div",{className:"w-8"})]}),e&&_.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[_.jsxs("div",{className:"w-64 bg-white shadow-lg p-4",children:[_.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[_.jsx(oe,{as:"h2",styleType:"secondary",className:"text-xl font-bold",children:"Menu"}),_.jsx("button",{onClick:o,className:"text-gray-600",children:"Close"})]}),_.jsxs("div",{className:"flex flex-col space-y-4",children:[_.jsx(Ze,{styleType:"secondary",onClick:()=>{typeof r=="function"?(r("/leaderboard"),o()):console.error("navigateTo is not a function")},className:"w-full",children:"Leaderboard"}),_.jsx(Ze,{styleType:"secondary",onClick:()=>{typeof r=="function"?(r("/settings"),o()):console.error("navigateTo is not a function")},className:"w-full",children:"Profile"}),_.jsx(Ze,{styleType:"secondary",onClick:l,className:"w-full",children:"Logout"})]})]}),_.jsx("div",{className:"flex-1 bg-black opacity-50",onClick:o})]})]})},R4=({workout:r})=>{const[e,t]=L.useState(!1),s=Lr();L.useEffect(()=>{const l=async()=>{if(!Qe.currentUser)return;const h=wi(tt,"scores"),d=Ns(h,sn("userId","==",Qe.currentUser.uid),sn("workoutName","==",r.name)),p=await ba(d);t(!p.empty)};Qe.currentUser&&l()},[r.name]);const o=()=>{s("/scoreentry",{state:{workoutName:r.name}})};return _.jsxs(kn,{className:"rounded shadow-lg bg-gray-100 p-4 cursor-pointer hover:shadow-xl transition-shadow",children:[_.jsx(oe,{as:"h2",className:"text-xl font-bold mb-2",children:r.title}),_.jsx(oe,{as:"p",className:"mb-2",children:r.description}),r.details&&r.details.length>0&&_.jsx("ul",{className:"list-disc list-inside mb-2",children:r.details.map((l,h)=>_.jsx("li",{children:l},h))}),r.progression&&_.jsxs(oe,{as:"p",className:"mb-2",children:[_.jsx("strong",{children:"Progression:"})," ",r.progression]}),r.weights&&_.jsxs(oe,{as:"p",className:"mb-2",children:[_.jsx("strong",{children:"Weights:"})," ",r.weights]}),_.jsx(Ze,{styleType:"primary",onClick:()=>window.open(r.scorecardUrl,"_blank"),className:"w-full mb-4",children:"View Official Workout"}),_.jsx(Ze,{styleType:"default",onClick:o,className:"w-full",children:e?"Edit Score":"Enter Score"})]})};function I4(r,e){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},r),L.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const C4=L.forwardRef(I4);function x4(r,e){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},r),L.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const N4=L.forwardRef(x4),Th=[{name:"25.1",title:"CFG25 Open 25.1",description:"As many rounds and reps as possible in 15 minutes of:",details:["3 lateral burpees over the dumbbell","3 dumbbell hang clean-to-overheads","30-foot walking lunge (2 x 15 feet)"],progression:"After each round, add 3 reps to the burpees and hang clean-to-overheads.",weights:"Women: 35-lb (15-kg), Men: 50-lb (22.5-kg)",scorecardUrl:"https://games.crossfit.com/workouts/open/2025/1"},{name:"25.2",title:"CFG25 Open 25.2",description:"As many rounds and reps as possible in 12 minutes of:",details:["21 pull-ups","42 double-unders","21 thrusters (weight 1)","18 chest-to-bar pull-ups","36 double-unders","18 thrusters (weight 2)","15 bar muscle-ups","30 double-unders","15 thrusters (weight 3)"],progression:"Record your tiebreak time after the designated set if not completed. See official rules for details.",weights:"Women: 65, 75, 85 lb; Men: 95, 115, 135 lb",scorecardUrl:"https:/games.crossfit.com/workouts/open/2025/2"},{name:"25.3",title:"CFG25 Open 25.3",description:"Workout details for 25.3 will be released soon.",details:[],scorecardUrl:"https:/games.crossfit.com/workouts/open/2025/3"}],D4=()=>{const r=Th.findIndex(l=>l.name==="25.2"),[e,t]=L.useState(r>=0?r:0),s=()=>{t(l=>l===0?Th.length-1:l-1)},o=()=>{t(l=>l===Th.length-1?0:l+1)};return _.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute top-0 left-0 z-10",children:_.jsx(Ze,{styleType:"ghost",onClick:s,className:"p-2 bg-transparent",children:_.jsx(C4,{className:"h-6 w-6"})})}),_.jsx("div",{className:"overflow-x-auto flex justify-center",children:_.jsx("div",{className:"min-w-[300px]",children:_.jsx(R4,{workout:Th[e]})})}),_.jsx("div",{className:"absolute top-0 right-0 z-10",children:_.jsx(Ze,{styleType:"ghost",onClick:o,className:"p-2 bg-transparent",children:_.jsx(N4,{className:"h-6 w-6"})})})]})},uA=r=>{const e={RX:1,Scaled:2,Foundations:3};return[...r].sort((t,s)=>{const o=e[t.scaling]||99,l=e[s.scaling]||99;return o!==l?o-l:(s.reps||0)-(t.reps||0)})};function wE(r){if(!r)return 0;const e=new Date(r);return new Date().getFullYear()-e.getFullYear()}function SE(r){return r>=35?r<=39?"Masters 35-39":r<=44?"Masters 40-44":r<=49?"Masters 45-49":r<=54?"Masters 50-54":r<=59?"Masters 55-59":r<=64?"Masters 60-64":"Masters 65+":r>=14&&r<=15?"Teen 14-15":r>=16&&r<=17?"Teen 16-17":"Open"}const dp=["25.1","25.2","25.3"],O4=r=>{const e=Math.floor((-5+Math.sqrt(25+12*r))/6),t=e*(3*e+5),s=r-t;return{rounds:e,extraReps:s}},Ir=r=>{if(!r||typeof r!="string")return 1/0;const e=r.split(":");if(e.length!==2)return 1/0;const t=parseInt(e[0],10)||0,s=parseInt(e[1],10)||0;return t*60+s},AE=r=>{const e=Number(r);if(isNaN(e)||e<0)return"";const t=Math.floor(e/60),s=e%60,o=t.toString().padStart(2,"0"),l=s.toString().padStart(2,"0");return`${o}:${l}`},RE=r=>{const e=r%10,t=r%100;return e===1&&t!==11?r+"st":e===2&&t!==12?r+"nd":e===3&&t!==13?r+"rd":r+"th"},k4=r=>{if(!r)return"NA";const e=r.trim().split(" ");return e.length===1?e[0].slice(0,2).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()},M4=()=>{const[r,e]=L.useState(null),[t,s]=L.useState(!0),[o,l]=L.useState(null),h=Qe.currentUser,d=Lr(),[p,g]=L.useState("Overall");if(L.useEffect(()=>{if(!h){s(!1);return}(async()=>{try{const C=It(tt,"users",h.uid),P=await Ds(C);if(P.exists()){const $=P.data();let U="Unknown";if($.dob){const q=wE($.dob);U=SE(q)}e({userId:h.uid,displayName:$.displayName||"Anonymous",photoURL:$.photoURL||null,onLeaderBoard:$.onLeaderBoard||!1,athleteCategory:U,totalPoints:0,perWorkout:{},overallPlacement:0,totalParticipants:0})}else e({userId:h.uid,displayName:"Anonymous",photoURL:null,onLeaderBoard:!1,athleteCategory:"Unknown",totalPoints:0,perWorkout:{},overallPlacement:0,totalParticipants:0});s(!1)}catch(C){console.error("Error fetching user data:",C),l("Failed to load user data."),s(!1)}})()},[h]),L.useEffect(()=>{if(!h)return;const I=wi(tt,"scores"),C=Ns(I,sn("workoutName","in",dp));return Cu(C,async $=>{try{const U=$.docs.map(N=>({id:N.id,...N.data()})),q=Array.from(new Set(U.map(N=>N.userId))),j={};await Promise.all(q.map(async N=>{const M=It(tt,"users",N),x=await Ds(M);if(x.exists()){const le=x.data();let _e="Unknown";if(le.dob){const Z=wE(le.dob);_e=SE(Z)}j[N]={displayName:le.displayName||"Anonymous",photoURL:le.photoURL||null,onLeaderBoard:le.onLeaderBoard||!1,athleteCategory:_e}}else j[N]={displayName:"Anonymous",photoURL:null,onLeaderBoard:!1,athleteCategory:"Unknown"}}));const K={},J={};dp.forEach(N=>{const M=U.filter(le=>le.workoutName===N);let x=[];if(N==="25.1")x=uA(M);else if(N==="25.2"){const le=M.filter(Z=>Z.completed),_e=M.filter(Z=>!Z.completed);le.sort((Z,fe)=>{const de=Ir(Z.finishTime),Ne=Ir(fe.finishTime);return de!==Ne?de-Ne:Ir(Z.tiebreakTime||"99:99")-Ir(fe.tiebreakTime||"99:99")}),_e.sort((Z,fe)=>{const de=(fe.totalReps||fe.reps||0)-(Z.totalReps||Z.reps||0);return de!==0?de:Ir(Z.tiebreakTime||"99:99")-Ir(fe.tiebreakTime||"99:99")}),x=[...le,..._e]}else{const le={RX:1,Scaled:2,Foundations:3};x=[...M].sort((_e,Z)=>{const fe=le[_e.scaling]||99,de=le[Z.scaling]||99;if(fe!==de)return fe-de;const Ne=Ir(_e.finishTime),V=Ir(Z.finishTime);if(Ne!==V)return Ne-V;const ie=Ir(_e.tiebreakTime),ge=Ir(Z.tiebreakTime);return ie-ge})}J[N]=x.map((le,_e)=>{let Z="";if(N==="25.2")Z=le.completed&&le.finishTime?AE(le.finishTime):`${le.totalReps||le.reps||0} reps`;else if(N==="25.1"){const fe=Number(le.reps||0);if(!isNaN(fe)&&fe>=0){const{rounds:de,extraReps:Ne}=O4(fe);Z=`${de} + ${Ne} | ${fe} reps`}else Z="0 reps"}else Z=le.finishTime?AE(le.finishTime):`${le.reps||0} reps`;return{userId:le.userId,placement:_e+1,scoreDisplay:Z,rankingPoints:_e+1,scaling:le.scaling}})}),Object.keys(J).forEach(N=>{J[N].forEach(M=>{var x;K[M.userId]||(K[M.userId]={userId:M.userId,totalPoints:0,perWorkout:{},athleteCategory:((x=j[M.userId])==null?void 0:x.athleteCategory)||"Unknown"}),K[M.userId].totalPoints+=M.rankingPoints,K[M.userId].perWorkout[N]=`${RE(M.placement)} (${M.scoreDisplay})`})});let se=Object.values(K);se.sort((N,M)=>N.totalPoints-M.totalPoints);let he=se;const k=(r==null?void 0:r.athleteCategory)||"Unknown";p==="Age Group"&&(he=se.filter(N=>N.athleteCategory===k)),he.sort((N,M)=>N.totalPoints-M.totalPoints);const R=he.length,S=he.findIndex(N=>N.userId===h.uid),D=S>=0?S+1:R;e(N=>N?{...N,athleteCategory:k,totalPoints:S>=0?he[S].totalPoints:0,perWorkout:S>=0?he[S].perWorkout:{},overallPlacement:D,totalParticipants:R}:{userId:h.uid,displayName:"Anonymous",photoURL:null,onLeaderBoard:!1,athleteCategory:k,totalPoints:S>=0?he[S].totalPoints:0,perWorkout:S>=0?he[S].perWorkout:{},overallPlacement:D,totalParticipants:R})}catch(U){console.error("Error processing scores:",U),l(`Failed to compute standings: ${U.message}`)}},$=>{console.error("Snapshot error:",$),l(`Failed to listen to scores: ${$.message}`)})},[h,r==null?void 0:r.athleteCategory,p]),!h)return _.jsx(oe,{as:"p",styleType:"danger",children:"You are not logged in."});if(t)return _.jsx(oe,{as:"p",styleType:"secondary",children:"Loading standings..."});if(o)return _.jsx(oe,{as:"p",styleType:"danger",children:o});if(!r)return _.jsx(oe,{as:"p",styleType:"secondary",children:"No standings available."});const E=()=>{d("/leaderboard")},w=(I,C)=>{C.stopPropagation(),g(I)};return _.jsxs(kn,{styleType:"default",className:"p-6 rounded shadow-lg bg-gray-100 cursor-pointer hover:shadow-xl transition-shadow",onClick:E,children:[r.onLeaderBoard&&_.jsxs("div",{className:"mb-4 flex justify-center space-x-4",children:[_.jsx(Ze,{styleType:p==="Overall"?"primary":"secondary",onClick:I=>w("Overall",I),className:"px-4 py-2",children:"Overall"}),_.jsx(Ze,{styleType:p==="Age Group"?"primary":"secondary",onClick:I=>w("Age Group",I),className:"px-4 py-2",children:"Age Group"})]}),r.onLeaderBoard&&_.jsx(sA,{styleType:"default",className:"mb-4 p-4",children:_.jsx(oe,{as:"h2",styleType:"primary",className:"text-2xl font-bold",children:`${RE(r.overallPlacement)} of ${r.totalParticipants}`})}),_.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-1",children:[r.photoURL?_.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-16 h-16 rounded-full object-cover"}):_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-300 flex items-center justify-center",children:_.jsx(oe,{as:"p",styleType:"primary",className:"text-xl font-bold",children:k4(r.displayName)})}),_.jsxs("div",{children:[_.jsx(oe,{as:"p",styleType:"secondary",className:"text-lg",children:r.displayName}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-lg",children:r.athleteCategory})]})]}),_.jsx("div",{className:"space-y-2",children:dp.map(I=>_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx(oe,{as:"p",styleType:"secondary",className:"font-semibold",children:I}),_.jsx(oe,{as:"p",styleType:"default",children:r.perWorkout&&r.perWorkout[I]?r.perWorkout[I]:"-"})]},I))})]})},cA=()=>_.jsx(kn,{styleType:"default",className:"w-full p-4 bg-gray-800 text-center border-t border-gray-700",children:_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-white",children:" 2025 Good Shepherd Studios | v 1.5.1"})}),P4=()=>{const[r,e]=L.useState(!1),[t,s]=L.useState(0),o=Lr(),l=Ri(),h="25.1";return L.useEffect(()=>{if(!Qe.currentUser)return;const d=It(tt,"users",Qe.currentUser.uid),p=Cu(d,g=>{g.exists()&&(g.data().profileCompleted||o("/additionaldetails"))},g=>console.error("Error listening to user data:",g));return()=>p()},[o]),L.useEffect(()=>{if(!Qe.currentUser)return;const d=wi(tt,"scores"),p=Ns(d,sn("userId","==",Qe.currentUser.uid),sn("workoutName","==",h)),g=Cu(p,w=>{e(!w.empty)},w=>{console.error("Error listening to scores:",w)});return(async()=>{const w=await ba(p);e(!w.empty)})(),()=>g()},[h]),L.useEffect(()=>{(async()=>{if(!Qe.currentUser)return;const p=wi(tt,"scores"),g=Ns(p,sn("userId","==",Qe.currentUser.uid),sn("workoutName","==",h)),E=await ba(g);e(!E.empty),s(w=>w+1)})()},[l,h]),_.jsxs(kn,{styleType:"default",className:"min-h-screen w-screen",children:[_.jsx(A4,{navigateTo:o}),_.jsxs("div",{className:"",children:[_.jsxs("section",{className:"mb-6",children:[_.jsx(M4,{},t)," "]}),_.jsx("div",{className:"mb-6",children:_.jsx(D4,{})})]}),_.jsx(cA,{})]})},IE=r=>{const e=r%10,t=r%100;return e===1&&t!==11?r+"st":e===2&&t!==12?r+"nd":e===3&&t!==13?r+"rd":r+"th"},Wn=r=>{if(!r)return 1/0;const e=r.split(":");return parseInt(e[0],10)*60+parseInt(e[1],10)};function mp(r){if(!r)return 0;const e=new Date(r);return new Date().getFullYear()-e.getFullYear()}function pp(r){return r>=35?r<=39?"Masters 35-39":r<=44?"Masters 40-44":r<=49?"Masters 45-49":r<=54?"Masters 50-54":r<=59?"Masters 55-59":r<=64?"Masters 60-64":"Masters 65+":r>=14&&r<=15?"Teen 14-15":r>=16&&r<=17?"Teen 16-17":"Open"}const V4=r=>{const e=Math.floor((-5+Math.sqrt(25+12*r))/6),t=e*(3*e+5),s=r-t;return{rounds:e,extraReps:s}},CE=r=>{if(!r)return"NA";const e=r.trim().split(" ");return e.length===1?e[0].slice(0,2).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()},U4=()=>{const[r,e]=L.useState("All"),[t,s]=L.useState("Overall"),[o,l]=L.useState("All"),[h,d]=L.useState("Overall"),p=Qe.currentUser,g=L.useMemo(()=>["25.1","25.2","25.3"],[]),[E,w]=L.useState([]),[I,C]=L.useState(!0),[P,$]=L.useState(null),[U,q]=L.useState({userId:(p==null?void 0:p.uid)||null,displayName:"Anonymous",athleteCategory:"Unknown",photoURL:null,onLeaderBoard:!1,totalPoints:0,perWorkout:{}});return L.useEffect(()=>{if(!p)return;const j=It(tt,"users",p.uid),K=Cu(j,J=>{if(J.exists()){const se=J.data();q(he=>({...he,displayName:se.displayName||"Anonymous",athleteCategory:se.dob?pp(mp(se.dob)):se.athleteCategory||"Unknown",photoURL:se.photoURL||null,onLeaderBoard:se.onLeaderBoard||!1}))}else q({userId:p.uid,displayName:"Anonymous",athleteCategory:"Unknown",photoURL:null,onLeaderBoard:!1,totalPoints:0,perWorkout:{}})},J=>{console.error("User snapshot error:",J),$("Failed to listen to user data.")});return()=>K()},[p]),L.useEffect(()=>{(async()=>{if(!p){$("You must be logged in to view the leaderboard."),C(!1);return}C(!0),$(null);try{const K=wi(tt,"scores");let J=[];if(h==="Overall"){const se=Ns(K,sn("workoutName","in",g),sn("completed","==",!0));let k=(await ba(se)).docs.map(N=>({id:N.id,...N.data()}));await Promise.all(k.map(async N=>{const M=It(tt,"users",N.userId),x=await Ds(M);if(x.exists()){const le=x.data();if(le.dob){const _e=mp(le.dob);N.athleteCategory=pp(_e)}else N.athleteCategory=le.athleteCategory||"Unknown";N.photoURL=le.photoURL||null,N.displayName=le.displayName||N.displayName||"Anonymous"}})),r!=="All"&&(k=k.filter(N=>N.sex&&N.sex.toLowerCase()===r.toLowerCase())),t!=="Overall"&&(k=k.filter(N=>N.athleteCategory===t)),o!=="All"&&(k=k.filter(N=>N.scaling===o));const R={};g.forEach(N=>{const M=k.filter(le=>le.workoutName===N);let x=[];if(N==="25.2"){const le=M.filter(Z=>Z.completed),_e=M.filter(Z=>!Z.completed);le.sort((Z,fe)=>Wn(Z.finishTime)-Wn(fe.finishTime)),_e.sort((Z,fe)=>fe.reps-Z.reps),x=[...le,..._e]}else if(N==="25.1")x=uA(M);else{const le={RX:1,Scaled:2,Foundations:3};x=[...M].sort((_e,Z)=>{const fe=le[_e.scaling]||99,de=le[Z.scaling]||99;if(fe!==de)return fe-de;const Ne=Wn(_e.finishTime),V=Wn(Z.finishTime);if(Ne!==V)return Ne-V;const ie=Wn(_e.tiebreakTime),ge=Wn(Z.tiebreakTime);return ie-ge})}R[N]=x.map((le,_e)=>({userId:le.userId,placement:_e+1,scoreDisplay:N==="25.2"?le.completed?le.finishTime:`${le.reps} reps`:le.finishTime||`${le.reps} reps`,rankingPoints:_e+1,scaling:le.scaling}))});const S={};k.forEach(N=>{S[N.userId]||(S[N.userId]={userId:N.userId,displayName:N.displayName||"Anonymous",athleteCategory:N.athleteCategory||"Unknown",photoURL:N.photoURL||null,totalPoints:0,perWorkout:{}})}),g.forEach(N=>{(R[N]||[]).forEach(x=>{S[x.userId]&&(S[x.userId].perWorkout[N]=N==="25.1"?`${IE(x.placement)} [${x.scaling}] (${x.scoreDisplay})`:`${IE(x.placement)} (${x.scoreDisplay})`,S[x.userId].totalPoints+=x.rankingPoints)})});let D=Object.values(S);D.sort((N,M)=>N.totalPoints-M.totalPoints),w(D),C(!1)}else{const se=[];se.push(sn("workoutName","==",h)),h!=="25.2"&&se.push(sn("completed","==",!0)),r!=="All"&&se.push(sn("sex","==",r.toLowerCase())),o!=="All"&&se.push(sn("scaling","==",o));const he=Ns(K,...se);if(J=(await ba(he)).docs.map(R=>({id:R.id,...R.data()})),await Promise.all(J.map(async R=>{const S=It(tt,"users",R.userId),D=await Ds(S);if(D.exists()){const N=D.data();if(N.dob){const M=mp(N.dob);R.athleteCategory=pp(M)}else R.athleteCategory=N.athleteCategory||"Unknown";R.photoURL=N.photoURL||null,R.displayName=N.displayName||R.displayName||"Anonymous"}})),t!=="Overall"&&(J=J.filter(R=>R.athleteCategory===t)),h==="25.2"){const R=J.filter(D=>D.completed),S=J.filter(D=>!D.completed);R.sort((D,N)=>Wn(D.finishTime)-Wn(N.finishTime)),S.sort((D,N)=>N.reps-D.reps),J=[...R,...S]}else if(h==="25.1")J.sort((R,S)=>S.reps-R.reps),J=J.map(R=>{const{rounds:S,extraReps:D}=V4(R.reps);return{...R,rounds:S,extraReps:D}});else{const R={RX:1,Scaled:2,Foundations:3};J.sort((S,D)=>{const N=R[S.scaling]||99,M=R[D.scaling]||99;if(N!==M)return N-M;const x=Wn(S.finishTime),le=Wn(D.finishTime);if(x!==le)return x-le;const _e=Wn(S.tiebreakTime),Z=Wn(D.tiebreakTime);return _e-Z})}J=J.map((R,S)=>({...R,rankingPoints:S+1})),J.forEach(R=>{const S=It(tt,"scores",R.id);tf(S,{rankingPoints:R.rankingPoints}).catch(D=>console.error(`Error updating points for score ${R.id}:`,D))}),w(J),C(!1)}}catch(K){console.error("Error fetching leaderboard:",K),$(`Failed to load leaderboard: ${K.message}`),C(!1)}})()},[p,t,r,o,h,g]),p?I?_.jsx(oe,{as:"p",styleType:"secondary",children:"Loading..."}):P?_.jsx(oe,{as:"p",styleType:"danger",children:P}):_.jsxs(kn,{styleType:"default",className:"min-h-screen p-4 bg-gray-100 w-full",children:[_.jsx(oe,{as:"h1",styleType:"primary",className:"text-3xl font-bold mb-4",children:"Leaderboard"}),_.jsxs("div",{className:"mb-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Workout:"}),_.jsxs("select",{value:h,onChange:j=>d(j.target.value),className:"p-2 border rounded w-full",children:[_.jsx("option",{value:"Overall",children:"Overall"}),g.map(j=>_.jsx("option",{value:j,children:j},j))]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Sex:"}),_.jsxs("select",{value:r,onChange:j=>e(j.target.value),className:"p-2 border rounded w-full ",children:[_.jsx("option",{value:"All",children:"All"}),_.jsx("option",{value:"male",children:"Male"}),_.jsx("option",{value:"female",children:"Female"})]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Age Group:"}),_.jsxs("select",{value:t,onChange:j=>s(j.target.value),className:"p-2 border rounded w-full",children:[_.jsx("option",{value:"Overall",children:"Overall"}),_.jsx("option",{value:"Masters 35-39",children:"Masters 35-39"}),_.jsx("option",{value:"Masters 40-44",children:"Masters 40-44"}),_.jsx("option",{value:"Masters 45-49",children:"Masters 45-49"}),_.jsx("option",{value:"Masters 50-54",children:"Masters 50-54"}),_.jsx("option",{value:"Masters 55-59",children:"Masters 55-59"}),_.jsx("option",{value:"Masters 60-64",children:"Masters 60-64"}),_.jsx("option",{value:"Masters 65+",children:"Masters 65+"}),_.jsx("option",{value:"Teen 14-15",children:"Teen 14-15"}),_.jsx("option",{value:"Teen 16-17",children:"Teen 16-17"}),_.jsx("option",{value:"Open",children:"Open"})]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Scaling:"}),_.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"p-2 border rounded w-full",children:[_.jsx("option",{value:"All",children:"All"}),_.jsx("option",{value:"RX",children:"RX"}),_.jsx("option",{value:"Scaled",children:"Scaled"}),_.jsx("option",{value:"Foundations",children:"Foundations"})]})]})]}),h==="Overall"?_.jsx("div",{className:"overflow-x-auto shadow-md bg-white rounded",children:_.jsxs("table",{className:"min-w-full border-collapse",children:[_.jsx("thead",{className:"bg-gray-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border p-2",children:"Rank"}),_.jsx("th",{className:"border p-2",children:"Athlete"}),_.jsx("th",{className:"border p-2",children:"Total Points"}),g.map(j=>_.jsx("th",{className:"border p-2",children:j},j))]})}),_.jsx("tbody",{children:E.map((j,K)=>_.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[_.jsx("td",{className:"border p-2 text-center",children:K+1}),_.jsx("td",{className:"border p-2",children:_.jsxs("div",{className:"flex items-center space-x-2 min-w-[200px]",children:[j.photoURL?_.jsx("img",{src:j.photoURL,alt:j.displayName,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:_.jsx(oe,{as:"p",styleType:"primary",className:"text-sm font-bold",children:j.displayName?CE(j.displayName):"NA"})}),_.jsx("span",{children:j.displayName||"Anonymous"})]})}),_.jsx("td",{className:"border p-2 text-center",children:j.totalPoints}),g.map(J=>_.jsx("td",{className:"border p-2 text-center",children:j.perWorkout&&j.perWorkout[J]?j.perWorkout[J]:"-"},J))]},j.userId||j.id))})]})}):_.jsx("div",{className:"overflow-x-auto shadow-md bg-white rounded",children:_.jsxs("table",{className:"min-w-full border-collapse",children:[_.jsx("thead",{className:"bg-gray-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border p-2",children:"Rank"}),_.jsx("th",{className:"border p-2",children:"Athlete"}),h==="25.2"?_.jsxs(_.Fragment,{children:[_.jsx("th",{className:"border p-2",children:"Status"}),_.jsx("th",{className:"border p-2",children:"Time/Reps"})]}):h==="25.1"?_.jsx("th",{className:"border p-2",children:"Round + Reps"}):_.jsxs(_.Fragment,{children:[_.jsx("th",{className:"border p-2",children:"Scaling"}),_.jsx("th",{className:"border p-2",children:"Time/Reps"})]})]})}),_.jsx("tbody",{children:E.map((j,K)=>_.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[_.jsx("td",{className:"border p-2 text-center",children:K+1}),_.jsx("td",{className:"border p-2",children:_.jsxs("div",{className:"flex items-center space-x-2 min-w-[200px]",children:[j.photoURL?_.jsx("img",{src:j.photoURL,alt:j.displayName,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:_.jsx(oe,{as:"p",styleType:"primary",className:"text-sm font-bold",children:j.displayName?CE(j.displayName):"NA"})}),_.jsx("span",{children:j.displayName||"Anonymous"})]})}),h==="25.2"?_.jsxs(_.Fragment,{children:[_.jsx("td",{className:"border p-2 text-center",children:j.completed?"Finished":"Not Finished"}),_.jsx("td",{className:"border p-2 text-center",children:j.completed?j.finishTime||"-":j.reps?`${j.reps} reps`:"-"})]}):h==="25.1"?_.jsx("td",{className:"border p-2 text-center min-w-[250px]",children:j.rounds!==void 0&&j.extraReps!==void 0?`[${j.scaling}] ${j.rounds} rounds + ${j.extraReps} reps (${j.reps})`:j.reps||"-"}):_.jsxs(_.Fragment,{children:[_.jsx("td",{className:"border p-2 text-center",children:j.scaling}),_.jsx("td",{className:"border p-2 text-center",children:j.finishTime?j.finishTime:j.reps?`${j.reps} reps`:"-"})]})]},j.userId||j.id))})]})}),_.jsx("div",{className:"mt-4",children:_.jsx(Ze,{styleType:"primary",onClick:()=>window.location.reload(),className:"w-full",children:"Refresh Leaderboard"})})]}):_.jsx(oe,{as:"p",styleType:"danger",children:"You are not logged in."})};function L4(r){const e=new Date(r),t=new Date;let s=t.getFullYear()-e.getFullYear();const o=t.getMonth()-e.getMonth();return(o<0||o===0&&t.getDate()<e.getDate())&&s--,s}function j4(r){return r>=35?r<=39?"Masters 35-39":r<=44?"Masters 40-44":r<=49?"Masters 45-49":r<=54?"Masters 50-54":r<=59?"Masters 55-59":r<=64?"Masters 60-64":"Masters 65+":r>=14&&r<=15?"Teen 14-15":r>=16&&r<=17?"Teen 16-17":"Open"}const B4=()=>_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),z4=()=>{const r=Lr(),e=Qe.currentUser,[t,s]=L.useState(!0),[o,l]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(""),[E,w]=L.useState(""),[I,C]=L.useState(""),[P,$]=L.useState(!1),[U,q]=L.useState(null),[j,K]=L.useState(!1),[J,se]=L.useState(!1),[he,k]=L.useState(""),[R,S]=L.useState(""),[D,N]=L.useState(""),[M,x]=L.useState(!1),[le,_e]=L.useState(""),[Z,fe]=L.useState(!1);L.useEffect(()=>{(async()=>{if(e)try{const ce=It(tt,"users",e.uid),we=await Ds(ce);if(we.exists()){const be=we.data();l(be.displayName||""),d(be.photoURL||""),g(be.sex||""),w(be.profession||""),C(be.dob||"")}}catch(ce){console.error("Error fetching user data:",ce),q("Failed to load your settings. Please try again.")}s(!1)})()},[e]);const de=async()=>{if(le.trim())try{await vS(wi(tt,"feedback"),{userId:e.uid,feedback:le,createdAt:new Date}),fe(!0),_e("")}catch(ae){console.error("Error submitting feedback:",ae),q("Failed to submit feedback. Please try again.")}},Ne=async ae=>{const ce=ae.target.files[0];if(ce){$(!0);try{const we=$p(Yp,`profilePics/${e.uid}/${ce.name}`);await PS(we,ce);const be=await VS(we);d(be);const at=It(tt,"users",e.uid);await tf(at,{photoURL:be})}catch(we){console.error("Error uploading profile picture:",we),q("Failed to upload your profile picture.")}$(!1)}},V=async()=>{try{if(he!==o){const ae=It(tt,"users",e.uid);await tf(ae,{displayName:he}),l(he)}R&&R!==e.email&&await Xx(e,R),D&&await Wx(e,D),se(!1)}catch(ae){console.error("Error updating profile:",ae),q("Failed to update your profile. Please try again.")}},ie=async()=>{try{try{await e.getIdToken(!0)}catch(De){console.error("Reauthentication failed:",De),q("Please log out and log back in to delete your account.");return}const ae=Ns(wi(tt,"scores"),sn("userId","==",e.uid)),we=(await ba(ae)).docs.map(De=>qp(De.ref));await Promise.all(we);const be=$p(Yp,`profilePics/${e.uid}`);try{const De=await UM(be);if(De.items.length>0){const ot=De.items.map(He=>LM(He).then(()=>console.log(`Deleted file: ${He.fullPath}`)).catch(Ht=>{console.error(`Failed to delete file ${He.fullPath}:`,Ht)}));await Promise.all(ot)}else console.log(`No files found in ${be.fullPath}`)}catch(De){console.error("Storage deletion failed:",De)}const at=It(tt,"users",e.uid);await qp(at),await eN(e),r("/")}catch(ae){console.error("Error deleting account:",ae),ae.code==="auth/requires-recent-login"?q("Please log out and log back in to delete your account."):q("Failed to delete your account. Please try again.")}};if(t)return _.jsx(kn,{styleType:"default",className:"min-h-screen flex items-center justify-center",children:_.jsx(B4,{})});const ge=I&&!isNaN(new Date(I).getTime())?j4(L4(I)):"N/A";return _.jsxs(kn,{styleType:"default",className:"min-h-screen bg-gray-50 py-8 px-4",children:[_.jsxs("div",{className:"max-w-md mx-auto",children:[_.jsx("header",{className:"mb-8 text-center",children:_.jsx(oe,{as:"h1",styleType:"primary",className:"text-3xl font-bold",children:"Profile"})}),U&&_.jsx(oe,{as:"p",styleType:"danger",className:"mb-6 text-center",children:U}),J?_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"default",className:"block mb-2 font-semibold",children:"Username"}),_.jsx("input",{type:"text",value:he,onChange:ae=>k(ae.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your username"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"default",className:"block mb-2 font-semibold",children:"Email"}),_.jsx("input",{type:"email",value:R,onChange:ae=>S(ae.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"default",className:"block mb-2 font-semibold",children:"New Password"}),_.jsx("input",{type:"password",value:D,onChange:ae=>N(ae.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter a new password (optional)"})]}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx(Ze,{styleType:"primary",onClick:V,className:"flex-1 py-3 text-lg",children:"Save Changes"}),_.jsx(Ze,{styleType:"secondary",onClick:()=>se(!1),className:"flex-1 py-3 text-lg",children:"Cancel"})]})]}):_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[_.jsxs("div",{className:"flex items-center space-x-4",children:[h?_.jsx("img",{src:h,alt:"Profile",className:"w-20 h-20 rounded-full object-cover aspect-square border border-gray-300"}):_.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center border border-gray-300",children:_.jsx(oe,{as:"p",styleType:"secondary",className:"text-xl",children:"No Pic"})}),_.jsx("input",{type:"file",onChange:Ne,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Username:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:o})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Email:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:e.email})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Sex:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:p||"Not set"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Profession:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:E||"Not set"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Date of Birth:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:I||"Not set"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"h2",styleType:"primary",className:"font-bold",children:"Athlete Category:"}),_.jsx(oe,{as:"p",styleType:"secondary",children:ge})]}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx(Ze,{styleType:"primary",onClick:()=>{k(o),S(e.email),N(""),se(!0)},className:"flex-1 py-3 text-lg",children:"Edit Profile"}),_.jsx(Ze,{styleType:"danger",onClick:()=>K(!0),className:"flex-1 py-3 text-lg",children:"Delete Account"})]})]}),j&&!J&&_.jsxs("div",{className:"space-y-2 mt-6",children:[_.jsx(oe,{as:"p",styleType:"danger",className:"text-center",children:"Are you sure? This will delete all your data and cannot be undone."}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx(Ze,{styleType:"danger",onClick:ie,className:"flex-1 py-2",children:"Yes, Delete"}),_.jsx(Ze,{styleType:"secondary",onClick:()=>K(!1),className:"flex-1 py-2",children:"Cancel"})]})]})]}),_.jsxs("div",{className:"mt-8",children:[_.jsx(Ze,{styleType:"primary",onClick:()=>x(!M),className:"w-full py-3 text-lg",children:M?"Hide Feedback Form":"Send Feedback / Report Issue"}),M&&_.jsx("div",{className:"mt-4",children:Z?_.jsx(oe,{as:"p",styleType:"secondary",className:"mb-4",children:"Thank you for your feedback!"}):_.jsxs(_.Fragment,{children:[_.jsx("textarea",{value:le,onChange:ae=>_e(ae.target.value),placeholder:"Enter your feedback or report any issues here...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),_.jsxs("div",{className:"flex space-x-4 mt-2",children:[_.jsx(Ze,{styleType:"primary",onClick:de,className:"flex-1 py-2",children:"Submit Feedback"}),_.jsx(Ze,{styleType:"secondary",onClick:()=>x(!1),className:"flex-1 py-2",children:"Cancel"})]})]})})]})]})},F4=()=>{const[r,e]=L.useState(""),[t,s]=L.useState(""),[o,l]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(!1),[E,w]=L.useState(""),I=Lr(),C=["Medical professional","Educator","CrossFit trainer","Military veteran","Active-duty military","Law enforcement officer","Firefighter","CrossFit affiliate owner","First responder","Not listed"],P=async U=>{const q=U.target.files[0];if(q){g(!0);try{const j=$p(Yp,`profilePics/${Qe.currentUser.uid}/${q.name}`);await PS(j,q);const K=await VS(j);d(K)}catch(j){console.error("Error uploading profile picture:",j),w("Failed to upload profile picture.")}g(!1)}},$=async U=>{if(U.preventDefault(),!r||!t||!o||!h){w("Please complete all fields, including adding a profile picture.");return}try{const q=It(tt,"users",Qe.currentUser.uid);await ef(q,{sex:r,profession:t,dob:o,photoURL:h,isMember:!0,profileCompleted:!0},{merge:!0}),I("/home")}catch(q){console.error("Error saving additional details:",q),w("Failed to save details. Please try again.")}};return _.jsxs(kn,{styleType:"default",className:"min-h-screen p-4",children:[_.jsx(oe,{as:"h1",styleType:"primary",className:"text-3xl font-bold mb-4",children:"Additional Details"}),_.jsxs("form",{onSubmit:$,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Select your sex:"}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"sex",value:"Male",checked:r==="Male",onChange:()=>e("Male"),className:"mr-2"}),"Male"]}),_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"sex",value:"Female",checked:r==="Female",onChange:()=>e("Female"),className:"mr-2"}),"Female"]})]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Select your profession:"}),_.jsxs("select",{value:t,onChange:U=>s(U.target.value),className:"p-2 border border-gray-300 rounded w-full",children:[_.jsx("option",{value:"",children:"-- Select Profession --"}),C.map((U,q)=>_.jsx("option",{value:U,children:U},q))]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Date of Birth:"}),_.jsx("input",{type:"date",value:o,onChange:U=>l(U.target.value),className:"p-2 border border-gray-300 rounded w-full"})]}),_.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[_.jsx("label",{htmlFor:"profilePicInput",className:"cursor-pointer",children:h?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:h,alt:"Profile Preview",className:"w-32 h-32 rounded-full mb-2 object-cover border border-gray-300"}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-blue-500 hover:underline",children:"Change Photo"})]}):_.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border border-gray-300",children:_.jsx(oe,{as:"p",styleType:"secondary",className:"text-lg",children:"Choose Photo"})})}),_.jsx("input",{id:"profilePicInput",type:"file",onChange:P,className:"hidden",accept:"image/*"}),p&&_.jsx(oe,{as:"p",styleType:"default",className:"text-sm text-gray-500",children:"Uploading..."})]}),E&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm",children:E}),_.jsx(Ze,{styleType:"primary",type:"submit",className:"w-full",children:"Save Details"})]})]})},q4=r=>{if(typeof r!="number"||r<0)return{rounds:0,extraReps:0};const e=Math.floor((-5+Math.sqrt(25+12*r))/6),t=e*(3*e+5),s=r-t;return{rounds:e,extraReps:s}};class H4 extends _s.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){var e;return this.state.hasError?_.jsxs("div",{className:"p-4",children:[_.jsx("h1",{children:"Something went wrong."}),_.jsx("p",{children:(e=this.state.error)==null?void 0:e.toString()})]}):this.props.children}}const bo=r=>{const e=Number(r);if(isNaN(e)||e<0)return"";const t=Math.floor(e/60),s=e%60,o=t.toString().padStart(2,"0"),l=s.toString().padStart(2,"0");return`${o}:${l}`},wo=(r,e)=>{const t=Number(r)||0,s=Number(e)||0;return t*60+s},G4=()=>{var q;const r=Lr(),t=((q=Ri().state)==null?void 0:q.workoutName)||"25.1",[s,o]=L.useState(null),[l,h]=L.useState(!1),[d,p]=L.useState(null),[g,E]=L.useState(""),[w,I]=L.useState(""),[C,P]=L.useState({scaling:"RX",totalReps:"",didFinish:!1,finishMinutes:"",finishSeconds:"",tiebreakMinutes:"",tiebreakSeconds:"",nonCompleteReps:""});L.useEffect(()=>{(async()=>{if(!Qe.currentUser)return;const K=wi(tt,"scores"),J=Ns(K,sn("userId","==",Qe.currentUser.uid),sn("workoutName","==",t)),se=await ba(J);if(se.empty)o(null);else{const he=se.docs[0];p(he.id);const k=he.data();o(k),P(R=>({...R,scaling:k.scaling||"RX",totalReps:k.totalReps?k.totalReps.toString():"",didFinish:!!k.finishTime,finishMinutes:k.finishTime?Math.floor(k.finishTime/60).toString().padStart(2,"0"):"",finishSeconds:k.finishTime?(k.finishTime%60).toString().padStart(2,"0"):"",tiebreakMinutes:k.tiebreakTime?Math.floor(k.tiebreakTime/60).toString().padStart(2,"0"):"",tiebreakSeconds:k.tiebreakTime?(k.tiebreakTime%60).toString().padStart(2,"0"):"",nonCompleteReps:k.totalReps?k.totalReps.toString():""})),h(!1)}})()},[t]);const $=async j=>{var J,se,he;j.preventDefault(),E("");let K={};if(t==="25.1"){const k=Number(C.totalReps)||0;if(isNaN(k)){E("Please enter a valid number for reps.");return}const{rounds:R,extraReps:S}=q4(k);K={workoutName:t,totalReps:k,rounds:R,extraReps:S,scaling:C.scaling||"RX",completed:!0,createdAt:ap(),userId:(J=Qe.currentUser)==null?void 0:J.uid}}else if(t==="25.2")if(C.didFinish){if(!C.finishMinutes||!C.finishSeconds){E("Please enter your finish time in minutes and seconds.");return}if(!C.tiebreakMinutes||!C.tiebreakSeconds){E("Please enter your tiebreak time in minutes and seconds.");return}const k=wo(C.finishMinutes,C.finishSeconds),R=wo(C.tiebreakMinutes,C.tiebreakSeconds);K={workoutName:t,finishTime:k,tiebreakTime:R,scaling:C.scaling||"RX",completed:!0,createdAt:ap(),userId:(se=Qe.currentUser)==null?void 0:se.uid}}else{const k=Number(C.nonCompleteReps)||0;if(isNaN(k)){E("Please enter a valid number for total reps.");return}if(!C.tiebreakMinutes||!C.tiebreakSeconds){E("Please enter your tiebreak time in minutes and seconds.");return}const R=wo(C.tiebreakMinutes,C.tiebreakSeconds);K={workoutName:t,totalReps:k,tiebreakTime:R,scaling:C.scaling||"RX",completed:!1,createdAt:ap(),userId:(he=Qe.currentUser)==null?void 0:he.uid}}try{if(s&&d&&l){const k=It(tt,"scores",d);await tf(k,K),o({...s,...K}),h(!1),I("Score updated successfully!")}else if(!s){const k=await vS(wi(tt,"scores"),K);p(k.id),o(K),I("Score submitted successfully!")}r("/home",{replace:!0}),window.location.reload()}catch(k){console.error("Error saving score:",k),E("Error submitting score. Please try again.")}},U=async()=>{if(!(!d||!window.confirm("Are you sure you want to delete your score?")))try{const K=It(tt,"scores",d);await qp(K),o(null),p(null),I("Score deleted successfully."),r("/home",{replace:!0}),window.location.reload()}catch(K){console.error("Error deleting score:",K),E("Failed to delete score. Please try again.")}};return s&&!l?_.jsxs(kn,{className:"p-4",children:[_.jsxs(oe,{as:"h1",className:"text-3xl font-bold mb-4",children:["Your Score for ",t]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Scaling:"})," ",s.scaling]}),t==="25.1"&&_.jsxs(_.Fragment,{children:[_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Total Reps:"})," ",s.totalReps]}),_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Rounds + Reps:"})," ",`${s.rounds} rounds + ${s.extraReps} reps`]})]}),t==="25.2"&&s.completed&&_.jsxs(_.Fragment,{children:[_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Finish Time:"})," ",bo(s.finishTime)]}),_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Tiebreak Time:"})," ",bo(s.tiebreakTime)]})]}),t==="25.2"&&!s.completed&&_.jsxs(_.Fragment,{children:[_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Total Reps:"})," ",s.totalReps]}),_.jsxs(oe,{as:"p",styleType:"default",children:[_.jsx("strong",{children:"Tiebreak Time:"})," ",bo(s.tiebreakTime)]})]}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx(Ze,{styleType:"primary",onClick:()=>h(!0),className:"w-full",children:"Edit Score"}),_.jsx(Ze,{styleType:"danger",onClick:U,className:"w-full",children:"Delete Score"})]})]})]}):_.jsxs(kn,{className:"p-4",children:[_.jsxs(oe,{as:"h1",className:"text-3xl font-bold mb-4",children:[s?"Edit":"Enter"," Score for ",t]}),_.jsxs("form",{onSubmit:$,className:"space-y-4",children:[t==="25.1"&&_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Enter Total Reps:"}),_.jsx("input",{type:"number",placeholder:"e.g. 150",value:C.totalReps,onChange:j=>P({...C,totalReps:j.target.value}),className:"p-2 border border-gray-300 rounded w-full"})]}),t==="25.2"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Did you complete the workout?"}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"didFinish",value:"yes",checked:C.didFinish===!0,onChange:()=>P({...C,didFinish:!0}),className:"mr-2"}),"Yes"]}),_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"didFinish",value:"no",checked:C.didFinish===!1,onChange:()=>P({...C,didFinish:!1}),className:"mr-2"}),"No"]})]})]}),C.didFinish?_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Enter Finish Time:"}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("input",{type:"text",placeholder:"MM",maxLength:2,value:C.finishMinutes,onChange:j=>P({...C,finishMinutes:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"}),_.jsx("input",{type:"text",placeholder:"SS",maxLength:2,value:C.finishSeconds,onChange:j=>P({...C,finishSeconds:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"})]}),C.finishMinutes&&C.finishSeconds&&_.jsxs(oe,{as:"p",styleType:"default",className:"text-sm mt-1",children:["Formatted:"," ",bo(wo(C.finishMinutes,C.finishSeconds))]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Enter Tiebreak Time:"}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("input",{type:"text",placeholder:"MM",maxLength:2,value:C.tiebreakMinutes,onChange:j=>P({...C,tiebreakMinutes:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"}),_.jsx("input",{type:"text",placeholder:"SS",maxLength:2,value:C.tiebreakSeconds,onChange:j=>P({...C,tiebreakSeconds:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"})]}),C.tiebreakMinutes&&C.tiebreakSeconds&&_.jsxs(oe,{as:"p",styleType:"default",className:"text-sm mt-1",children:["Formatted:"," ",bo(wo(C.tiebreakMinutes,C.tiebreakSeconds))]})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Enter Total Reps Completed:"}),_.jsx("input",{type:"number",placeholder:"e.g. 150",value:C.nonCompleteReps,onChange:j=>P({...C,nonCompleteReps:j.target.value}),className:"p-2 border border-gray-300 rounded w-full"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Enter Tiebreak Time:"}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("input",{type:"text",placeholder:"MM",maxLength:2,value:C.tiebreakMinutes,onChange:j=>P({...C,tiebreakMinutes:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"}),_.jsx("input",{type:"text",placeholder:"SS",maxLength:2,value:C.tiebreakSeconds,onChange:j=>P({...C,tiebreakSeconds:j.target.value}),className:"p-2 border border-gray-300 rounded w-1/3 text-center"})]}),C.tiebreakMinutes&&C.tiebreakSeconds&&_.jsxs(oe,{as:"p",styleType:"default",className:"text-sm mt-1",children:["Formatted:"," ",bo(wo(C.tiebreakMinutes,C.tiebreakSeconds))]})]})]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-1",children:"Select Scaling:"}),_.jsxs("select",{value:C.scaling||"RX",onChange:j=>P({...C,scaling:j.target.value}),className:"p-2 border border-gray-300 rounded w-full",children:[_.jsx("option",{value:"RX",children:"RX"}),_.jsx("option",{value:"Scaled",children:"Scaled"}),_.jsx("option",{value:"Foundations",children:"Foundations"})]})]}),g&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm",children:g}),w&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm",children:w}),_.jsx(Ze,{styleType:"primary",type:"submit",className:"w-full",children:s?"Update Score":"Submit Score"})]})]})},$4=()=>_.jsx(H4,{children:_.jsx(G4,{})}),K4=()=>{const[r,e]=L.useState(""),[t,s]=L.useState(""),[o,l]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(null),[E,w]=L.useState(!1),I=Lr(),C=q=>q?q.trim().split(/\s+/).map(K=>K.length===0?"":K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "):"",P=q=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q),$=q=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/.test(q),U=async q=>{if(q.preventDefault(),!r.trim()){g("Name is required.");return}if(!P(t)){g("Please enter a valid email address.");return}if(!$(o)){g("Password must be at least 6 characters, including uppercase, lowercase, number, and special character.");return}if(o!==h){g("Passwords do not match.");return}try{const K=(await Yx(Qe,t,o)).user,J=C(r);await ef(It(tt,"users",K.uid),{uid:K.uid,displayName:J,email:K.email,photoURL:null,isMember:!1,onLeaderBoard:!1,createdAt:new Date}),I("/additionaldetails")}catch(j){console.error("Signup Error:",j),g(j.message)}};return _.jsxs(kn,{styleType:"default",className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 px-6 py-10 max-w-screen-lg",children:[_.jsx("div",{className:"mb-8",children:_.jsx("img",{src:aA,alt:"Seven Springs CrossFit Logo",className:"w-40 h-40 mx-auto mb-4"})}),_.jsx("div",{className:"mb-8",children:_.jsx("img",{src:Ff,alt:"Seven Springs CrossFit Logo",className:"w-40 h-40 mx-auto"})}),_.jsxs("form",{onSubmit:U,className:"w-full max-w-md mx-auto mb-4 space-y-4",children:[_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-2 font-semibold text-gray-700",children:"Name"}),_.jsx("input",{type:"text",placeholder:"Full Name",value:r,onChange:q=>e(q.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-2 font-semibold text-gray-700",children:"Email"}),_.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:q=>s(q.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-2 font-semibold text-gray-700",children:"Password"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:E?"text":"password",placeholder:"Password",value:o,onChange:q=>l(q.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),_.jsx("button",{type:"button",onClick:()=>w(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:E?_.jsx(TE,{className:"text-lg"}):_.jsx(EE,{className:"text-lg"})})]})]}),_.jsxs("div",{children:[_.jsx(oe,{as:"label",styleType:"secondary",className:"block mb-2 font-semibold text-gray-700",children:"Confirm Password"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:E?"text":"password",placeholder:"Confirm Password",value:h,onChange:q=>d(q.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),_.jsx("button",{type:"button",onChange:()=>w(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:E?_.jsx(TE,{className:"text-lg"}):_.jsx(EE,{className:"text-lg"})})]})]}),p&&_.jsx(oe,{as:"p",styleType:"danger",className:"text-sm mb-2",children:p}),_.jsx(Ze,{styleType:"primary",className:"w-full py-3",type:"submit",children:"Sign Up"}),_.jsx(oe,{as:"p",styleType:"secondary",className:"text-sm text-center",children:_.jsx(yu,{to:"/login",className:"text-blue-500 hover:underline",children:"Already have an account? Sign in"})})]})]})},Y4=()=>_.jsxs(kn,{styleType:"default",className:"min-h-screen w-screen",children:[_.jsx("div",{className:"flex justify-center my-4",children:_.jsx("img",{src:Ff,alt:"Good Shepard Studios Logo",className:"w-40 h-40 mx-auto mb-4"})}),_.jsxs("div",{className:"container mx-auto py-8 px-4",children:[_.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Good Shepard Studios - Privacy Policy and Terms of Service"}),_.jsxs("p",{className:"mb-6",children:[_.jsx("strong",{children:"Effective Date:"})," February 28, 2025"]}),_.jsxs("section",{className:"mb-8",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Privacy Policy"}),_.jsx("p",{className:"mb-4",children:'At Good Shepard Studios ("we", "our", "us"), your privacy is our priority. This Privacy Policy outlines how we collect, use, and safeguard your data when you use our application.'}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Information We Collect"}),_.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Personal Information:"})," Data such as your name, email address, and other details you voluntarily provide."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Usage Data:"})," Automatically collected data including IP addresses, browser details, and usage patterns."]})]}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"How We Use Your Information"}),_.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[_.jsx("li",{children:"To deliver and improve our services."}),_.jsx("li",{children:"To communicate updates, features, or important notices."}),_.jsx("li",{children:"To analyze trends and enhance your user experience."})]}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Data Security"}),_.jsx("p",{className:"mb-4",children:"We implement industry-standard security measures to protect your data. However, please note that no method of data transmission over the Internet is completely secure."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Changes to Our Privacy Policy"}),_.jsx("p",{className:"mb-4",children:"We may update this policy periodically. Any changes will be posted here along with the updated effective date."})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Terms of Service"}),_.jsx("p",{className:"mb-4",children:"By accessing our application, you agree to abide by these Terms of Service. If you do not agree, please refrain from using our services."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"License and Use"}),_.jsx("p",{className:"mb-4",children:"Good Shepard Studios grants you a non-exclusive, non-transferable license to use our application for personal or internal business purposes."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"User Responsibilities"}),_.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[_.jsx("li",{children:"Maintain the confidentiality of your login credentials."}),_.jsx("li",{children:"Use the application in accordance with all applicable laws."}),_.jsx("li",{children:"Refrain from activities that may harm or disrupt the service."})]}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Disclaimer of Warranties"}),_.jsx("p",{className:"mb-4",children:'The application is provided "as is" without any warranties, express or implied. We do not guarantee uninterrupted or error-free service.'}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Limitation of Liability"}),_.jsx("p",{className:"mb-4",children:"To the fullest extent permitted by law, Good Shepard Studios shall not be liable for any indirect, incidental, or consequential damages arising from your use of the application."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Modifications and Termination"}),_.jsx("p",{className:"mb-4",children:"We reserve the right to modify these terms at any time. Continued use of our application constitutes acceptance of any changes. We may suspend or terminate access if these terms are violated."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Governing Law"}),_.jsx("p",{className:"mb-4",children:"These terms are governed by the laws of [Your Jurisdiction]. Please replace this placeholder with the appropriate legal jurisdiction."}),_.jsx("h3",{className:"text-xl font-medium mb-2",children:"Contact Information"}),_.jsxs("p",{className:"mb-4",children:["If you have any questions regarding these terms, please contact us at"," ",_.jsx("a",{href:"mailto:your-email@example.com",className:"text-blue-500 hover:underline",children:"jbucaria1@gmail.com"}),"."]})]})]}),_.jsx(cA,{})]}),Q4=()=>_.jsx(c4,{children:_.jsx(f4,{children:_.jsxs(iI,{children:[_.jsx(d4,{}),_.jsxs(M1,{children:[_.jsx(Cr,{path:"/",element:_.jsx(bE,{})}),_.jsx(Cr,{path:"/home",element:_.jsx(P4,{})}),_.jsx(Cr,{path:"/leaderboard",element:_.jsx(U4,{})}),_.jsx(Cr,{path:"/settings",element:_.jsx(z4,{})}),_.jsx(Cr,{path:"/additionaldetails",element:_.jsx(F4,{})}),_.jsx(Cr,{path:"/signup",element:_.jsx(K4,{})}),_.jsx(Cr,{path:"/scoreentry",element:_.jsx($4,{})}),_.jsx(Cr,{path:"/login",element:_.jsx(bE,{})}),_.jsx(Cr,{path:"/privacyandterms",element:_.jsx(Y4,{})})]})]})})});HR.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(Q4,{})}));
